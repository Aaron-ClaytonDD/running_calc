{"version":3,"file":"static/js/main.affc8851.js","mappings":"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okC,EAAuB1mB,YACrBsmB,GACEhE,EACA5C,EACA6G,EACAC,GAEFK,GAAwCvE,EAAc5C,GACnB,EAArCgH,EAAuB1mB,YACrBsmB,GACEhE,EACA5C,EACA6G,EACAC,IAEAE,EAAuB1mB,aAAe,EACxC8mB,GACExE,EACA5C,EACA6G,EACAC,EACA,KAAmC,MAA5B9G,EAAazE,gBAEpB,KAARx7C,GACE0mD,GACEzG,EAAav9B,UACbu9B,GAEJ,MACF,KAAK,GACH4G,GACEhE,EACA5C,EACA6G,EACAC,GAEM,KAAR/mD,GACE4mD,GAA8B3G,EAAav9B,UAAWu9B,GACxD,MACF,QACE4G,GACEhE,EACA5C,EACA6G,EACAC,GAGR,CACA,SAASM,GACPb,EACA3B,EACAyC,EACAC,EACAd,GAIA,IAFAA,EACEA,GAAgC,KAAkC,MAA3B5B,EAAYrJ,cAChDqJ,EAAcA,EAAY9+C,MAAO,OAAS8+C,GAAe,CAC5D,IAAIhC,EAAe2D,EACjBvG,EAAe4E,EACfiC,EAAiBQ,EACjBP,EAAuBQ,EACvBvnD,EAAQigD,EAAajgD,MACvB,OAAQigD,EAAa99B,KACnB,KAAK,EACL,KAAK,GACL,KAAK,GACHklC,GACExE,EACA5C,EACA6G,EACAC,EACAN,GAEFzG,GAA0B,EAAGC,GAC7B,MACF,KAAK,GACH,MACF,KAAK,GACH,IAAIzd,EAAWyd,EAAa72B,UAC5B,OAAS62B,EAAap9B,cACK,EAAvB2f,EAASjC,YACP8mB,GACExE,EACA5C,EACA6G,EACAC,EACAN,GAEFW,GACEvE,EACA5C,IAEFzd,EAASjC,aAAe,EAC1B8mB,GACExE,EACA5C,EACA6G,EACAC,EACAN,IAENA,GACU,KAARzmD,GACA0mD,GACEzG,EAAav9B,UACbu9B,GAEJ,MACF,KAAK,GACHoH,GACExE,EACA5C,EACA6G,EACAC,EACAN,GAEFA,GACU,KAARzmD,GACA4mD,GAA8B3G,EAAav9B,UAAWu9B,GACxD,MACF,QACEoH,GACExE,EACA5C,EACA6G,EACAC,EACAN,GAGN5B,EAAcA,EAAY5hC,OAC5B,CACF,CACA,SAASm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","sources":["../node_modules/@datadog/browser-core/src/tools/catchUserErrors.ts","../node_modules/@datadog/browser-core/src/domain/connectivity/connectivity.ts","../node_modules/react/jsx-runtime.js","../node_modules/@datadog/browser-core/src/tools/utils/functionUtils.ts","../node_modules/@datadog/browser-core/src/boot/init.ts","../node_modules/@datadog/browser-core/src/tools/monitor.ts","../node_modules/@datadog/browser-core/src/tools/timer.ts","../node_modules/@datadog/browser-core/src/tools/utils/polyfills.ts","../node_modules/@datadog/browser-rum/src/domain/replayStats.ts","../node_modules/@datadog/browser-core/src/tools/utils/urlPolyfill.ts","../node_modules/@datadog/browser-core/src/transport/sendWithRetryStrategy.ts","../node_modules/@datadog/browser-core/src/transport/httpRequest.ts","../node_modules/@datadog/browser-core/src/tools/utils/typeUtils.ts","../node_modules/@datadog/browser-core/src/browser/runOnReadyState.ts","../node_modules/react/cjs/react-jsx-runtime.production.js","../node_modules/@datadog/browser-core/src/tools/instrumentMethod.ts","../node_modules/@datadog/browser-core/src/tools/mergeInto.ts","../node_modules/@datadog/browser-core/src/tools/experimentalFeatures.ts","../node_modules/@datadog/browser-core/src/tools/getZoneJsOriginalValue.ts","../node_modules/react/cjs/react.production.js","../node_modules/react-dom/client.js","../node_modules/@datadog/browser-core/src/domain/configuration/intakeSites.ts","../node_modules/@datadog/browser-core/src/tools/stackTrace/computeStackTrace.ts","../node_modules/@datadog/browser-core/src/browser/addEventListener.ts","../node_modules/react/index.js","../node_modules/@datadog/browser-core/src/browser/pageExitObservable.ts","../node_modules/@datadog/browser-core/src/tools/stackTrace/handlingStack.ts","../node_modules/@datadog/browser-core/src/domain/error/error.ts","../node_modules/scheduler/cjs/scheduler.production.js","../node_modules/@datadog/browser-core/src/tools/serialisation/sanitize.ts","../node_modules/@datadog/browser-core/src/tools/requestIdleCallback.ts","../node_modules/react-dom/cjs/react-dom.production.js","../node_modules/@datadog/browser-core/src/domain/error/error.types.ts","../node_modules/@datadog/browser-core/src/tools/utils/timeUtils.ts","../node_modules/@datadog/browser-core/src/tools/utils/objectUtils.ts","../node_modules/@datadog/browser-core/src/tools/utils/numberUtils.ts","../node_modules/@datadog/browser-core/src/tools/utils/arrayUtils.ts","../node_modules/react-dom/cjs/react-dom-client.production.js","../node_modules/@datadog/browser-core/src/tools/sendToExtension.ts","../node_modules/@datadog/browser-core/src/transport/eventBridge.ts","../node_modules/@datadog/browser-core/src/tools/getGlobalObject.ts","../node_modules/@datadog/browser-core/src/tools/boundedBuffer.ts","../node_modules/@datadog/browser-core/src/tools/utils/browserDetection.ts","../node_modules/react-dom/index.js","../node_modules/@datadog/browser-core/src/domain/context/customerDataTracker.ts","../node_modules/@datadog/browser-core/src/domain/context/contextManager.ts","../node_modules/@datadog/browser-core/src/domain/context/contextUtils.ts","../node_modules/@datadog/browser-core/src/domain/trackingConsent.ts","../node_modules/@datadog/browser-core/src/domain/context/storeContextManager.ts","../node_modules/@datadog/browser-core/src/tools/encoder.ts","../node_modules/@datadog/browser-core/src/boot/displayAlreadyInitializedError.ts","../node_modules/@datadog/browser-core/src/tools/utils/stringUtils.ts","../node_modules/@datadog/browser-rum-core/src/domain/vital/vitalCollection.ts","../node_modules/@datadog/browser-rum-core/src/domain/plugins.ts","../node_modules/@datadog/browser-core/src/browser/fetchObservable.ts","../node_modules/@datadog/browser-core/src/browser/cookie.ts","../node_modules/@datadog/browser-core/src/domain/synthetics/syntheticsWorkerValues.ts","../node_modules/@datadog/browser-core/src/domain/session/storeStrategies/sessionStoreStrategy.ts","../node_modules/@datadog/browser-core/src/domain/session/sessionConstants.ts","../node_modules/@datadog/browser-core/src/domain/session/sessionStateValidation.ts","../node_modules/@datadog/browser-core/src/domain/session/sessionState.ts","../node_modules/@datadog/browser-core/src/domain/session/oldCookiesMigration.ts","../node_modules/@datadog/browser-core/src/domain/session/storeStrategies/sessionInCookie.ts","../node_modules/@datadog/browser-core/src/domain/session/storeStrategies/sessionInLocalStorage.ts","../node_modules/@datadog/browser-core/src/domain/session/sessionStoreOperations.ts","../node_modules/@datadog/browser-core/src/domain/session/sessionStore.ts","../node_modules/@datadog/browser-core/src/domain/configuration/endpointBuilder.ts","../node_modules/@datadog/browser-core/src/domain/configuration/tags.ts","../node_modules/@datadog/browser-core/src/domain/configuration/transportConfiguration.ts","../node_modules/@datadog/browser-core/src/domain/configuration/configuration.ts","../node_modules/@datadog/browser-core/src/tools/matchOption.ts","../node_modules/@datadog/browser-rum-core/src/domain/tracing/identifier.ts","../node_modules/@datadog/browser-rum-core/src/domain/tracing/sampler.ts","../node_modules/@datadog/browser-rum-core/src/domain/tracing/encodedContext.ts","../node_modules/@datadog/browser-rum-core/src/domain/tracing/tracer.ts","../node_modules/@datadog/browser-rum-core/src/domain/configuration/configuration.ts","../node_modules/@datadog/browser-rum-core/src/domain/configuration/remoteConfiguration.ts","../node_modules/@datadog/browser-rum-core/src/boot/preStartRum.ts","../node_modules/@datadog/browser-rum-core/src/boot/rumPublicApi.ts","../node_modules/@datadog/browser-rum-core/src/domain/contexts/commonContext.ts","../node_modules/@datadog/browser-rum-core/src/browser/domMutationObservable.ts","../node_modules/@datadog/browser-core/src/domain/eventRateLimiter/createEventRateLimiter.ts","../node_modules/@datadog/browser-rum-core/src/domain/limitModification.ts","../node_modules/@datadog/browser-rum-core/src/domain/assembly.ts","../node_modules/@datadog/browser-rum-core/src/domain/lifeCycle.ts","../node_modules/@datadog/browser-core/src/tools/abstractLifeCycle.ts","../node_modules/@datadog/browser-core/src/tools/valueHistory.ts","../node_modules/@datadog/browser-rum-core/src/domain/contexts/viewHistory.ts","../node_modules/@datadog/browser-core/src/browser/xhrObservable.ts","../node_modules/@datadog/browser-rum-core/src/domain/resource/resourceUtils.ts","../node_modules/@datadog/browser-rum-core/src/domain/requestCollection.ts","../node_modules/@datadog/browser-core/src/tools/readBytesFromStream.ts","../node_modules/@datadog/browser-rum-core/src/domain/discardNegativeDuration.ts","../node_modules/@datadog/browser-rum-core/src/domain/trackEventCounts.ts","../node_modules/@datadog/browser-rum-core/src/browser/firstInputPolyfill.ts","../node_modules/@datadog/browser-rum-core/src/browser/performanceObservable.ts","../node_modules/@datadog/browser-rum-core/src/domain/waitPageActivityEnd.ts","../node_modules/@datadog/browser-rum-core/src/browser/htmlDomUtils.ts","../node_modules/@datadog/browser-rum-core/src/domain/privacy.ts","../node_modules/@datadog/browser-rum-core/src/domain/action/getActionNameFromElement.ts","../node_modules/@datadog/browser-rum-core/src/domain/getSelectorFromElement.ts","../node_modules/@datadog/browser-rum-core/src/domain/action/clickChain.ts","../node_modules/@datadog/browser-rum-core/src/domain/action/listenActionEvents.ts","../node_modules/@datadog/browser-rum-core/src/domain/action/computeFrustration.ts","../node_modules/@datadog/browser-rum-core/src/domain/action/interactionSelectorCache.ts","../node_modules/@datadog/browser-rum-core/src/domain/action/trackClickActions.ts","../node_modules/@datadog/browser-rum-core/src/domain/action/actionCollection.ts","../node_modules/@datadog/browser-core/src/domain/error/trackRuntimeError.ts","../node_modules/@datadog/browser-core/src/domain/console/consoleObservable.ts","../node_modules/@datadog/browser-core/src/domain/report/reportObservable.ts","../node_modules/@datadog/browser-rum-core/src/domain/error/errorCollection.ts","../node_modules/@datadog/browser-rum-core/src/domain/error/trackConsoleError.ts","../node_modules/@datadog/browser-rum-core/src/domain/error/trackReportError.ts","../node_modules/@datadog/browser-core/src/tools/taskQueue.ts","../node_modules/@datadog/browser-rum-core/src/domain/resource/matchRequestResourceEntry.ts","../node_modules/@datadog/browser-rum-core/src/domain/tracing/getDocumentTraceId.ts","../node_modules/@datadog/browser-rum-core/src/browser/performanceUtils.ts","../node_modules/@datadog/browser-rum-core/src/domain/resource/retrieveInitialDocumentResourceTiming.ts","../node_modules/@datadog/browser-rum-core/src/domain/resource/resourceCollection.ts","../node_modules/@datadog/browser-rum-core/src/domain/view/viewMetrics/trackFirstContentfulPaint.ts","../node_modules/@datadog/browser-rum-core/src/domain/view/viewMetrics/trackNavigationTimings.ts","../node_modules/@datadog/browser-rum-core/src/domain/view/viewMetrics/trackLargestContentfulPaint.ts","../node_modules/@datadog/browser-rum-core/src/domain/view/viewMetrics/trackFirstHidden.ts","../node_modules/@datadog/browser-rum-core/src/domain/view/viewMetrics/trackInitialViewMetrics.ts","../node_modules/@datadog/browser-rum-core/src/domain/view/viewMetrics/trackFirstInput.ts","../node_modules/@datadog/browser-rum-core/src/domain/view/viewMetrics/trackCumulativeLayoutShift.ts","../node_modules/@datadog/browser-rum-core/src/domain/view/viewMetrics/interactionCountPolyfill.ts","../node_modules/@datadog/browser-rum-core/src/domain/view/viewMetrics/trackInteractionToNextPaint.ts","../node_modules/@datadog/browser-rum-core/src/browser/scroll.ts","../node_modules/@datadog/browser-rum-core/src/browser/viewportObservable.ts","../node_modules/@datadog/browser-rum-core/src/domain/view/viewMetrics/trackScrollMetrics.ts","../node_modules/@datadog/browser-rum-core/src/domain/view/viewMetrics/trackCommonViewMetrics.ts","../node_modules/@datadog/browser-rum-core/src/domain/view/viewMetrics/trackLoadingTime.ts","../node_modules/@datadog/browser-rum-core/src/domain/view/trackViews.ts","../node_modules/@datadog/browser-rum-core/src/domain/view/trackViewEventCounts.ts","../node_modules/@datadog/browser-rum-core/src/domain/view/viewCollection.ts","../node_modules/@datadog/browser-core/src/domain/session/sessionManager.ts","../node_modules/@datadog/browser-rum-core/src/domain/rumSessionManager.ts","../node_modules/@datadog/browser-core/src/transport/batch.ts","../node_modules/@datadog/browser-core/src/transport/flushController.ts","../node_modules/@datadog/browser-rum-core/src/transport/startRumBatch.ts","../node_modules/@datadog/browser-core/src/transport/startBatchWithReplica.ts","../node_modules/@datadog/browser-rum-core/src/domain/contexts/urlContexts.ts","../node_modules/@datadog/browser-rum-core/src/browser/locationChangeObservable.ts","../node_modules/@datadog/browser-rum-core/src/domain/contexts/featureFlagContext.ts","../node_modules/@datadog/browser-rum-core/src/domain/startCustomerDataTelemetry.ts","../node_modules/@datadog/browser-rum-core/src/domain/contexts/pageStateHistory.ts","../node_modules/@datadog/browser-rum-core/src/browser/cookieObservable.ts","../node_modules/@datadog/browser-rum-core/src/domain/contexts/ciVisibilityContext.ts","../node_modules/@datadog/browser-rum-core/src/domain/contexts/syntheticsContext.ts","../node_modules/@datadog/browser-rum-core/src/boot/startRum.ts","../node_modules/@datadog/browser-rum-core/src/hooks.ts","../node_modules/@datadog/browser-rum-core/src/transport/startRumEventBridge.ts","../node_modules/@datadog/browser-rum-core/src/browser/windowOpenObservable.ts","../node_modules/@datadog/browser-rum-core/src/domain/contexts/displayContext.ts","../node_modules/@datadog/browser-rum-core/src/domain/longAnimationFrame/longAnimationFrameCollection.ts","../node_modules/@datadog/browser-rum-core/src/domain/longTask/longTaskCollection.ts","../node_modules/@datadog/browser-rum-core/src/domain/contexts/internalContext.ts","../node_modules/@datadog/browser-rum-core/src/domain/getSessionReplayUrl.ts","../node_modules/scheduler/index.js","../node_modules/@datadog/browser-core/src/tools/serialisation/jsonStringify.ts","../node_modules/@datadog/browser-core/src/tools/display.ts","../node_modules/@datadog/browser-core/src/tools/utils/responseUtils.ts","../node_modules/@datadog/browser-core/src/tools/observable.ts","../node_modules/@datadog/browser-core/src/domain/telemetry/rawTelemetryEvent.types.ts","../node_modules/@datadog/browser-core/src/domain/telemetry/telemetry.ts","../node_modules/@datadog/browser-core/src/tools/utils/byteUtils.ts","../webpack/bootstrap","../webpack/runtime/define property getters","../webpack/runtime/ensure chunk","../webpack/runtime/get javascript chunk filename","../webpack/runtime/get mini-css chunk filename","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/load script","../webpack/runtime/make namespace object","../webpack/runtime/publicPath","../webpack/runtime/jsonp chunk loading","../node_modules/@datadog/browser-rum/src/domain/deflate/deflateEncoder.ts","../node_modules/@datadog/browser-rum/src/domain/scriptLoadingError.ts","../node_modules/@datadog/browser-rum/src/domain/deflate/deflateWorker.ts","../node_modules/@datadog/browser-rum/src/boot/isBrowserSupported.ts","../node_modules/@datadog/browser-rum/src/domain/getSessionReplayLink.ts","../node_modules/@datadog/browser-rum/src/boot/postStartStrategy.ts","../node_modules/@datadog/browser-rum/src/boot/lazyLoadRecorder.ts","../node_modules/@datadog/browser-rum/src/entries/main.ts","../node_modules/@datadog/browser-rum/src/boot/recorderApi.ts","../node_modules/@datadog/browser-rum/src/boot/preStartStrategy.ts","../node_modules/@datadog/browser-rum/src/boot/profilerApi.ts","../node_modules/@datadog/browser-rum/src/domain/profiling/profilingSupported.ts","../node_modules/@datadog/browser-rum/src/domain/profiling/lazyLoadProfiler.ts","App.js","reportWebVitals.js","index.js"],"sourcesContent":["import { display } from './display'\n\nexport function catchUserErrors<Args extends any[], R>(fn: (...args: Args) => R, errorMsg: string) {\n  return (...args: Args) => {\n    try {\n      return fn(...args)\n    } catch (err) {\n      display.error(errorMsg, err)\n    }\n  }\n}\n","export type NetworkInterface = 'bluetooth' | 'cellular' | 'ethernet' | 'none' | 'wifi' | 'wimax' | 'other' | 'unknown'\nexport type EffectiveType = 'slow-2g' | '2g' | '3g' | '4g'\n\ninterface BrowserNavigator extends Navigator {\n  connection?: NetworkInformation\n}\n\nexport interface NetworkInformation {\n  type?: NetworkInterface\n  effectiveType?: EffectiveType\n  saveData: boolean\n}\n\nexport interface Connectivity {\n  status: 'connected' | 'not_connected'\n  interfaces?: NetworkInterface[]\n  effective_type?: EffectiveType\n  [key: string]: unknown\n}\n\nexport function getConnectivity(): Connectivity {\n  const navigator = window.navigator as BrowserNavigator\n  return {\n    status: navigator.onLine ? 'connected' : 'not_connected',\n    interfaces: navigator.connection && navigator.connection.type ? [navigator.connection.type] : undefined,\n    effective_type: navigator.connection?.effectiveType,\n  }\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","import type { TimeoutId } from '../timer'\nimport { setTimeout, clearTimeout } from '../timer'\n\n// use lodash API\nexport function throttle<T extends (...args: any[]) => void>(\n  fn: T,\n  wait: number,\n  options?: { leading?: boolean; trailing?: boolean }\n) {\n  const needLeadingExecution = options && options.leading !== undefined ? options.leading : true\n  const needTrailingExecution = options && options.trailing !== undefined ? options.trailing : true\n  let inWaitPeriod = false\n  let pendingExecutionWithParameters: Parameters<T> | undefined\n  let pendingTimeoutId: TimeoutId\n\n  return {\n    throttled: (...parameters: Parameters<T>) => {\n      if (inWaitPeriod) {\n        pendingExecutionWithParameters = parameters\n        return\n      }\n      if (needLeadingExecution) {\n        fn(...parameters)\n      } else {\n        pendingExecutionWithParameters = parameters\n      }\n      inWaitPeriod = true\n      pendingTimeoutId = setTimeout(() => {\n        if (needTrailingExecution && pendingExecutionWithParameters) {\n          fn(...pendingExecutionWithParameters)\n        }\n        inWaitPeriod = false\n        pendingExecutionWithParameters = undefined\n      }, wait)\n    },\n    cancel: () => {\n      clearTimeout(pendingTimeoutId)\n      inWaitPeriod = false\n      pendingExecutionWithParameters = undefined\n    },\n  }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nexport function noop() {}\n","import { catchUserErrors } from '../tools/catchUserErrors'\nimport { setDebugMode } from '../tools/monitor'\nimport { display } from '../tools/display'\n\n// replaced at build time\ndeclare const __BUILD_ENV__SDK_VERSION__: string\n\nexport interface PublicApi {\n  /**\n   * Version of the Logs browser SDK\n   */\n  version: string\n\n  /**\n   * [For CDN async setup] Early RUM API calls must be wrapped in the `window.DD_RUM.onReady()` callback. This ensures the code only gets executed once the SDK is properly loaded.\n   *\n   * See [CDN async setup](https://docs.datadoghq.com/real_user_monitoring/browser/#cdn-async) for further information.\n   */\n  onReady: (callback: () => void) => void\n}\n\nexport function makePublicApi<T extends PublicApi>(stub: Omit<T, keyof PublicApi>): T {\n  const publicApi = {\n    version: __BUILD_ENV__SDK_VERSION__,\n    // This API method is intentionally not monitored, since the only thing executed is the\n    // user-provided 'callback'.  All SDK usages executed in the callback should be monitored, and\n    // we don't want to interfere with the user uncaught exceptions.\n    onReady(callback: () => void) {\n      callback()\n    },\n    ...stub,\n  }\n\n  // Add a \"hidden\" property to set debug mode. We define it that way to hide it\n  // as much as possible but of course it's not a real protection.\n  Object.defineProperty(publicApi, '_setDebug', {\n    get() {\n      return setDebugMode\n    },\n    enumerable: false,\n  })\n\n  return publicApi as T\n}\n\nexport function defineGlobal<Global, Name extends keyof Global>(global: Global, name: Name, api: Global[Name]) {\n  const existingGlobalVariable = global[name] as { q?: Array<() => void>; version?: string } | undefined\n  if (existingGlobalVariable && !existingGlobalVariable.q && existingGlobalVariable.version) {\n    display.warn('SDK is loaded more than once. This is unsupported and might have unexpected behavior.')\n  }\n  global[name] = api\n  if (existingGlobalVariable && existingGlobalVariable.q) {\n    existingGlobalVariable.q.forEach((fn) => catchUserErrors(fn, 'onReady callback threw an error:')())\n  }\n}\n","import { display } from './display'\n\nlet onMonitorErrorCollected: undefined | ((error: unknown) => void)\nlet debugMode = false\n\nexport function startMonitorErrorCollection(newOnMonitorErrorCollected: (error: unknown) => void) {\n  onMonitorErrorCollected = newOnMonitorErrorCollected\n}\n\nexport function setDebugMode(newDebugMode: boolean) {\n  debugMode = newDebugMode\n}\n\nexport function resetMonitor() {\n  onMonitorErrorCollected = undefined\n  debugMode = false\n}\n\nexport function monitored<T extends (...params: any[]) => unknown>(\n  _: any,\n  __: string,\n  descriptor: TypedPropertyDescriptor<T>\n) {\n  const originalMethod = descriptor.value!\n  descriptor.value = function (this: any, ...args: Parameters<T>) {\n    const decorated = onMonitorErrorCollected ? monitor(originalMethod) : originalMethod\n    return decorated.apply(this, args) as ReturnType<T>\n  } as T\n}\n\nexport function monitor<T extends (...args: any[]) => any>(fn: T): T {\n  return function (this: any) {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n    return callMonitored(fn, this, arguments as unknown as Parameters<T>)\n  } as unknown as T // consider output type has input type\n}\n\nexport function callMonitored<T extends (...args: any[]) => any>(\n  fn: T,\n  context: ThisParameterType<T>,\n  args: Parameters<T>\n): ReturnType<T> | undefined\nexport function callMonitored<T extends (this: void) => any>(fn: T): ReturnType<T> | undefined\nexport function callMonitored<T extends (...args: any[]) => any>(\n  fn: T,\n  context?: any,\n  args?: any\n): ReturnType<T> | undefined {\n  try {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n    return fn.apply(context, args)\n  } catch (e) {\n    monitorError(e)\n  }\n}\n\nexport function monitorError(e: unknown) {\n  displayIfDebugEnabled(e)\n  if (onMonitorErrorCollected) {\n    try {\n      onMonitorErrorCollected(e)\n    } catch (e) {\n      displayIfDebugEnabled(e)\n    }\n  }\n}\n\nexport function displayIfDebugEnabled(...args: any[]) {\n  if (debugMode) {\n    display.error('[MONITOR]', ...args)\n  }\n}\n","import { getZoneJsOriginalValue } from './getZoneJsOriginalValue'\nimport { monitor } from './monitor'\nimport { getGlobalObject } from './getGlobalObject'\n\nexport type TimeoutId = ReturnType<typeof globalThis.setTimeout>\n\nexport function setTimeout(callback: () => void, delay?: number): TimeoutId {\n  return getZoneJsOriginalValue(getGlobalObject(), 'setTimeout')(monitor(callback), delay)\n}\n\nexport function clearTimeout(timeoutId: TimeoutId | undefined) {\n  getZoneJsOriginalValue(getGlobalObject(), 'clearTimeout')(timeoutId)\n}\n\nexport function setInterval(callback: () => void, delay?: number): TimeoutId {\n  return getZoneJsOriginalValue(getGlobalObject(), 'setInterval')(monitor(callback), delay)\n}\n\nexport function clearInterval(timeoutId: TimeoutId | undefined) {\n  getZoneJsOriginalValue(getGlobalObject(), 'clearInterval')(timeoutId)\n}\n","export function findLast<T, S extends T>(\n  array: T[],\n  predicate: (item: T, index: number, array: T[]) => item is S\n): S | undefined {\n  for (let i = array.length - 1; i >= 0; i -= 1) {\n    const item = array[i]\n    if (predicate(item, i, array)) {\n      return item\n    }\n  }\n  return undefined\n}\n\n// Keep the following wrapper functions as it can be mangled and will result in smaller bundle size that using\n// the native Object.values and Object.entries directly\n\nexport function objectValues<T = unknown>(object: { [key: string]: T }) {\n  return Object.values(object)\n}\n\nexport function objectEntries<T = unknown>(object: { [key: string]: T }): Array<[string, T]> {\n  return Object.entries(object)\n}\n","import type { ReplayStats } from '@datadog/browser-rum-core'\n\nexport const MAX_STATS_HISTORY = 1000\nlet statsPerView: Map<string, ReplayStats> | undefined\n\nexport function getSegmentsCount(viewId: string) {\n  return getOrCreateReplayStats(viewId).segments_count\n}\n\nexport function addSegment(viewId: string) {\n  getOrCreateReplayStats(viewId).segments_count += 1\n}\n\nexport function addRecord(viewId: string) {\n  getOrCreateReplayStats(viewId).records_count += 1\n}\n\nexport function addWroteData(viewId: string, additionalBytesCount: number) {\n  getOrCreateReplayStats(viewId).segments_total_raw_size += additionalBytesCount\n}\n\nexport function getReplayStats(viewId: string) {\n  return statsPerView?.get(viewId)\n}\n\nexport function resetReplayStats() {\n  statsPerView = undefined\n}\n\nfunction getOrCreateReplayStats(viewId: string) {\n  if (!statsPerView) {\n    statsPerView = new Map()\n  }\n\n  let replayStats: ReplayStats\n  if (statsPerView.has(viewId)) {\n    replayStats = statsPerView.get(viewId)!\n  } else {\n    replayStats = {\n      records_count: 0,\n      segments_count: 0,\n      segments_total_raw_size: 0,\n    }\n    statsPerView.set(viewId, replayStats)\n    if (statsPerView.size > MAX_STATS_HISTORY) {\n      deleteOldestStats()\n    }\n  }\n\n  return replayStats\n}\n\nfunction deleteOldestStats() {\n  if (!statsPerView) {\n    return\n  }\n  const toDelete = statsPerView.keys().next().value\n  if (toDelete) {\n    statsPerView.delete(toDelete)\n  }\n}\n","import { jsonStringify } from '../serialisation/jsonStringify'\n\nexport function normalizeUrl(url: string) {\n  return buildUrl(url, location.href).href\n}\n\nexport function isValidUrl(url: string) {\n  try {\n    return !!buildUrl(url)\n  } catch {\n    return false\n  }\n}\n\nexport function getPathName(url: string) {\n  const pathname = buildUrl(url).pathname\n  return pathname[0] === '/' ? pathname : `/${pathname}`\n}\n\nexport function buildUrl(url: string, base?: string) {\n  const supportedURL = getSupportedUrl()\n  if (supportedURL) {\n    try {\n      return base !== undefined ? new supportedURL(url, base) : new supportedURL(url)\n    } catch (error) {\n      throw new Error(`Failed to construct URL: ${String(error)} ${jsonStringify({ url, base })!}`)\n    }\n  }\n  if (base === undefined && !/:/.test(url)) {\n    throw new Error(`Invalid URL: '${url}'`)\n  }\n  let doc = document\n  const anchorElement = doc.createElement('a')\n  if (base !== undefined) {\n    doc = document.implementation.createHTMLDocument('')\n    const baseElement = doc.createElement('base')\n    baseElement.href = base\n    doc.head.appendChild(baseElement)\n    doc.body.appendChild(anchorElement)\n  }\n  anchorElement.href = url\n  return anchorElement\n}\n\nconst originalURL = URL\nlet isURLSupported: boolean | undefined\nfunction getSupportedUrl(): typeof URL | undefined {\n  if (isURLSupported === undefined) {\n    try {\n      const url = new originalURL('http://test/path')\n      isURLSupported = url.href === 'http://test/path'\n    } catch {\n      isURLSupported = false\n    }\n  }\n  return isURLSupported ? originalURL : undefined\n}\n","import type { TrackType } from '../domain/configuration'\nimport { setTimeout } from '../tools/timer'\nimport { clocksNow, ONE_MINUTE, ONE_SECOND } from '../tools/utils/timeUtils'\nimport { ONE_MEBI_BYTE, ONE_KIBI_BYTE } from '../tools/utils/byteUtils'\nimport { isServerError } from '../tools/utils/responseUtils'\nimport type { RawError } from '../domain/error/error.types'\nimport { ErrorSource } from '../domain/error/error.types'\nimport type { Payload, HttpResponse } from './httpRequest'\n\nexport const MAX_ONGOING_BYTES_COUNT = 80 * ONE_KIBI_BYTE\nexport const MAX_ONGOING_REQUESTS = 32\nexport const MAX_QUEUE_BYTES_COUNT = 3 * ONE_MEBI_BYTE\nexport const MAX_BACKOFF_TIME = ONE_MINUTE\nexport const INITIAL_BACKOFF_TIME = ONE_SECOND\n\nconst enum TransportStatus {\n  UP,\n  FAILURE_DETECTED,\n  DOWN,\n}\n\nconst enum RetryReason {\n  AFTER_SUCCESS,\n  AFTER_RESUME,\n}\n\nexport interface RetryState {\n  transportStatus: TransportStatus\n  currentBackoffTime: number\n  bandwidthMonitor: ReturnType<typeof newBandwidthMonitor>\n  queuedPayloads: ReturnType<typeof newPayloadQueue>\n  queueFullReported: boolean\n}\n\ntype SendStrategy = (payload: Payload, onResponse: (r: HttpResponse) => void) => void\n\nexport function sendWithRetryStrategy(\n  payload: Payload,\n  state: RetryState,\n  sendStrategy: SendStrategy,\n  trackType: TrackType,\n  reportError: (error: RawError) => void\n) {\n  if (\n    state.transportStatus === TransportStatus.UP &&\n    state.queuedPayloads.size() === 0 &&\n    state.bandwidthMonitor.canHandle(payload)\n  ) {\n    send(payload, state, sendStrategy, {\n      onSuccess: () => retryQueuedPayloads(RetryReason.AFTER_SUCCESS, state, sendStrategy, trackType, reportError),\n      onFailure: () => {\n        state.queuedPayloads.enqueue(payload)\n        scheduleRetry(state, sendStrategy, trackType, reportError)\n      },\n    })\n  } else {\n    state.queuedPayloads.enqueue(payload)\n  }\n}\n\nfunction scheduleRetry(\n  state: RetryState,\n  sendStrategy: SendStrategy,\n  trackType: TrackType,\n  reportError: (error: RawError) => void\n) {\n  if (state.transportStatus !== TransportStatus.DOWN) {\n    return\n  }\n  setTimeout(() => {\n    const payload = state.queuedPayloads.first()\n    send(payload, state, sendStrategy, {\n      onSuccess: () => {\n        state.queuedPayloads.dequeue()\n        state.currentBackoffTime = INITIAL_BACKOFF_TIME\n        retryQueuedPayloads(RetryReason.AFTER_RESUME, state, sendStrategy, trackType, reportError)\n      },\n      onFailure: () => {\n        state.currentBackoffTime = Math.min(MAX_BACKOFF_TIME, state.currentBackoffTime * 2)\n        scheduleRetry(state, sendStrategy, trackType, reportError)\n      },\n    })\n  }, state.currentBackoffTime)\n}\n\nfunction send(\n  payload: Payload,\n  state: RetryState,\n  sendStrategy: SendStrategy,\n  { onSuccess, onFailure }: { onSuccess: () => void; onFailure: () => void }\n) {\n  state.bandwidthMonitor.add(payload)\n  sendStrategy(payload, (response) => {\n    state.bandwidthMonitor.remove(payload)\n    if (!shouldRetryRequest(response)) {\n      state.transportStatus = TransportStatus.UP\n      onSuccess()\n    } else {\n      // do not consider transport down if another ongoing request could succeed\n      state.transportStatus =\n        state.bandwidthMonitor.ongoingRequestCount > 0 ? TransportStatus.FAILURE_DETECTED : TransportStatus.DOWN\n      payload.retry = {\n        count: payload.retry ? payload.retry.count + 1 : 1,\n        lastFailureStatus: response.status,\n      }\n      onFailure()\n    }\n  })\n}\n\nfunction retryQueuedPayloads(\n  reason: RetryReason,\n  state: RetryState,\n  sendStrategy: SendStrategy,\n  trackType: TrackType,\n  reportError: (error: RawError) => void\n) {\n  if (reason === RetryReason.AFTER_SUCCESS && state.queuedPayloads.isFull() && !state.queueFullReported) {\n    reportError({\n      message: `Reached max ${trackType} events size queued for upload: ${MAX_QUEUE_BYTES_COUNT / ONE_MEBI_BYTE}MiB`,\n      source: ErrorSource.AGENT,\n      startClocks: clocksNow(),\n    })\n    state.queueFullReported = true\n  }\n  const previousQueue = state.queuedPayloads\n  state.queuedPayloads = newPayloadQueue()\n  while (previousQueue.size() > 0) {\n    sendWithRetryStrategy(previousQueue.dequeue()!, state, sendStrategy, trackType, reportError)\n  }\n}\n\nfunction shouldRetryRequest(response: HttpResponse) {\n  return (\n    response.type !== 'opaque' &&\n    ((response.status === 0 && !navigator.onLine) ||\n      response.status === 408 ||\n      response.status === 429 ||\n      isServerError(response.status))\n  )\n}\n\nexport function newRetryState(): RetryState {\n  return {\n    transportStatus: TransportStatus.UP,\n    currentBackoffTime: INITIAL_BACKOFF_TIME,\n    bandwidthMonitor: newBandwidthMonitor(),\n    queuedPayloads: newPayloadQueue(),\n    queueFullReported: false,\n  }\n}\n\nfunction newPayloadQueue() {\n  const queue: Payload[] = []\n  return {\n    bytesCount: 0,\n    enqueue(payload: Payload) {\n      if (this.isFull()) {\n        return\n      }\n      queue.push(payload)\n      this.bytesCount += payload.bytesCount\n    },\n    first() {\n      return queue[0]\n    },\n    dequeue() {\n      const payload = queue.shift()\n      if (payload) {\n        this.bytesCount -= payload.bytesCount\n      }\n      return payload\n    },\n    size() {\n      return queue.length\n    },\n    isFull() {\n      return this.bytesCount >= MAX_QUEUE_BYTES_COUNT\n    },\n  }\n}\n\nfunction newBandwidthMonitor() {\n  return {\n    ongoingRequestCount: 0,\n    ongoingByteCount: 0,\n    canHandle(payload: Payload) {\n      return (\n        this.ongoingRequestCount === 0 ||\n        (this.ongoingByteCount + payload.bytesCount <= MAX_ONGOING_BYTES_COUNT &&\n          this.ongoingRequestCount < MAX_ONGOING_REQUESTS)\n      )\n    },\n    add(payload: Payload) {\n      this.ongoingRequestCount += 1\n      this.ongoingByteCount += payload.bytesCount\n    },\n    remove(payload: Payload) {\n      this.ongoingRequestCount -= 1\n      this.ongoingByteCount -= payload.bytesCount\n    },\n  }\n}\n","import type { EndpointBuilder } from '../domain/configuration'\nimport type { Context } from '../tools/serialisation/context'\nimport { monitor, monitorError } from '../tools/monitor'\nimport type { RawError } from '../domain/error/error.types'\nimport { newRetryState, sendWithRetryStrategy } from './sendWithRetryStrategy'\n\n/**\n * Use POST request without content type to:\n * - avoid CORS preflight requests\n * - allow usage of sendBeacon\n *\n * multiple elements are sent separated by \\n in order\n * to be parsed correctly without content type header\n */\n\nexport type HttpRequest = ReturnType<typeof createHttpRequest>\n\nexport interface HttpResponse extends Context {\n  status: number\n  type?: ResponseType\n}\n\nexport interface Payload {\n  data: string | FormData | Blob\n  bytesCount: number\n  retry?: RetryInfo\n  encoding?: 'deflate'\n}\n\nexport interface RetryInfo {\n  count: number\n  lastFailureStatus: number\n}\n\nexport function createHttpRequest(\n  endpointBuilder: EndpointBuilder,\n  bytesLimit: number,\n  reportError: (error: RawError) => void\n) {\n  const retryState = newRetryState()\n  const sendStrategyForRetry = (payload: Payload, onResponse: (r: HttpResponse) => void) =>\n    fetchKeepAliveStrategy(endpointBuilder, bytesLimit, payload, onResponse)\n\n  return {\n    send: (payload: Payload) => {\n      sendWithRetryStrategy(payload, retryState, sendStrategyForRetry, endpointBuilder.trackType, reportError)\n    },\n    /**\n     * Since fetch keepalive behaves like regular fetch on Firefox,\n     * keep using sendBeaconStrategy on exit\n     */\n    sendOnExit: (payload: Payload) => {\n      sendBeaconStrategy(endpointBuilder, bytesLimit, payload)\n    },\n  }\n}\n\nfunction sendBeaconStrategy(endpointBuilder: EndpointBuilder, bytesLimit: number, payload: Payload) {\n  const canUseBeacon = !!navigator.sendBeacon && payload.bytesCount < bytesLimit\n  if (canUseBeacon) {\n    try {\n      const beaconUrl = endpointBuilder.build('beacon', payload)\n      const isQueued = navigator.sendBeacon(beaconUrl, payload.data)\n\n      if (isQueued) {\n        return\n      }\n    } catch (e) {\n      reportBeaconError(e)\n    }\n  }\n\n  fetchStrategy(endpointBuilder, payload)\n}\n\nlet hasReportedBeaconError = false\n\nfunction reportBeaconError(e: unknown) {\n  if (!hasReportedBeaconError) {\n    hasReportedBeaconError = true\n    monitorError(e)\n  }\n}\n\nexport function fetchKeepAliveStrategy(\n  endpointBuilder: EndpointBuilder,\n  bytesLimit: number,\n  payload: Payload,\n  onResponse?: (r: HttpResponse) => void\n) {\n  const canUseKeepAlive = isKeepAliveSupported() && payload.bytesCount < bytesLimit\n\n  if (canUseKeepAlive) {\n    const fetchUrl = endpointBuilder.build('fetch-keepalive', payload)\n\n    fetch(fetchUrl, { method: 'POST', body: payload.data, keepalive: true, mode: 'cors' })\n      .then(monitor((response: Response) => onResponse?.({ status: response.status, type: response.type })))\n      .catch(monitor(() => fetchStrategy(endpointBuilder, payload, onResponse)))\n  } else {\n    fetchStrategy(endpointBuilder, payload, onResponse)\n  }\n}\n\nexport function fetchStrategy(\n  endpointBuilder: EndpointBuilder,\n  payload: Payload,\n  onResponse?: (r: HttpResponse) => void\n) {\n  const fetchUrl = endpointBuilder.build('fetch', payload)\n\n  fetch(fetchUrl, { method: 'POST', body: payload.data, mode: 'cors' })\n    .then(monitor((response: Response) => onResponse?.({ status: response.status, type: response.type })))\n    .catch(monitor(() => onResponse?.({ status: 0 })))\n}\n\nfunction isKeepAliveSupported() {\n  // Request can throw, cf https://developer.mozilla.org/en-US/docs/Web/API/Request/Request#errors\n  try {\n    return window.Request && 'keepalive' in new Request('http://a')\n  } catch {\n    return false\n  }\n}\n","/**\n * Similar to `typeof`, but distinguish plain objects from `null` and arrays\n */\nexport function getType(value: unknown) {\n  if (value === null) {\n    return 'null'\n  }\n  if (Array.isArray(value)) {\n    return 'array'\n  }\n  return typeof value\n}\n","import type { Configuration } from '../domain/configuration'\nimport { noop } from '../tools/utils/functionUtils'\nimport { DOM_EVENT, addEventListener } from './addEventListener'\n\nexport function runOnReadyState(\n  configuration: Configuration,\n  expectedReadyState: 'complete' | 'interactive',\n  callback: () => void\n): { stop: () => void } {\n  if (document.readyState === expectedReadyState || document.readyState === 'complete') {\n    callback()\n    return { stop: noop }\n  }\n  const eventName = expectedReadyState === 'complete' ? DOM_EVENT.LOAD : DOM_EVENT.DOM_CONTENT_LOADED\n  return addEventListener(configuration, window, eventName, callback, { once: true })\n}\n\nexport function asyncRunOnReadyState(\n  configuration: Configuration,\n  expectedReadyState: 'complete' | 'interactive'\n): Promise<void> {\n  return new Promise((resolve) => {\n    runOnReadyState(configuration, expectedReadyState, resolve)\n  })\n}\n","/**\n * @license React\n * react-jsx-runtime.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\");\nfunction jsxProd(type, config, maybeKey) {\n  var key = null;\n  void 0 !== maybeKey && (key = \"\" + maybeKey);\n  void 0 !== config.key && (key = \"\" + config.key);\n  if (\"key\" in config) {\n    maybeKey = {};\n    for (var propName in config)\n      \"key\" !== propName && (maybeKey[propName] = config[propName]);\n  } else maybeKey = config;\n  config = maybeKey.ref;\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key,\n    ref: void 0 !== config ? config : null,\n    props: maybeKey\n  };\n}\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsx = jsxProd;\nexports.jsxs = jsxProd;\n","import { setTimeout } from './timer'\nimport { callMonitored } from './monitor'\nimport { noop } from './utils/functionUtils'\nimport { createHandlingStack } from './stackTrace/handlingStack'\n\n/**\n * Object passed to the callback of an instrumented method call. See `instrumentMethod` for more\n * info.\n */\nexport type InstrumentedMethodCall<TARGET extends { [key: string]: any }, METHOD extends keyof TARGET> = {\n  /**\n   * The target object on which the method was called.\n   */\n  target: TARGET\n\n  /**\n   * The parameters with which the method was called.\n   *\n   * Note: if needed, parameters can be mutated by the instrumentation\n   */\n  parameters: Parameters<TARGET[METHOD]>\n\n  /**\n   * Registers a callback that will be called after the original method is called, with the method\n   * result passed as argument.\n   */\n  onPostCall: (callback: PostCallCallback<TARGET, METHOD>) => void\n\n  /**\n   * The stack trace of the method call.\n   */\n  handlingStack?: string\n}\n\ntype PostCallCallback<TARGET extends { [key: string]: any }, METHOD extends keyof TARGET> = (\n  result: ReturnType<TARGET[METHOD]>\n) => void\n\n/**\n * Instruments a method on a object, calling the given callback before the original method is\n * invoked. The callback receives an object with information about the method call.\n *\n * This function makes sure that we are \"good citizens\" regarding third party instrumentations: when\n * removing the instrumentation, the original method is usually restored, but if a third party\n * instrumentation was set after ours, we keep it in place and just replace our instrumentation with\n * a noop.\n *\n * Note: it is generally better to instrument methods that are \"owned\" by the object instead of ones\n * that are inherited from the prototype chain. Example:\n * * do:    `instrumentMethod(Array.prototype, 'push', ...)`\n * * don't: `instrumentMethod([], 'push', ...)`\n *\n * This method is also used to set event handler properties (ex: window.onerror = ...), as it has\n * the same requirements as instrumenting a method:\n * * if the event handler is already set by a third party, we need to call it and not just blindly\n * override it.\n * * if the event handler is set by a third party after us, we need to keep it in place when\n * removing ours.\n *\n * @example\n *\n *  instrumentMethod(window, 'fetch', ({ target, parameters, onPostCall }) => {\n *    console.log('Before calling fetch on', target, 'with parameters', parameters)\n *\n *    onPostCall((result) => {\n *      console.log('After fetch calling on', target, 'with parameters', parameters, 'and result', result)\n *    })\n *  })\n */\nexport function instrumentMethod<TARGET extends { [key: string]: any }, METHOD extends keyof TARGET & string>(\n  targetPrototype: TARGET,\n  method: METHOD,\n  onPreCall: (this: null, callInfos: InstrumentedMethodCall<TARGET, METHOD>) => void,\n  { computeHandlingStack }: { computeHandlingStack?: boolean } = {}\n) {\n  let original = targetPrototype[method]\n\n  if (typeof original !== 'function') {\n    if (method in targetPrototype && method.startsWith('on')) {\n      original = noop as TARGET[METHOD]\n    } else {\n      return { stop: noop }\n    }\n  }\n\n  let stopped = false\n\n  const instrumentation = function (this: TARGET): ReturnType<TARGET[METHOD]> | undefined {\n    if (stopped) {\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-return, @typescript-eslint/no-unsafe-call\n      return original.apply(this, arguments as unknown as Parameters<TARGET[METHOD]>)\n    }\n\n    const parameters = Array.from(arguments) as Parameters<TARGET[METHOD]>\n\n    let postCallCallback: PostCallCallback<TARGET, METHOD> | undefined\n\n    callMonitored(onPreCall, null, [\n      {\n        target: this,\n        parameters,\n        onPostCall: (callback) => {\n          postCallCallback = callback\n        },\n        handlingStack: computeHandlingStack ? createHandlingStack('instrumented method') : undefined,\n      },\n    ])\n\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-call\n    const result = original.apply(this, parameters)\n\n    if (postCallCallback) {\n      callMonitored(postCallCallback, null, [result])\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n    return result\n  }\n\n  targetPrototype[method] = instrumentation as TARGET[METHOD]\n\n  return {\n    stop: () => {\n      stopped = true\n      // If the instrumentation has been removed by a third party, keep the last one\n      if (targetPrototype[method] === instrumentation) {\n        targetPrototype[method] = original\n      }\n    },\n  }\n}\n\nexport function instrumentSetter<TARGET extends { [key: string]: any }, PROPERTY extends keyof TARGET>(\n  targetPrototype: TARGET,\n  property: PROPERTY,\n  after: (target: TARGET, value: TARGET[PROPERTY]) => void\n) {\n  const originalDescriptor = Object.getOwnPropertyDescriptor(targetPrototype, property)\n  if (!originalDescriptor || !originalDescriptor.set || !originalDescriptor.configurable) {\n    return { stop: noop }\n  }\n\n  const stoppedInstrumentation = noop\n  let instrumentation = (target: TARGET, value: TARGET[PROPERTY]) => {\n    // put hooked setter into event loop to avoid of set latency\n    setTimeout(() => {\n      if (instrumentation !== stoppedInstrumentation) {\n        after(target, value)\n      }\n    }, 0)\n  }\n\n  const instrumentationWrapper = function (this: TARGET, value: TARGET[PROPERTY]) {\n    originalDescriptor.set!.call(this, value)\n    instrumentation(this, value)\n  }\n\n  Object.defineProperty(targetPrototype, property, {\n    set: instrumentationWrapper,\n  })\n\n  return {\n    stop: () => {\n      if (Object.getOwnPropertyDescriptor(targetPrototype, property)?.set === instrumentationWrapper) {\n        Object.defineProperty(targetPrototype, property, originalDescriptor)\n      }\n      instrumentation = stoppedInstrumentation\n    },\n  }\n}\n","import { getType } from './utils/typeUtils'\n\ntype Merged<TDestination, TSource> =\n  // case 1 - source is undefined - return destination\n  TSource extends undefined\n    ? TDestination\n    : // case 2 - destination is undefined - return source\n      TDestination extends undefined\n      ? TSource\n      : // case 3 - source is an array - see if it merges or overwrites\n        TSource extends any[]\n        ? TDestination extends any[]\n          ? TDestination & TSource\n          : TSource\n        : // case 4 - source is an object - see if it merges or overwrites\n          TSource extends object\n          ? TDestination extends object\n            ? TDestination extends any[]\n              ? TSource\n              : TDestination & TSource\n            : TSource\n          : // case 5 - cannot merge - return source\n            TSource\n\n/**\n * Iterate over source and affect its sub values into destination, recursively.\n * If the source and destination can't be merged, return source.\n */\nexport function mergeInto<D, S>(\n  destination: D,\n  source: S,\n  circularReferenceChecker = createCircularReferenceChecker()\n): Merged<D, S> {\n  // ignore the source if it is undefined\n  if (source === undefined) {\n    return destination as Merged<D, S>\n  }\n\n  if (typeof source !== 'object' || source === null) {\n    // primitive values - just return source\n    return source as Merged<D, S>\n  } else if (source instanceof Date) {\n    return new Date(source.getTime()) as unknown as Merged<D, S>\n  } else if (source instanceof RegExp) {\n    const flags =\n      source.flags ||\n      // old browsers compatibility\n      [\n        source.global ? 'g' : '',\n        source.ignoreCase ? 'i' : '',\n        source.multiline ? 'm' : '',\n        source.sticky ? 'y' : '',\n        source.unicode ? 'u' : '',\n      ].join('')\n    return new RegExp(source.source, flags) as unknown as Merged<D, S>\n  }\n\n  if (circularReferenceChecker.hasAlreadyBeenSeen(source)) {\n    // remove circular references\n    return undefined as unknown as Merged<D, S>\n  } else if (Array.isArray(source)) {\n    const merged: any[] = Array.isArray(destination) ? destination : []\n    for (let i = 0; i < source.length; ++i) {\n      merged[i] = mergeInto(merged[i], source[i], circularReferenceChecker)\n    }\n    return merged as unknown as Merged<D, S>\n  }\n\n  const merged = getType(destination) === 'object' ? (destination as Record<any, any>) : {}\n  for (const key in source) {\n    if (Object.prototype.hasOwnProperty.call(source, key)) {\n      merged[key] = mergeInto(merged[key], source[key], circularReferenceChecker)\n    }\n  }\n  return merged as unknown as Merged<D, S>\n}\n\n/**\n * A simplistic implementation of a deep clone algorithm.\n * Caveats:\n * - It doesn't maintain prototype chains - don't use with instances of custom classes.\n * - It doesn't handle Map and Set\n */\nexport function deepClone<T>(value: T): T {\n  return mergeInto(undefined, value) as T\n}\n\ntype Combined<A, B> = A extends null ? B : B extends null ? A : Merged<A, B>\n\n/*\n * Performs a deep merge of objects and arrays.\n * - Arguments won't be mutated\n * - Object and arrays in the output value are de-referenced (\"deep cloned\")\n * - Arrays values are merged index by index\n * - Objects are merged by keys\n * - Values get replaced, unless undefined\n */\nexport function combine<A, B>(a: A, b: B): Combined<A, B>\nexport function combine<A, B, C>(a: A, b: B, c: C): Combined<Combined<A, B>, C>\nexport function combine<A, B, C, D>(a: A, b: B, c: C, d: D): Combined<Combined<Combined<A, B>, C>, D>\nexport function combine<A, B, C, D, E>(\n  a: A,\n  b: B,\n  c: C,\n  d: D,\n  e: E\n): Combined<Combined<Combined<Combined<A, B>, C>, D>, E>\nexport function combine<A, B, C, D, E, F>(\n  a: A,\n  b: B,\n  c: C,\n  d: D,\n  e: E,\n  f: F\n): Combined<Combined<Combined<Combined<Combined<A, B>, C>, D>, E>, F>\nexport function combine<A, B, C, D, E, F, G>(\n  a: A,\n  b: B,\n  c: C,\n  d: D,\n  e: E,\n  f: F,\n  g: G\n): Combined<Combined<Combined<Combined<Combined<Combined<A, B>, C>, D>, E>, F>, G>\nexport function combine<A, B, C, D, E, F, G, H>(\n  a: A,\n  b: B,\n  c: C,\n  d: D,\n  e: E,\n  f: F,\n  g: G,\n  h: H\n): Combined<Combined<Combined<Combined<Combined<Combined<Combined<A, B>, C>, D>, E>, F>, G>, H>\nexport function combine(...sources: any[]): unknown {\n  let destination: any\n\n  for (const source of sources) {\n    // Ignore any undefined or null sources.\n    if (source === undefined || source === null) {\n      continue\n    }\n\n    destination = mergeInto(destination, source)\n  }\n\n  return destination as unknown\n}\n\ninterface CircularReferenceChecker {\n  hasAlreadyBeenSeen(value: any): boolean\n}\n\nfunction createCircularReferenceChecker(): CircularReferenceChecker {\n  if (typeof WeakSet !== 'undefined') {\n    const set: WeakSet<any> = new WeakSet()\n    return {\n      hasAlreadyBeenSeen(value) {\n        const has = set.has(value)\n        if (!has) {\n          set.add(value)\n        }\n        return has\n      },\n    }\n  }\n  const array: any[] = []\n  return {\n    hasAlreadyBeenSeen(value) {\n      const has = array.indexOf(value) >= 0\n      if (!has) {\n        array.push(value)\n      }\n      return has\n    },\n  }\n}\n","/**\n * LIMITATION:\n * For NPM setup, this feature flag singleton is shared between RUM and Logs product.\n * This means that an experimental flag set on the RUM product will be set on the Logs product.\n * So keep in mind that in certain configurations, your experimental feature flag may affect other products.\n *\n * FORMAT:\n * All feature flags should be snake_cased\n */\n// We want to use a real enum (i.e. not a const enum) here, to be able to check whether an arbitrary\n// string is an expected feature flag\n\nimport { objectHasValue } from './utils/objectUtils'\n\n// eslint-disable-next-line no-restricted-syntax\nexport enum ExperimentalFeature {\n  WRITABLE_RESOURCE_GRAPHQL = 'writable_resource_graphql',\n  MISSING_URL_CONTEXT_TELEMETRY = 'missing_url_context_telemetry',\n  USER_ACCOUNT_TRACE_HEADER = 'user_account_trace_header',\n  PROFILING = 'profiling',\n}\n\nconst enabledExperimentalFeatures: Set<ExperimentalFeature> = new Set()\n\nexport function initFeatureFlags(enableExperimentalFeatures: string[] | undefined) {\n  if (Array.isArray(enableExperimentalFeatures)) {\n    addExperimentalFeatures(\n      enableExperimentalFeatures.filter((flag): flag is ExperimentalFeature =>\n        objectHasValue(ExperimentalFeature, flag)\n      )\n    )\n  }\n}\n\nexport function addExperimentalFeatures(enabledFeatures: ExperimentalFeature[]): void {\n  enabledFeatures.forEach((flag) => {\n    enabledExperimentalFeatures.add(flag)\n  })\n}\n\nexport function isExperimentalFeatureEnabled(featureName: ExperimentalFeature): boolean {\n  return enabledExperimentalFeatures.has(featureName)\n}\n\nexport function resetExperimentalFeatures(): void {\n  enabledExperimentalFeatures.clear()\n}\n\nexport function getExperimentalFeatures(): Set<ExperimentalFeature> {\n  return enabledExperimentalFeatures\n}\n","import { getGlobalObject } from './getGlobalObject'\n\nexport interface BrowserWindowWithZoneJs extends Window {\n  Zone?: {\n    // All Zone.js versions expose the __symbol__ method, but we observed that some website have a\n    // 'Zone' global variable unrelated to Zone.js, so let's consider this method optional\n    // nonetheless.\n    __symbol__?: (name: string) => string\n  }\n}\n\n/**\n * Gets the original value for a DOM API that was potentially patched by Zone.js.\n *\n * Zone.js[1] is a library that patches a bunch of JS and DOM APIs. It usually stores the original\n * value of the patched functions/constructors/methods in a hidden property prefixed by\n * __zone_symbol__.\n *\n * In multiple occasions, we observed that Zone.js is the culprit of important issues leading to\n * browser resource exhaustion (memory leak, high CPU usage). This method is used as a workaround to\n * use the original DOM API instead of the one patched by Zone.js.\n *\n * [1]: https://github.com/angular/angular/tree/main/packages/zone.js\n */\nexport function getZoneJsOriginalValue<Target, Name extends keyof Target & string>(\n  target: Target,\n  name: Name\n): Target[Name] {\n  const browserWindow = getGlobalObject<BrowserWindowWithZoneJs>()\n  let original: Target[Name] | undefined\n  if (browserWindow.Zone && typeof browserWindow.Zone.__symbol__ === 'function') {\n    original = (target as any)[browserWindow.Zone.__symbol__(name)]\n  }\n  if (!original) {\n    original = target[name]\n  }\n  return original\n}\n","/**\n * @license React\n * react.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n  REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n  REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n  REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n  REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n  REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n  REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n  REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n  REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n  MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nfunction getIteratorFn(maybeIterable) {\n  if (null === maybeIterable || \"object\" !== typeof maybeIterable) return null;\n  maybeIterable =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[\"@@iterator\"];\n  return \"function\" === typeof maybeIterable ? maybeIterable : null;\n}\nvar ReactNoopUpdateQueue = {\n    isMounted: function () {\n      return !1;\n    },\n    enqueueForceUpdate: function () {},\n    enqueueReplaceState: function () {},\n    enqueueSetState: function () {}\n  },\n  assign = Object.assign,\n  emptyObject = {};\nfunction Component(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n}\nComponent.prototype.isReactComponent = {};\nComponent.prototype.setState = function (partialState, callback) {\n  if (\n    \"object\" !== typeof partialState &&\n    \"function\" !== typeof partialState &&\n    null != partialState\n  )\n    throw Error(\n      \"takes an object of state variables to update or a function which returns an object of state variables.\"\n    );\n  this.updater.enqueueSetState(this, partialState, callback, \"setState\");\n};\nComponent.prototype.forceUpdate = function (callback) {\n  this.updater.enqueueForceUpdate(this, callback, \"forceUpdate\");\n};\nfunction ComponentDummy() {}\nComponentDummy.prototype = Component.prototype;\nfunction PureComponent(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n}\nvar pureComponentPrototype = (PureComponent.prototype = new ComponentDummy());\npureComponentPrototype.constructor = PureComponent;\nassign(pureComponentPrototype, Component.prototype);\npureComponentPrototype.isPureReactComponent = !0;\nvar isArrayImpl = Array.isArray,\n  ReactSharedInternals = { H: null, A: null, T: null, S: null },\n  hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction ReactElement(type, key, self, source, owner, props) {\n  self = props.ref;\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key,\n    ref: void 0 !== self ? self : null,\n    props: props\n  };\n}\nfunction cloneAndReplaceKey(oldElement, newKey) {\n  return ReactElement(\n    oldElement.type,\n    newKey,\n    void 0,\n    void 0,\n    void 0,\n    oldElement.props\n  );\n}\nfunction isValidElement(object) {\n  return (\n    \"object\" === typeof object &&\n    null !== object &&\n    object.$$typeof === REACT_ELEMENT_TYPE\n  );\n}\nfunction escape(key) {\n  var escaperLookup = { \"=\": \"=0\", \":\": \"=2\" };\n  return (\n    \"$\" +\n    key.replace(/[=:]/g, function (match) {\n      return escaperLookup[match];\n    })\n  );\n}\nvar userProvidedKeyEscapeRegex = /\\/+/g;\nfunction getElementKey(element, index) {\n  return \"object\" === typeof element && null !== element && null != element.key\n    ? escape(\"\" + element.key)\n    : index.toString(36);\n}\nfunction noop$1() {}\nfunction resolveThenable(thenable) {\n  switch (thenable.status) {\n    case \"fulfilled\":\n      return thenable.value;\n    case \"rejected\":\n      throw thenable.reason;\n    default:\n      switch (\n        (\"string\" === typeof thenable.status\n          ? thenable.then(noop$1, noop$1)\n          : ((thenable.status = \"pending\"),\n            thenable.then(\n              function (fulfilledValue) {\n                \"pending\" === thenable.status &&\n                  ((thenable.status = \"fulfilled\"),\n                  (thenable.value = fulfilledValue));\n              },\n              function (error) {\n                \"pending\" === thenable.status &&\n                  ((thenable.status = \"rejected\"), (thenable.reason = error));\n              }\n            )),\n        thenable.status)\n      ) {\n        case \"fulfilled\":\n          return thenable.value;\n        case \"rejected\":\n          throw thenable.reason;\n      }\n  }\n  throw thenable;\n}\nfunction mapIntoArray(children, array, escapedPrefix, nameSoFar, callback) {\n  var type = typeof children;\n  if (\"undefined\" === type || \"boolean\" === type) children = null;\n  var invokeCallback = !1;\n  if (null === children) invokeCallback = !0;\n  else\n    switch (type) {\n      case \"bigint\":\n      case \"string\":\n      case \"number\":\n        invokeCallback = !0;\n        break;\n      case \"object\":\n        switch (children.$$typeof) {\n          case REACT_ELEMENT_TYPE:\n          case REACT_PORTAL_TYPE:\n            invokeCallback = !0;\n            break;\n          case REACT_LAZY_TYPE:\n            return (\n              (invokeCallback = children._init),\n              mapIntoArray(\n                invokeCallback(children._payload),\n                array,\n                escapedPrefix,\n                nameSoFar,\n                callback\n              )\n            );\n        }\n    }\n  if (invokeCallback)\n    return (\n      (callback = callback(children)),\n      (invokeCallback =\n        \"\" === nameSoFar ? \".\" + getElementKey(children, 0) : nameSoFar),\n      isArrayImpl(callback)\n        ? ((escapedPrefix = \"\"),\n          null != invokeCallback &&\n            (escapedPrefix =\n              invokeCallback.replace(userProvidedKeyEscapeRegex, \"$&/\") + \"/\"),\n          mapIntoArray(callback, array, escapedPrefix, \"\", function (c) {\n            return c;\n          }))\n        : null != callback &&\n          (isValidElement(callback) &&\n            (callback = cloneAndReplaceKey(\n              callback,\n              escapedPrefix +\n                (null == callback.key ||\n                (children && children.key === callback.key)\n                  ? \"\"\n                  : (\"\" + callback.key).replace(\n                      userProvidedKeyEscapeRegex,\n                      \"$&/\"\n                    ) + \"/\") +\n                invokeCallback\n            )),\n          array.push(callback)),\n      1\n    );\n  invokeCallback = 0;\n  var nextNamePrefix = \"\" === nameSoFar ? \".\" : nameSoFar + \":\";\n  if (isArrayImpl(children))\n    for (var i = 0; i < children.length; i++)\n      (nameSoFar = children[i]),\n        (type = nextNamePrefix + getElementKey(nameSoFar, i)),\n        (invokeCallback += mapIntoArray(\n          nameSoFar,\n          array,\n          escapedPrefix,\n          type,\n          callback\n        ));\n  else if (((i = getIteratorFn(children)), \"function\" === typeof i))\n    for (\n      children = i.call(children), i = 0;\n      !(nameSoFar = children.next()).done;\n\n    )\n      (nameSoFar = nameSoFar.value),\n        (type = nextNamePrefix + getElementKey(nameSoFar, i++)),\n        (invokeCallback += mapIntoArray(\n          nameSoFar,\n          array,\n          escapedPrefix,\n          type,\n          callback\n        ));\n  else if (\"object\" === type) {\n    if (\"function\" === typeof children.then)\n      return mapIntoArray(\n        resolveThenable(children),\n        array,\n        escapedPrefix,\n        nameSoFar,\n        callback\n      );\n    array = String(children);\n    throw Error(\n      \"Objects are not valid as a React child (found: \" +\n        (\"[object Object]\" === array\n          ? \"object with keys {\" + Object.keys(children).join(\", \") + \"}\"\n          : array) +\n        \"). If you meant to render a collection of children, use an array instead.\"\n    );\n  }\n  return invokeCallback;\n}\nfunction mapChildren(children, func, context) {\n  if (null == children) return children;\n  var result = [],\n    count = 0;\n  mapIntoArray(children, result, \"\", \"\", function (child) {\n    return func.call(context, child, count++);\n  });\n  return result;\n}\nfunction lazyInitializer(payload) {\n  if (-1 === payload._status) {\n    var ctor = payload._result;\n    ctor = ctor();\n    ctor.then(\n      function (moduleObject) {\n        if (0 === payload._status || -1 === payload._status)\n          (payload._status = 1), (payload._result = moduleObject);\n      },\n      function (error) {\n        if (0 === payload._status || -1 === payload._status)\n          (payload._status = 2), (payload._result = error);\n      }\n    );\n    -1 === payload._status && ((payload._status = 0), (payload._result = ctor));\n  }\n  if (1 === payload._status) return payload._result.default;\n  throw payload._result;\n}\nvar reportGlobalError =\n  \"function\" === typeof reportError\n    ? reportError\n    : function (error) {\n        if (\n          \"object\" === typeof window &&\n          \"function\" === typeof window.ErrorEvent\n        ) {\n          var event = new window.ErrorEvent(\"error\", {\n            bubbles: !0,\n            cancelable: !0,\n            message:\n              \"object\" === typeof error &&\n              null !== error &&\n              \"string\" === typeof error.message\n                ? String(error.message)\n                : String(error),\n            error: error\n          });\n          if (!window.dispatchEvent(event)) return;\n        } else if (\n          \"object\" === typeof process &&\n          \"function\" === typeof process.emit\n        ) {\n          process.emit(\"uncaughtException\", error);\n          return;\n        }\n        console.error(error);\n      };\nfunction noop() {}\nexports.Children = {\n  map: mapChildren,\n  forEach: function (children, forEachFunc, forEachContext) {\n    mapChildren(\n      children,\n      function () {\n        forEachFunc.apply(this, arguments);\n      },\n      forEachContext\n    );\n  },\n  count: function (children) {\n    var n = 0;\n    mapChildren(children, function () {\n      n++;\n    });\n    return n;\n  },\n  toArray: function (children) {\n    return (\n      mapChildren(children, function (child) {\n        return child;\n      }) || []\n    );\n  },\n  only: function (children) {\n    if (!isValidElement(children))\n      throw Error(\n        \"React.Children.only expected to receive a single React element child.\"\n      );\n    return children;\n  }\n};\nexports.Component = Component;\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.Profiler = REACT_PROFILER_TYPE;\nexports.PureComponent = PureComponent;\nexports.StrictMode = REACT_STRICT_MODE_TYPE;\nexports.Suspense = REACT_SUSPENSE_TYPE;\nexports.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =\n  ReactSharedInternals;\nexports.act = function () {\n  throw Error(\"act(...) is not supported in production builds of React.\");\n};\nexports.cache = function (fn) {\n  return function () {\n    return fn.apply(null, arguments);\n  };\n};\nexports.cloneElement = function (element, config, children) {\n  if (null === element || void 0 === element)\n    throw Error(\n      \"The argument must be a React element, but you passed \" + element + \".\"\n    );\n  var props = assign({}, element.props),\n    key = element.key,\n    owner = void 0;\n  if (null != config)\n    for (propName in (void 0 !== config.ref && (owner = void 0),\n    void 0 !== config.key && (key = \"\" + config.key),\n    config))\n      !hasOwnProperty.call(config, propName) ||\n        \"key\" === propName ||\n        \"__self\" === propName ||\n        \"__source\" === propName ||\n        (\"ref\" === propName && void 0 === config.ref) ||\n        (props[propName] = config[propName]);\n  var propName = arguments.length - 2;\n  if (1 === propName) props.children = children;\n  else if (1 < propName) {\n    for (var childArray = Array(propName), i = 0; i < propName; i++)\n      childArray[i] = arguments[i + 2];\n    props.children = childArray;\n  }\n  return ReactElement(element.type, key, void 0, void 0, owner, props);\n};\nexports.createContext = function (defaultValue) {\n  defaultValue = {\n    $$typeof: REACT_CONTEXT_TYPE,\n    _currentValue: defaultValue,\n    _currentValue2: defaultValue,\n    _threadCount: 0,\n    Provider: null,\n    Consumer: null\n  };\n  defaultValue.Provider = defaultValue;\n  defaultValue.Consumer = {\n    $$typeof: REACT_CONSUMER_TYPE,\n    _context: defaultValue\n  };\n  return defaultValue;\n};\nexports.createElement = function (type, config, children) {\n  var propName,\n    props = {},\n    key = null;\n  if (null != config)\n    for (propName in (void 0 !== config.key && (key = \"\" + config.key), config))\n      hasOwnProperty.call(config, propName) &&\n        \"key\" !== propName &&\n        \"__self\" !== propName &&\n        \"__source\" !== propName &&\n        (props[propName] = config[propName]);\n  var childrenLength = arguments.length - 2;\n  if (1 === childrenLength) props.children = children;\n  else if (1 < childrenLength) {\n    for (var childArray = Array(childrenLength), i = 0; i < childrenLength; i++)\n      childArray[i] = arguments[i + 2];\n    props.children = childArray;\n  }\n  if (type && type.defaultProps)\n    for (propName in ((childrenLength = type.defaultProps), childrenLength))\n      void 0 === props[propName] &&\n        (props[propName] = childrenLength[propName]);\n  return ReactElement(type, key, void 0, void 0, null, props);\n};\nexports.createRef = function () {\n  return { current: null };\n};\nexports.forwardRef = function (render) {\n  return { $$typeof: REACT_FORWARD_REF_TYPE, render: render };\n};\nexports.isValidElement = isValidElement;\nexports.lazy = function (ctor) {\n  return {\n    $$typeof: REACT_LAZY_TYPE,\n    _payload: { _status: -1, _result: ctor },\n    _init: lazyInitializer\n  };\n};\nexports.memo = function (type, compare) {\n  return {\n    $$typeof: REACT_MEMO_TYPE,\n    type: type,\n    compare: void 0 === compare ? null : compare\n  };\n};\nexports.startTransition = function (scope) {\n  var prevTransition = ReactSharedInternals.T,\n    currentTransition = {};\n  ReactSharedInternals.T = currentTransition;\n  try {\n    var returnValue = scope(),\n      onStartTransitionFinish = ReactSharedInternals.S;\n    null !== onStartTransitionFinish &&\n      onStartTransitionFinish(currentTransition, returnValue);\n    \"object\" === typeof returnValue &&\n      null !== returnValue &&\n      \"function\" === typeof returnValue.then &&\n      returnValue.then(noop, reportGlobalError);\n  } catch (error) {\n    reportGlobalError(error);\n  } finally {\n    ReactSharedInternals.T = prevTransition;\n  }\n};\nexports.unstable_useCacheRefresh = function () {\n  return ReactSharedInternals.H.useCacheRefresh();\n};\nexports.use = function (usable) {\n  return ReactSharedInternals.H.use(usable);\n};\nexports.useActionState = function (action, initialState, permalink) {\n  return ReactSharedInternals.H.useActionState(action, initialState, permalink);\n};\nexports.useCallback = function (callback, deps) {\n  return ReactSharedInternals.H.useCallback(callback, deps);\n};\nexports.useContext = function (Context) {\n  return ReactSharedInternals.H.useContext(Context);\n};\nexports.useDebugValue = function () {};\nexports.useDeferredValue = function (value, initialValue) {\n  return ReactSharedInternals.H.useDeferredValue(value, initialValue);\n};\nexports.useEffect = function (create, deps) {\n  return ReactSharedInternals.H.useEffect(create, deps);\n};\nexports.useId = function () {\n  return ReactSharedInternals.H.useId();\n};\nexports.useImperativeHandle = function (ref, create, deps) {\n  return ReactSharedInternals.H.useImperativeHandle(ref, create, deps);\n};\nexports.useInsertionEffect = function (create, deps) {\n  return ReactSharedInternals.H.useInsertionEffect(create, deps);\n};\nexports.useLayoutEffect = function (create, deps) {\n  return ReactSharedInternals.H.useLayoutEffect(create, deps);\n};\nexports.useMemo = function (create, deps) {\n  return ReactSharedInternals.H.useMemo(create, deps);\n};\nexports.useOptimistic = function (passthrough, reducer) {\n  return ReactSharedInternals.H.useOptimistic(passthrough, reducer);\n};\nexports.useReducer = function (reducer, initialArg, init) {\n  return ReactSharedInternals.H.useReducer(reducer, initialArg, init);\n};\nexports.useRef = function (initialValue) {\n  return ReactSharedInternals.H.useRef(initialValue);\n};\nexports.useState = function (initialState) {\n  return ReactSharedInternals.H.useState(initialState);\n};\nexports.useSyncExternalStore = function (\n  subscribe,\n  getSnapshot,\n  getServerSnapshot\n) {\n  return ReactSharedInternals.H.useSyncExternalStore(\n    subscribe,\n    getSnapshot,\n    getServerSnapshot\n  );\n};\nexports.useTransition = function () {\n  return ReactSharedInternals.H.useTransition();\n};\nexports.version = \"19.0.0\";\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom-client.production.js');\n} else {\n  module.exports = require('./cjs/react-dom-client.development.js');\n}\n","export type Site =\n  | 'datadoghq.com'\n  | 'us3.datadoghq.com'\n  | 'us5.datadoghq.com'\n  | 'datadoghq.eu'\n  | 'ddog-gov.com'\n  | 'ap1.datadoghq.com'\n\nexport const INTAKE_SITE_STAGING: Site = 'datad0g.com' as Site\nexport const INTAKE_SITE_FED_STAGING: Site = 'dd0g-gov.com' as Site\nexport const INTAKE_SITE_US1: Site = 'datadoghq.com'\nexport const INTAKE_SITE_EU1: Site = 'datadoghq.eu'\nexport const INTAKE_SITE_US1_FED: Site = 'ddog-gov.com'\n\nexport const PCI_INTAKE_HOST_US1 = 'pci.browser-intake-datadoghq.com'\nexport const INTAKE_URL_PARAMETERS = ['ddsource', 'ddtags']\n","/**\n * Cross-browser stack trace computation.\n *\n * Reference implementation: https://github.com/csnover/TraceKit/blob/04530298073c3823de72deb0b97e7b38ca7bcb59/tracekit.js\n */\n\nexport interface StackFrame {\n  url?: string\n  func?: string\n  /** The arguments passed to the function, if known. */\n  args?: string[]\n  line?: number\n  column?: number\n  /** An array of source code lines; the middle element corresponds to the correct line. */\n  context?: string[]\n}\n\nexport interface StackTrace {\n  name?: string\n  message?: string\n  url?: string\n  stack: StackFrame[]\n  incomplete?: boolean\n  partial?: boolean\n}\n\nconst UNKNOWN_FUNCTION = '?'\n\nexport function computeStackTrace(ex: unknown): StackTrace {\n  const stack: StackFrame[] = []\n\n  let stackProperty = tryToGetString(ex, 'stack')\n  const exString = String(ex)\n  if (stackProperty && stackProperty.startsWith(exString)) {\n    stackProperty = stackProperty.slice(exString.length)\n  }\n  if (stackProperty) {\n    stackProperty.split('\\n').forEach((line) => {\n      const stackFrame =\n        parseChromeLine(line) || parseChromeAnonymousLine(line) || parseWinLine(line) || parseGeckoLine(line)\n      if (stackFrame) {\n        if (!stackFrame.func && stackFrame.line) {\n          stackFrame.func = UNKNOWN_FUNCTION\n        }\n\n        stack.push(stackFrame)\n      }\n    })\n  }\n\n  return {\n    message: tryToGetString(ex, 'message'),\n    name: tryToGetString(ex, 'name'),\n    stack,\n  }\n}\nconst fileUrl =\n  '((?:file|https?|blob|chrome-extension|electron|native|eval|webpack|snippet|<anonymous>|\\\\w+\\\\.|\\\\/).*?)'\nconst filePosition = '(?::(\\\\d+))'\nconst CHROME_LINE_RE = new RegExp(`^\\\\s*at (.*?) ?\\\\(${fileUrl}${filePosition}?${filePosition}?\\\\)?\\\\s*$`, 'i')\n\nconst CHROME_EVAL_RE = new RegExp(`\\\\((\\\\S*)${filePosition}${filePosition}\\\\)`)\n\nfunction parseChromeLine(line: string): StackFrame | undefined {\n  const parts = CHROME_LINE_RE.exec(line)\n\n  if (!parts) {\n    return\n  }\n\n  const isNative = parts[2] && parts[2].indexOf('native') === 0 // start of line\n  const isEval = parts[2] && parts[2].indexOf('eval') === 0 // start of line\n  const submatch = CHROME_EVAL_RE.exec(parts[2])\n\n  if (isEval && submatch) {\n    // throw out eval line/column and use top-most line/column number\n    parts[2] = submatch[1] // url\n    parts[3] = submatch[2] // line\n    parts[4] = submatch[3] // column\n  }\n\n  return {\n    args: isNative ? [parts[2]] : [],\n    column: parts[4] ? +parts[4] : undefined,\n    func: parts[1] || UNKNOWN_FUNCTION,\n    line: parts[3] ? +parts[3] : undefined,\n    url: !isNative ? parts[2] : undefined,\n  }\n}\n\nconst CHROME_ANONYMOUS_FUNCTION_RE = new RegExp(`^\\\\s*at ?${fileUrl}${filePosition}?${filePosition}??\\\\s*$`, 'i')\n\nfunction parseChromeAnonymousLine(line: string): StackFrame | undefined {\n  const parts = CHROME_ANONYMOUS_FUNCTION_RE.exec(line)\n\n  if (!parts) {\n    return\n  }\n\n  return {\n    args: [],\n    column: parts[3] ? +parts[3] : undefined,\n    func: UNKNOWN_FUNCTION,\n    line: parts[2] ? +parts[2] : undefined,\n    url: parts[1],\n  }\n}\n\nconst WINJS_LINE_RE =\n  /^\\s*at (?:((?:\\[object object\\])?.+) )?\\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\\d+)(?::(\\d+))?\\)?\\s*$/i\n\nfunction parseWinLine(line: string): StackFrame | undefined {\n  const parts = WINJS_LINE_RE.exec(line)\n  if (!parts) {\n    return\n  }\n\n  return {\n    args: [],\n    column: parts[4] ? +parts[4] : undefined,\n    func: parts[1] || UNKNOWN_FUNCTION,\n    line: +parts[3],\n    url: parts[2],\n  }\n}\n\nconst GECKO_LINE_RE =\n  /^\\s*(.*?)(?:\\((.*?)\\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\\[native).*?|[^@]*bundle)(?::(\\d+))?(?::(\\d+))?\\s*$/i\nconst GECKO_EVAL_RE = /(\\S+) line (\\d+)(?: > eval line \\d+)* > eval/i\n\nfunction parseGeckoLine(line: string): StackFrame | undefined {\n  const parts = GECKO_LINE_RE.exec(line)\n  if (!parts) {\n    return\n  }\n\n  const isEval = parts[3] && parts[3].indexOf(' > eval') > -1\n  const submatch = GECKO_EVAL_RE.exec(parts[3])\n\n  if (isEval && submatch) {\n    // throw out eval line/column and use top-most line number\n    parts[3] = submatch[1]\n    parts[4] = submatch[2]\n    parts[5] = undefined! // no column when eval\n  }\n\n  return {\n    args: parts[2] ? parts[2].split(',') : [],\n    column: parts[5] ? +parts[5] : undefined,\n    func: parts[1] || UNKNOWN_FUNCTION,\n    line: parts[4] ? +parts[4] : undefined,\n    url: parts[3],\n  }\n}\n\nfunction tryToGetString(candidate: unknown, property: string) {\n  if (typeof candidate !== 'object' || !candidate || !(property in candidate)) {\n    return undefined\n  }\n  const value = (candidate as { [k: string]: unknown })[property]\n  return typeof value === 'string' ? value : undefined\n}\n\nexport function computeStackTraceFromOnErrorMessage(messageObj: unknown, url?: string, line?: number, column?: number) {\n  const stack = [{ url, column, line }]\n  const { name, message } = tryToParseMessage(messageObj)\n  return {\n    name,\n    message,\n    stack,\n  }\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error#Error_types\nconst ERROR_TYPES_RE =\n  /^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?([\\s\\S]*)$/\n\nfunction tryToParseMessage(messageObj: unknown) {\n  let name\n  let message\n  if ({}.toString.call(messageObj) === '[object String]') {\n    ;[, name, message] = ERROR_TYPES_RE.exec(messageObj as string)!\n  }\n  return { name, message }\n}\n","import { monitor } from '../tools/monitor'\nimport { getZoneJsOriginalValue } from '../tools/getZoneJsOriginalValue'\nimport type { CookieStore, CookieStoreEventMap, VisualViewport, VisualViewportEventMap } from './browser.types'\n\nexport type TrustableEvent<E extends Event = Event> = E & { __ddIsTrusted?: boolean }\n\nexport const enum DOM_EVENT {\n  BEFORE_UNLOAD = 'beforeunload',\n  CLICK = 'click',\n  DBL_CLICK = 'dblclick',\n  KEY_DOWN = 'keydown',\n  LOAD = 'load',\n  POP_STATE = 'popstate',\n  SCROLL = 'scroll',\n  TOUCH_START = 'touchstart',\n  TOUCH_END = 'touchend',\n  TOUCH_MOVE = 'touchmove',\n  VISIBILITY_CHANGE = 'visibilitychange',\n  PAGE_SHOW = 'pageshow',\n  FREEZE = 'freeze',\n  RESUME = 'resume',\n  DOM_CONTENT_LOADED = 'DOMContentLoaded',\n  POINTER_DOWN = 'pointerdown',\n  POINTER_UP = 'pointerup',\n  POINTER_CANCEL = 'pointercancel',\n  HASH_CHANGE = 'hashchange',\n  PAGE_HIDE = 'pagehide',\n  MOUSE_DOWN = 'mousedown',\n  MOUSE_UP = 'mouseup',\n  MOUSE_MOVE = 'mousemove',\n  FOCUS = 'focus',\n  BLUR = 'blur',\n  CONTEXT_MENU = 'contextmenu',\n  RESIZE = 'resize',\n  CHANGE = 'change',\n  INPUT = 'input',\n  PLAY = 'play',\n  PAUSE = 'pause',\n  SECURITY_POLICY_VIOLATION = 'securitypolicyviolation',\n  SELECTION_CHANGE = 'selectionchange',\n  STORAGE = 'storage',\n}\n\ninterface AddEventListenerOptions {\n  once?: boolean\n  capture?: boolean\n  passive?: boolean\n}\n\ntype EventMapFor<T> = T extends Window\n  ? WindowEventMap & {\n      // TS 4.9.5 does not support `freeze` and `resume` events yet\n      freeze: Event\n      resume: Event\n      // TS 4.9.5 does not define `visibilitychange` on Window (only Document)\n      visibilitychange: Event\n    }\n  : T extends Document\n    ? DocumentEventMap\n    : T extends HTMLElement\n      ? HTMLElementEventMap\n      : T extends VisualViewport\n        ? VisualViewportEventMap\n        : T extends ShadowRoot\n          ? // ShadowRootEventMap is not yet defined in our supported TS version. Instead, use\n            // GlobalEventHandlersEventMap which is more than enough as we only need to listen for events bubbling\n            // through the ShadowRoot like \"change\" or \"input\"\n            GlobalEventHandlersEventMap\n          : T extends XMLHttpRequest\n            ? XMLHttpRequestEventMap\n            : T extends Performance\n              ? PerformanceEventMap\n              : T extends Worker\n                ? WorkerEventMap\n                : T extends CookieStore\n                  ? CookieStoreEventMap\n                  : Record<never, never>\n\n/**\n * Add an event listener to an event target object (Window, Element, mock object...).  This provides\n * a few conveniences compared to using `element.addEventListener` directly:\n *\n * * supports IE11 by: using an option object only if needed and emulating the `once` option\n *\n * * wraps the listener with a `monitor` function\n *\n * * returns a `stop` function to remove the listener\n */\nexport function addEventListener<Target extends EventTarget, EventName extends keyof EventMapFor<Target> & string>(\n  configuration: { allowUntrustedEvents?: boolean | undefined },\n  eventTarget: Target,\n  eventName: EventName,\n  listener: (event: EventMapFor<Target>[EventName] & { type: EventName }) => void,\n  options?: AddEventListenerOptions\n) {\n  return addEventListeners(configuration, eventTarget, [eventName], listener, options)\n}\n\n/**\n * Add event listeners to an event target object (Window, Element, mock object...).  This provides\n * a few conveniences compared to using `element.addEventListener` directly:\n *\n * * supports IE11 by: using an option object only if needed and emulating the `once` option\n *\n * * wraps the listener with a `monitor` function\n *\n * * returns a `stop` function to remove the listener\n *\n * * with `once: true`, the listener will be called at most once, even if different events are listened\n */\nexport function addEventListeners<Target extends EventTarget, EventName extends keyof EventMapFor<Target> & string>(\n  configuration: { allowUntrustedEvents?: boolean | undefined },\n  eventTarget: Target,\n  eventNames: EventName[],\n  listener: (event: EventMapFor<Target>[EventName] & { type: EventName }) => void,\n  { once, capture, passive }: AddEventListenerOptions = {}\n) {\n  const listenerWithMonitor = monitor((event: TrustableEvent) => {\n    if (!event.isTrusted && !event.__ddIsTrusted && !configuration.allowUntrustedEvents) {\n      return\n    }\n    if (once) {\n      stop()\n    }\n    listener(event as unknown as EventMapFor<Target>[EventName] & { type: EventName })\n  })\n\n  const options = passive ? { capture, passive } : capture\n\n  // Use the window.EventTarget.prototype when possible to avoid wrong overrides (e.g: https://github.com/salesforce/lwc/issues/1824)\n  const listenerTarget =\n    window.EventTarget && eventTarget instanceof EventTarget ? window.EventTarget.prototype : eventTarget\n\n  const add = getZoneJsOriginalValue(listenerTarget, 'addEventListener')\n  eventNames.forEach((eventName) => add.call(eventTarget, eventName, listenerWithMonitor, options))\n\n  function stop() {\n    const remove = getZoneJsOriginalValue(listenerTarget, 'removeEventListener')\n    eventNames.forEach((eventName) => remove.call(eventTarget, eventName, listenerWithMonitor, options))\n  }\n\n  return {\n    stop,\n  }\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","import { Observable } from '../tools/observable'\nimport { objectValues } from '../tools/utils/polyfills'\nimport type { Configuration } from '../domain/configuration'\nimport { addEventListeners, addEventListener, DOM_EVENT } from './addEventListener'\n\nexport const PageExitReason = {\n  HIDDEN: 'visibility_hidden',\n  UNLOADING: 'before_unload',\n  PAGEHIDE: 'page_hide',\n  FROZEN: 'page_frozen',\n} as const\n\nexport type PageExitReason = (typeof PageExitReason)[keyof typeof PageExitReason]\n\nexport interface PageExitEvent {\n  reason: PageExitReason\n}\n\nexport function createPageExitObservable(configuration: Configuration): Observable<PageExitEvent> {\n  return new Observable<PageExitEvent>((observable) => {\n    const { stop: stopListeners } = addEventListeners(\n      configuration,\n      window,\n      [DOM_EVENT.VISIBILITY_CHANGE, DOM_EVENT.FREEZE],\n      (event) => {\n        if (event.type === DOM_EVENT.VISIBILITY_CHANGE && document.visibilityState === 'hidden') {\n          /**\n           * Only event that guarantee to fire on mobile devices when the page transitions to background state\n           * (e.g. when user switches to a different application, goes to homescreen, etc), or is being unloaded.\n           */\n          observable.notify({ reason: PageExitReason.HIDDEN })\n        } else if (event.type === DOM_EVENT.FREEZE) {\n          /**\n           * After transitioning in background a tab can be freezed to preserve resources. (cf: https://developer.chrome.com/blog/page-lifecycle-api)\n           * Allow to collect events happening between hidden and frozen state.\n           */\n          observable.notify({ reason: PageExitReason.FROZEN })\n        }\n      },\n      { capture: true }\n    )\n\n    const stopBeforeUnloadListener = addEventListener(configuration, window, DOM_EVENT.BEFORE_UNLOAD, () => {\n      observable.notify({ reason: PageExitReason.UNLOADING })\n    }).stop\n\n    return () => {\n      stopListeners()\n      stopBeforeUnloadListener()\n    }\n  })\n}\n\nexport function isPageExitReason(reason: string): reason is PageExitReason {\n  return objectValues(PageExitReason).includes(reason as PageExitReason)\n}\n","import { callMonitored } from '../monitor'\nimport type { StackTrace } from './computeStackTrace'\nimport { computeStackTrace } from './computeStackTrace'\n\n/**\n * Creates a stacktrace without SDK internal frames.\n * Constraints:\n * - Has to be called at the utmost position of the call stack.\n * - No monitored function should encapsulate it, that is why we need to use callMonitored inside it.\n */\nexport function createHandlingStack(\n  type: 'console error' | 'action' | 'error' | 'instrumented method' | 'log' | 'react error'\n): string {\n  /**\n   * Skip the two internal frames:\n   * - SDK API (console.error, ...)\n   * - this function\n   * in order to keep only the user calls\n   */\n  const internalFramesToSkip = 2\n  const error = new Error(type)\n  error.name = 'HandlingStack'\n  let formattedStack: string\n\n  callMonitored(() => {\n    const stackTrace = computeStackTrace(error)\n    stackTrace.stack = stackTrace.stack.slice(internalFramesToSkip)\n    formattedStack = toStackTraceString(stackTrace)\n  })\n\n  return formattedStack!\n}\n\nexport function toStackTraceString(stack: StackTrace) {\n  let result = formatErrorMessage(stack)\n  stack.stack.forEach((frame) => {\n    const func = frame.func === '?' ? '<anonymous>' : frame.func\n    const args = frame.args && frame.args.length > 0 ? `(${frame.args.join(', ')})` : ''\n    const line = frame.line ? `:${frame.line}` : ''\n    const column = frame.line && frame.column ? `:${frame.column}` : ''\n    result += `\\n  at ${func!}${args} @ ${frame.url!}${line}${column}`\n  })\n  return result\n}\n\nexport function formatErrorMessage(stack: StackTrace) {\n  return `${stack.name || 'Error'}: ${stack.message!}`\n}\n","import { sanitize } from '../../tools/serialisation/sanitize'\nimport type { ClocksState } from '../../tools/utils/timeUtils'\nimport type { Context } from '../../tools/serialisation/context'\nimport { jsonStringify } from '../../tools/serialisation/jsonStringify'\nimport type { StackTrace } from '../../tools/stackTrace/computeStackTrace'\nimport { computeStackTrace } from '../../tools/stackTrace/computeStackTrace'\nimport { toStackTraceString } from '../../tools/stackTrace/handlingStack'\nimport type { ErrorSource, ErrorHandling, RawError, RawErrorCause, ErrorWithCause, NonErrorPrefix } from './error.types'\n\nexport const NO_ERROR_STACK_PRESENT_MESSAGE = 'No stack, consider using an instance of Error'\n\ntype RawErrorParams = {\n  stackTrace?: StackTrace\n  originalError: unknown\n  handlingStack?: string\n  componentStack?: string\n  startClocks: ClocksState\n  nonErrorPrefix: NonErrorPrefix\n  source: ErrorSource\n  handling: ErrorHandling\n}\n\nexport function computeRawError({\n  stackTrace,\n  originalError,\n  handlingStack,\n  componentStack,\n  startClocks,\n  nonErrorPrefix,\n  source,\n  handling,\n}: RawErrorParams): RawError {\n  const isErrorInstance = isError(originalError)\n\n  const message = computeMessage(stackTrace, isErrorInstance, nonErrorPrefix, originalError)\n  const stack = hasUsableStack(isErrorInstance, stackTrace)\n    ? toStackTraceString(stackTrace)\n    : NO_ERROR_STACK_PRESENT_MESSAGE\n  const causes = isErrorInstance ? flattenErrorCauses(originalError as ErrorWithCause, source) : undefined\n  const type = stackTrace ? stackTrace.name : undefined\n  const fingerprint = tryToGetFingerprint(originalError)\n  const context = tryToGetErrorContext(originalError)\n\n  return {\n    startClocks,\n    source,\n    handling,\n    handlingStack,\n    componentStack,\n    originalError,\n    type,\n    message,\n    stack,\n    causes,\n    fingerprint,\n    context,\n  }\n}\n\nfunction computeMessage(\n  stackTrace: StackTrace | undefined,\n  isErrorInstance: boolean,\n  nonErrorPrefix: NonErrorPrefix,\n  originalError: unknown\n) {\n  // Favor stackTrace message only if tracekit has really been able to extract something meaningful (message + name)\n  // TODO rework tracekit integration to avoid scattering error building logic\n  return stackTrace?.message && stackTrace?.name\n    ? stackTrace.message\n    : !isErrorInstance\n      ? `${nonErrorPrefix} ${jsonStringify(sanitize(originalError))!}`\n      : 'Empty message'\n}\n\nfunction hasUsableStack(isErrorInstance: boolean, stackTrace?: StackTrace): stackTrace is StackTrace {\n  if (stackTrace === undefined) {\n    return false\n  }\n  if (isErrorInstance) {\n    return true\n  }\n  // handle cases where tracekit return stack = [] or stack = [{url: undefined, line: undefined, column: undefined}]\n  // TODO rework tracekit integration to avoid generating those unusable stack\n  return stackTrace.stack.length > 0 && (stackTrace.stack.length > 1 || stackTrace.stack[0].url !== undefined)\n}\n\nexport function tryToGetFingerprint(originalError: unknown) {\n  return isError(originalError) && 'dd_fingerprint' in originalError ? String(originalError.dd_fingerprint) : undefined\n}\n\nexport function tryToGetErrorContext(originalError: unknown) {\n  if (originalError !== null && typeof originalError === 'object' && 'dd_context' in originalError) {\n    return originalError.dd_context as Context\n  }\n}\n\nexport function getFileFromStackTraceString(stack: string) {\n  return /@ (.+)/.exec(stack)?.[1]\n}\n\nexport function isError(error: unknown): error is Error {\n  return error instanceof Error || Object.prototype.toString.call(error) === '[object Error]'\n}\n\nexport function flattenErrorCauses(error: ErrorWithCause, parentSource: ErrorSource): RawErrorCause[] | undefined {\n  let currentError = error\n  const causes: RawErrorCause[] = []\n  while (isError(currentError?.cause) && causes.length < 10) {\n    const stackTrace = computeStackTrace(currentError.cause)\n    causes.push({\n      message: currentError.cause.message,\n      source: parentSource,\n      type: stackTrace?.name,\n      stack: stackTrace && toStackTraceString(stackTrace),\n    })\n    currentError = currentError.cause\n  }\n  return causes.length ? causes : undefined\n}\n","/**\n * @license React\n * scheduler.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nfunction push(heap, node) {\n  var index = heap.length;\n  heap.push(node);\n  a: for (; 0 < index; ) {\n    var parentIndex = (index - 1) >>> 1,\n      parent = heap[parentIndex];\n    if (0 < compare(parent, node))\n      (heap[parentIndex] = node), (heap[index] = parent), (index = parentIndex);\n    else break a;\n  }\n}\nfunction peek(heap) {\n  return 0 === heap.length ? null : heap[0];\n}\nfunction pop(heap) {\n  if (0 === heap.length) return null;\n  var first = heap[0],\n    last = heap.pop();\n  if (last !== first) {\n    heap[0] = last;\n    a: for (\n      var index = 0, length = heap.length, halfLength = length >>> 1;\n      index < halfLength;\n\n    ) {\n      var leftIndex = 2 * (index + 1) - 1,\n        left = heap[leftIndex],\n        rightIndex = leftIndex + 1,\n        right = heap[rightIndex];\n      if (0 > compare(left, last))\n        rightIndex < length && 0 > compare(right, left)\n          ? ((heap[index] = right),\n            (heap[rightIndex] = last),\n            (index = rightIndex))\n          : ((heap[index] = left),\n            (heap[leftIndex] = last),\n            (index = leftIndex));\n      else if (rightIndex < length && 0 > compare(right, last))\n        (heap[index] = right), (heap[rightIndex] = last), (index = rightIndex);\n      else break a;\n    }\n  }\n  return first;\n}\nfunction compare(a, b) {\n  var diff = a.sortIndex - b.sortIndex;\n  return 0 !== diff ? diff : a.id - b.id;\n}\nexports.unstable_now = void 0;\nif (\"object\" === typeof performance && \"function\" === typeof performance.now) {\n  var localPerformance = performance;\n  exports.unstable_now = function () {\n    return localPerformance.now();\n  };\n} else {\n  var localDate = Date,\n    initialTime = localDate.now();\n  exports.unstable_now = function () {\n    return localDate.now() - initialTime;\n  };\n}\nvar taskQueue = [],\n  timerQueue = [],\n  taskIdCounter = 1,\n  currentTask = null,\n  currentPriorityLevel = 3,\n  isPerformingWork = !1,\n  isHostCallbackScheduled = !1,\n  isHostTimeoutScheduled = !1,\n  localSetTimeout = \"function\" === typeof setTimeout ? setTimeout : null,\n  localClearTimeout = \"function\" === typeof clearTimeout ? clearTimeout : null,\n  localSetImmediate = \"undefined\" !== typeof setImmediate ? setImmediate : null;\nfunction advanceTimers(currentTime) {\n  for (var timer = peek(timerQueue); null !== timer; ) {\n    if (null === timer.callback) pop(timerQueue);\n    else if (timer.startTime <= currentTime)\n      pop(timerQueue),\n        (timer.sortIndex = timer.expirationTime),\n        push(taskQueue, timer);\n    else break;\n    timer = peek(timerQueue);\n  }\n}\nfunction handleTimeout(currentTime) {\n  isHostTimeoutScheduled = !1;\n  advanceTimers(currentTime);\n  if (!isHostCallbackScheduled)\n    if (null !== peek(taskQueue))\n      (isHostCallbackScheduled = !0), requestHostCallback();\n    else {\n      var firstTimer = peek(timerQueue);\n      null !== firstTimer &&\n        requestHostTimeout(handleTimeout, firstTimer.startTime - currentTime);\n    }\n}\nvar isMessageLoopRunning = !1,\n  taskTimeoutID = -1,\n  frameInterval = 5,\n  startTime = -1;\nfunction shouldYieldToHost() {\n  return exports.unstable_now() - startTime < frameInterval ? !1 : !0;\n}\nfunction performWorkUntilDeadline() {\n  if (isMessageLoopRunning) {\n    var currentTime = exports.unstable_now();\n    startTime = currentTime;\n    var hasMoreWork = !0;\n    try {\n      a: {\n        isHostCallbackScheduled = !1;\n        isHostTimeoutScheduled &&\n          ((isHostTimeoutScheduled = !1),\n          localClearTimeout(taskTimeoutID),\n          (taskTimeoutID = -1));\n        isPerformingWork = !0;\n        var previousPriorityLevel = currentPriorityLevel;\n        try {\n          b: {\n            advanceTimers(currentTime);\n            for (\n              currentTask = peek(taskQueue);\n              null !== currentTask &&\n              !(\n                currentTask.expirationTime > currentTime && shouldYieldToHost()\n              );\n\n            ) {\n              var callback = currentTask.callback;\n              if (\"function\" === typeof callback) {\n                currentTask.callback = null;\n                currentPriorityLevel = currentTask.priorityLevel;\n                var continuationCallback = callback(\n                  currentTask.expirationTime <= currentTime\n                );\n                currentTime = exports.unstable_now();\n                if (\"function\" === typeof continuationCallback) {\n                  currentTask.callback = continuationCallback;\n                  advanceTimers(currentTime);\n                  hasMoreWork = !0;\n                  break b;\n                }\n                currentTask === peek(taskQueue) && pop(taskQueue);\n                advanceTimers(currentTime);\n              } else pop(taskQueue);\n              currentTask = peek(taskQueue);\n            }\n            if (null !== currentTask) hasMoreWork = !0;\n            else {\n              var firstTimer = peek(timerQueue);\n              null !== firstTimer &&\n                requestHostTimeout(\n                  handleTimeout,\n                  firstTimer.startTime - currentTime\n                );\n              hasMoreWork = !1;\n            }\n          }\n          break a;\n        } finally {\n          (currentTask = null),\n            (currentPriorityLevel = previousPriorityLevel),\n            (isPerformingWork = !1);\n        }\n        hasMoreWork = void 0;\n      }\n    } finally {\n      hasMoreWork\n        ? schedulePerformWorkUntilDeadline()\n        : (isMessageLoopRunning = !1);\n    }\n  }\n}\nvar schedulePerformWorkUntilDeadline;\nif (\"function\" === typeof localSetImmediate)\n  schedulePerformWorkUntilDeadline = function () {\n    localSetImmediate(performWorkUntilDeadline);\n  };\nelse if (\"undefined\" !== typeof MessageChannel) {\n  var channel = new MessageChannel(),\n    port = channel.port2;\n  channel.port1.onmessage = performWorkUntilDeadline;\n  schedulePerformWorkUntilDeadline = function () {\n    port.postMessage(null);\n  };\n} else\n  schedulePerformWorkUntilDeadline = function () {\n    localSetTimeout(performWorkUntilDeadline, 0);\n  };\nfunction requestHostCallback() {\n  isMessageLoopRunning ||\n    ((isMessageLoopRunning = !0), schedulePerformWorkUntilDeadline());\n}\nfunction requestHostTimeout(callback, ms) {\n  taskTimeoutID = localSetTimeout(function () {\n    callback(exports.unstable_now());\n  }, ms);\n}\nexports.unstable_IdlePriority = 5;\nexports.unstable_ImmediatePriority = 1;\nexports.unstable_LowPriority = 4;\nexports.unstable_NormalPriority = 3;\nexports.unstable_Profiling = null;\nexports.unstable_UserBlockingPriority = 2;\nexports.unstable_cancelCallback = function (task) {\n  task.callback = null;\n};\nexports.unstable_continueExecution = function () {\n  isHostCallbackScheduled ||\n    isPerformingWork ||\n    ((isHostCallbackScheduled = !0), requestHostCallback());\n};\nexports.unstable_forceFrameRate = function (fps) {\n  0 > fps || 125 < fps\n    ? console.error(\n        \"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"\n      )\n    : (frameInterval = 0 < fps ? Math.floor(1e3 / fps) : 5);\n};\nexports.unstable_getCurrentPriorityLevel = function () {\n  return currentPriorityLevel;\n};\nexports.unstable_getFirstCallbackNode = function () {\n  return peek(taskQueue);\n};\nexports.unstable_next = function (eventHandler) {\n  switch (currentPriorityLevel) {\n    case 1:\n    case 2:\n    case 3:\n      var priorityLevel = 3;\n      break;\n    default:\n      priorityLevel = currentPriorityLevel;\n  }\n  var previousPriorityLevel = currentPriorityLevel;\n  currentPriorityLevel = priorityLevel;\n  try {\n    return eventHandler();\n  } finally {\n    currentPriorityLevel = previousPriorityLevel;\n  }\n};\nexports.unstable_pauseExecution = function () {};\nexports.unstable_requestPaint = function () {};\nexports.unstable_runWithPriority = function (priorityLevel, eventHandler) {\n  switch (priorityLevel) {\n    case 1:\n    case 2:\n    case 3:\n    case 4:\n    case 5:\n      break;\n    default:\n      priorityLevel = 3;\n  }\n  var previousPriorityLevel = currentPriorityLevel;\n  currentPriorityLevel = priorityLevel;\n  try {\n    return eventHandler();\n  } finally {\n    currentPriorityLevel = previousPriorityLevel;\n  }\n};\nexports.unstable_scheduleCallback = function (\n  priorityLevel,\n  callback,\n  options\n) {\n  var currentTime = exports.unstable_now();\n  \"object\" === typeof options && null !== options\n    ? ((options = options.delay),\n      (options =\n        \"number\" === typeof options && 0 < options\n          ? currentTime + options\n          : currentTime))\n    : (options = currentTime);\n  switch (priorityLevel) {\n    case 1:\n      var timeout = -1;\n      break;\n    case 2:\n      timeout = 250;\n      break;\n    case 5:\n      timeout = 1073741823;\n      break;\n    case 4:\n      timeout = 1e4;\n      break;\n    default:\n      timeout = 5e3;\n  }\n  timeout = options + timeout;\n  priorityLevel = {\n    id: taskIdCounter++,\n    callback: callback,\n    priorityLevel: priorityLevel,\n    startTime: options,\n    expirationTime: timeout,\n    sortIndex: -1\n  };\n  options > currentTime\n    ? ((priorityLevel.sortIndex = options),\n      push(timerQueue, priorityLevel),\n      null === peek(taskQueue) &&\n        priorityLevel === peek(timerQueue) &&\n        (isHostTimeoutScheduled\n          ? (localClearTimeout(taskTimeoutID), (taskTimeoutID = -1))\n          : (isHostTimeoutScheduled = !0),\n        requestHostTimeout(handleTimeout, options - currentTime)))\n    : ((priorityLevel.sortIndex = timeout),\n      push(taskQueue, priorityLevel),\n      isHostCallbackScheduled ||\n        isPerformingWork ||\n        ((isHostCallbackScheduled = !0), requestHostCallback()));\n  return priorityLevel;\n};\nexports.unstable_shouldYield = shouldYieldToHost;\nexports.unstable_wrapCallback = function (callback) {\n  var parentPriorityLevel = currentPriorityLevel;\n  return function () {\n    var previousPriorityLevel = currentPriorityLevel;\n    currentPriorityLevel = parentPriorityLevel;\n    try {\n      return callback.apply(this, arguments);\n    } finally {\n      currentPriorityLevel = previousPriorityLevel;\n    }\n  };\n};\n","import { display } from '../display'\nimport { ONE_KIBI_BYTE } from '../utils/byteUtils'\nimport type { Context, ContextArray, ContextValue } from './context'\nimport type { ObjectWithToJsonMethod } from './jsonStringify'\nimport { detachToJsonMethod } from './jsonStringify'\n\n// eslint-disable-next-line @typescript-eslint/no-unsafe-function-type\ntype PrimitivesAndFunctions = string | number | boolean | undefined | null | symbol | bigint | Function\ntype ExtendedContextValue = PrimitivesAndFunctions | object | ExtendedContext | ExtendedContextArray\ntype ExtendedContext = { [key: string]: ExtendedContextValue }\ntype ExtendedContextArray = ExtendedContextValue[]\n\ntype ContainerElementToProcess = {\n  source: ExtendedContextArray | ExtendedContext\n  target: ContextArray | Context\n  path: string\n}\n\ntype SanitizedEvent = {\n  type: string\n  isTrusted: boolean\n  currentTarget: string | null | undefined\n  target: string | null | undefined\n}\n\n// The maximum size of a single event is 256KiB. By default, we ensure that user-provided data\n// going through sanitize fits inside our events, while leaving room for other contexts, metadata, ...\nconst SANITIZE_DEFAULT_MAX_CHARACTER_COUNT = 220 * ONE_KIBI_BYTE\n\n// Symbol for the root element of the JSONPath used for visited objects\nconst JSON_PATH_ROOT_ELEMENT = '$'\n\n// When serializing (using JSON.stringify) a key of an object, { key: 42 } gets wrapped in quotes as \"key\".\n// With the separator (:), we need to add 3 characters to the count.\nconst KEY_DECORATION_LENGTH = 3\n\n/**\n * Ensures user-provided data is 'safe' for the SDK\n * - Deep clones data\n * - Removes cyclic references\n * - Transforms unserializable types to a string representation\n *\n * LIMITATIONS:\n * - Size is in characters, not byte count (may differ according to character encoding)\n * - Size does not take into account indentation that can be applied to JSON.stringify\n * - Non-numerical properties of Arrays are ignored. Same behavior as JSON.stringify\n *\n * @param source              User-provided data meant to be serialized using JSON.stringify\n * @param maxCharacterCount   Maximum number of characters allowed in serialized form\n */\nexport function sanitize(source: string, maxCharacterCount?: number): string | undefined\nexport function sanitize(source: Context, maxCharacterCount?: number): Context\nexport function sanitize(source: unknown, maxCharacterCount?: number): ContextValue\nexport function sanitize(source: unknown, maxCharacterCount = SANITIZE_DEFAULT_MAX_CHARACTER_COUNT) {\n  // Unbind any toJSON function we may have on [] or {} prototypes\n  const restoreObjectPrototypeToJson = detachToJsonMethod(Object.prototype)\n  const restoreArrayPrototypeToJson = detachToJsonMethod(Array.prototype)\n\n  // Initial call to sanitizeProcessor - will populate containerQueue if source is an Array or a plain Object\n  const containerQueue: ContainerElementToProcess[] = []\n  const visitedObjectsWithPath = new WeakMap<object, string>()\n  const sanitizedData = sanitizeProcessor(\n    source as ExtendedContextValue,\n    JSON_PATH_ROOT_ELEMENT,\n    undefined,\n    containerQueue,\n    visitedObjectsWithPath\n  )\n  const serializedSanitizedData = JSON.stringify(sanitizedData)\n  let accumulatedCharacterCount = serializedSanitizedData ? serializedSanitizedData.length : 0\n\n  if (accumulatedCharacterCount > maxCharacterCount) {\n    warnOverCharacterLimit(maxCharacterCount, 'discarded', source)\n    return undefined\n  }\n\n  while (containerQueue.length > 0 && accumulatedCharacterCount < maxCharacterCount) {\n    const containerToProcess = containerQueue.shift()!\n    let separatorLength = 0 // 0 for the first element, 1 for subsequent elements\n\n    // Arrays and Objects have to be handled distinctly to ensure\n    // we do not pick up non-numerical properties from Arrays\n    if (Array.isArray(containerToProcess.source)) {\n      for (let key = 0; key < containerToProcess.source.length; key++) {\n        const targetData = sanitizeProcessor(\n          containerToProcess.source[key],\n          containerToProcess.path,\n          key,\n          containerQueue,\n          visitedObjectsWithPath\n        )\n\n        if (targetData !== undefined) {\n          accumulatedCharacterCount += JSON.stringify(targetData).length\n        } else {\n          // When an element of an Array (targetData) is undefined, it is serialized as null:\n          // JSON.stringify([undefined]) => '[null]' - This accounts for 4 characters\n          accumulatedCharacterCount += 4\n        }\n        accumulatedCharacterCount += separatorLength\n        separatorLength = 1\n        if (accumulatedCharacterCount > maxCharacterCount) {\n          warnOverCharacterLimit(maxCharacterCount, 'truncated', source)\n          break\n        }\n        ;(containerToProcess.target as ContextArray)[key] = targetData\n      }\n    } else {\n      for (const key in containerToProcess.source) {\n        if (Object.prototype.hasOwnProperty.call(containerToProcess.source, key)) {\n          const targetData = sanitizeProcessor(\n            containerToProcess.source[key],\n            containerToProcess.path,\n            key,\n            containerQueue,\n            visitedObjectsWithPath\n          )\n          // When a property of an object has an undefined value, it will be dropped during serialization:\n          // JSON.stringify({a:undefined}) => '{}'\n          if (targetData !== undefined) {\n            accumulatedCharacterCount +=\n              JSON.stringify(targetData).length + separatorLength + key.length + KEY_DECORATION_LENGTH\n            separatorLength = 1\n          }\n          if (accumulatedCharacterCount > maxCharacterCount) {\n            warnOverCharacterLimit(maxCharacterCount, 'truncated', source)\n            break\n          }\n          ;(containerToProcess.target as Context)[key] = targetData\n        }\n      }\n    }\n  }\n\n  // Rebind detached toJSON functions\n  restoreObjectPrototypeToJson()\n  restoreArrayPrototypeToJson()\n\n  return sanitizedData\n}\n\n/**\n * Internal function to factorize the process common to the\n * initial call to sanitize, and iterations for Arrays and Objects\n *\n */\nfunction sanitizeProcessor(\n  source: ExtendedContextValue,\n  parentPath: string,\n  key: string | number | undefined,\n  queue: ContainerElementToProcess[],\n  visitedObjectsWithPath: WeakMap<object, string>\n) {\n  // Start by handling toJSON, as we want to sanitize its output\n  const sourceToSanitize = tryToApplyToJSON(source)\n\n  if (!sourceToSanitize || typeof sourceToSanitize !== 'object') {\n    return sanitizePrimitivesAndFunctions(sourceToSanitize)\n  }\n\n  const sanitizedSource = sanitizeObjects(sourceToSanitize)\n  if (sanitizedSource !== '[Object]' && sanitizedSource !== '[Array]' && sanitizedSource !== '[Error]') {\n    return sanitizedSource\n  }\n\n  // Handle potential cyclic references\n  // We need to use source as sourceToSanitize could be a reference to a new object\n  // At this stage, we know the source is an object type\n  const sourceAsObject = source as object\n  if (visitedObjectsWithPath.has(sourceAsObject)) {\n    return `[Reference seen at ${visitedObjectsWithPath.get(sourceAsObject)!}]`\n  }\n\n  // Add processed source to queue\n  const currentPath = key !== undefined ? `${parentPath}.${key}` : parentPath\n  const target = Array.isArray(sourceToSanitize) ? ([] as ContextArray) : ({} as Context)\n  visitedObjectsWithPath.set(sourceAsObject, currentPath)\n  queue.push({ source: sourceToSanitize as ExtendedContext | ExtendedContextArray, target, path: currentPath })\n\n  return target\n}\n\n/**\n * Handles sanitization of simple, non-object types\n *\n */\nfunction sanitizePrimitivesAndFunctions(value: PrimitivesAndFunctions) {\n  // BigInt cannot be serialized by JSON.stringify(), convert it to a string representation\n  if (typeof value === 'bigint') {\n    return `[BigInt] ${value.toString()}`\n  }\n  // Functions cannot be serialized by JSON.stringify(). Moreover, if a faulty toJSON is present, it needs to be converted\n  // so it won't prevent stringify from serializing later\n  if (typeof value === 'function') {\n    return `[Function] ${value.name || 'unknown'}`\n  }\n  // JSON.stringify() does not serialize symbols.\n  if (typeof value === 'symbol') {\n    // symbol.description is part of ES2019+\n    type symbolWithDescription = symbol & { description: string }\n    return `[Symbol] ${(value as symbolWithDescription).description || value.toString()}`\n  }\n\n  return value\n}\n\n/**\n * Handles sanitization of object types\n *\n * LIMITATIONS\n * - If a class defines a toStringTag Symbol, it will fall in the catch-all method and prevent enumeration of properties.\n * To avoid this, a toJSON method can be defined.\n */\nfunction sanitizeObjects(value: object): string | SanitizedEvent {\n  try {\n    if (value instanceof Event) {\n      return sanitizeEvent(value)\n    }\n\n    if (value instanceof RegExp) {\n      return `[RegExp] ${value.toString()}`\n    }\n\n    // Handle all remaining object types in a generic way\n    const result = Object.prototype.toString.call(value)\n    const match = result.match(/\\[object (.*)\\]/)\n    if (match && match[1]) {\n      return `[${match[1]}]`\n    }\n  } catch {\n    // If the previous serialization attempts failed, and we cannot convert using\n    // Object.prototype.toString, declare the value unserializable\n  }\n  return '[Unserializable]'\n}\n\nfunction sanitizeEvent(event: Event): SanitizedEvent {\n  return {\n    type: event.type,\n    isTrusted: event.isTrusted,\n    currentTarget: event.currentTarget ? (sanitizeObjects(event.currentTarget) as string) : null,\n    target: event.target ? (sanitizeObjects(event.target) as string) : null,\n  }\n}\n\n/**\n * Checks if a toJSON function exists and tries to execute it\n *\n */\nfunction tryToApplyToJSON(value: ExtendedContextValue) {\n  const object = value as ObjectWithToJsonMethod\n  if (object && typeof object.toJSON === 'function') {\n    try {\n      return object.toJSON() as ExtendedContextValue\n    } catch {\n      // If toJSON fails, we continue by trying to serialize the value manually\n    }\n  }\n\n  return value\n}\n\n/**\n * Helper function to display the warning when the accumulated character count is over the limit\n */\nfunction warnOverCharacterLimit(maxCharacterCount: number, changeType: 'discarded' | 'truncated', source: unknown) {\n  display.warn(\n    `The data provided has been ${changeType} as it is over the limit of ${maxCharacterCount} characters:`,\n    source\n  )\n}\n","import { setTimeout, clearTimeout } from './timer'\nimport { monitor } from './monitor'\nimport { dateNow } from './utils/timeUtils'\n\n// This type is not yet supported in TS 3.8. Imported from the TS source until we upgrade the\n// minimum supported TS version.\n// https://github.com/microsoft/TypeScript/blob/13c374a868c926f6a907666a5599992c1351b773/src/lib/dom.generated.d.ts#L9513-L9516\nexport interface IdleDeadline {\n  readonly didTimeout: boolean\n  timeRemaining(): DOMHighResTimeStamp\n}\n\n/**\n * 'requestIdleCallback' with a shim.\n */\nexport function requestIdleCallback(callback: (deadline: IdleDeadline) => void, opts?: { timeout?: number }) {\n  // Note: check both 'requestIdleCallback' and 'cancelIdleCallback' existence because some polyfills only implement 'requestIdleCallback'.\n  if (window.requestIdleCallback && window.cancelIdleCallback) {\n    const id = window.requestIdleCallback(monitor(callback), opts)\n    return () => window.cancelIdleCallback(id)\n  }\n  return requestIdleCallbackShim(callback)\n}\n\nexport const MAX_TASK_TIME = 50\n\n/*\n * Shim from https://developer.chrome.com/blog/using-requestidlecallback#checking_for_requestidlecallback\n * Note: there is no simple way to support the \"timeout\" option, so we ignore it.\n */\nexport function requestIdleCallbackShim(callback: (deadline: IdleDeadline) => void) {\n  const start = dateNow()\n  const timeoutId = setTimeout(() => {\n    callback({\n      didTimeout: false,\n      timeRemaining: () => Math.max(0, MAX_TASK_TIME - (dateNow() - start)),\n    })\n  }, 0)\n  return () => clearTimeout(timeoutId)\n}\n","/**\n * @license React\n * react-dom.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction formatProdErrorMessage(code) {\n  var url = \"https://react.dev/errors/\" + code;\n  if (1 < arguments.length) {\n    url += \"?args[]=\" + encodeURIComponent(arguments[1]);\n    for (var i = 2; i < arguments.length; i++)\n      url += \"&args[]=\" + encodeURIComponent(arguments[i]);\n  }\n  return (\n    \"Minified React error #\" +\n    code +\n    \"; visit \" +\n    url +\n    \" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"\n  );\n}\nfunction noop() {}\nvar Internals = {\n    d: {\n      f: noop,\n      r: function () {\n        throw Error(formatProdErrorMessage(522));\n      },\n      D: noop,\n      C: noop,\n      L: noop,\n      m: noop,\n      X: noop,\n      S: noop,\n      M: noop\n    },\n    p: 0,\n    findDOMNode: null\n  },\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\");\nfunction createPortal$1(children, containerInfo, implementation) {\n  var key =\n    3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : null;\n  return {\n    $$typeof: REACT_PORTAL_TYPE,\n    key: null == key ? null : \"\" + key,\n    children: children,\n    containerInfo: containerInfo,\n    implementation: implementation\n  };\n}\nvar ReactSharedInternals =\n  React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;\nfunction getCrossOriginStringAs(as, input) {\n  if (\"font\" === as) return \"\";\n  if (\"string\" === typeof input)\n    return \"use-credentials\" === input ? input : \"\";\n}\nexports.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =\n  Internals;\nexports.createPortal = function (children, container) {\n  var key =\n    2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null;\n  if (\n    !container ||\n    (1 !== container.nodeType &&\n      9 !== container.nodeType &&\n      11 !== container.nodeType)\n  )\n    throw Error(formatProdErrorMessage(299));\n  return createPortal$1(children, container, null, key);\n};\nexports.flushSync = function (fn) {\n  var previousTransition = ReactSharedInternals.T,\n    previousUpdatePriority = Internals.p;\n  try {\n    if (((ReactSharedInternals.T = null), (Internals.p = 2), fn)) return fn();\n  } finally {\n    (ReactSharedInternals.T = previousTransition),\n      (Internals.p = previousUpdatePriority),\n      Internals.d.f();\n  }\n};\nexports.preconnect = function (href, options) {\n  \"string\" === typeof href &&\n    (options\n      ? ((options = options.crossOrigin),\n        (options =\n          \"string\" === typeof options\n            ? \"use-credentials\" === options\n              ? options\n              : \"\"\n            : void 0))\n      : (options = null),\n    Internals.d.C(href, options));\n};\nexports.prefetchDNS = function (href) {\n  \"string\" === typeof href && Internals.d.D(href);\n};\nexports.preinit = function (href, options) {\n  if (\"string\" === typeof href && options && \"string\" === typeof options.as) {\n    var as = options.as,\n      crossOrigin = getCrossOriginStringAs(as, options.crossOrigin),\n      integrity =\n        \"string\" === typeof options.integrity ? options.integrity : void 0,\n      fetchPriority =\n        \"string\" === typeof options.fetchPriority\n          ? options.fetchPriority\n          : void 0;\n    \"style\" === as\n      ? Internals.d.S(\n          href,\n          \"string\" === typeof options.precedence ? options.precedence : void 0,\n          {\n            crossOrigin: crossOrigin,\n            integrity: integrity,\n            fetchPriority: fetchPriority\n          }\n        )\n      : \"script\" === as &&\n        Internals.d.X(href, {\n          crossOrigin: crossOrigin,\n          integrity: integrity,\n          fetchPriority: fetchPriority,\n          nonce: \"string\" === typeof options.nonce ? options.nonce : void 0\n        });\n  }\n};\nexports.preinitModule = function (href, options) {\n  if (\"string\" === typeof href)\n    if (\"object\" === typeof options && null !== options) {\n      if (null == options.as || \"script\" === options.as) {\n        var crossOrigin = getCrossOriginStringAs(\n          options.as,\n          options.crossOrigin\n        );\n        Internals.d.M(href, {\n          crossOrigin: crossOrigin,\n          integrity:\n            \"string\" === typeof options.integrity ? options.integrity : void 0,\n          nonce: \"string\" === typeof options.nonce ? options.nonce : void 0\n        });\n      }\n    } else null == options && Internals.d.M(href);\n};\nexports.preload = function (href, options) {\n  if (\n    \"string\" === typeof href &&\n    \"object\" === typeof options &&\n    null !== options &&\n    \"string\" === typeof options.as\n  ) {\n    var as = options.as,\n      crossOrigin = getCrossOriginStringAs(as, options.crossOrigin);\n    Internals.d.L(href, as, {\n      crossOrigin: crossOrigin,\n      integrity:\n        \"string\" === typeof options.integrity ? options.integrity : void 0,\n      nonce: \"string\" === typeof options.nonce ? options.nonce : void 0,\n      type: \"string\" === typeof options.type ? options.type : void 0,\n      fetchPriority:\n        \"string\" === typeof options.fetchPriority\n          ? options.fetchPriority\n          : void 0,\n      referrerPolicy:\n        \"string\" === typeof options.referrerPolicy\n          ? options.referrerPolicy\n          : void 0,\n      imageSrcSet:\n        \"string\" === typeof options.imageSrcSet ? options.imageSrcSet : void 0,\n      imageSizes:\n        \"string\" === typeof options.imageSizes ? options.imageSizes : void 0,\n      media: \"string\" === typeof options.media ? options.media : void 0\n    });\n  }\n};\nexports.preloadModule = function (href, options) {\n  if (\"string\" === typeof href)\n    if (options) {\n      var crossOrigin = getCrossOriginStringAs(options.as, options.crossOrigin);\n      Internals.d.m(href, {\n        as:\n          \"string\" === typeof options.as && \"script\" !== options.as\n            ? options.as\n            : void 0,\n        crossOrigin: crossOrigin,\n        integrity:\n          \"string\" === typeof options.integrity ? options.integrity : void 0\n      });\n    } else Internals.d.m(href);\n};\nexports.requestFormReset = function (form) {\n  Internals.d.r(form);\n};\nexports.unstable_batchedUpdates = function (fn, a) {\n  return fn(a);\n};\nexports.useFormState = function (action, initialState, permalink) {\n  return ReactSharedInternals.H.useFormState(action, initialState, permalink);\n};\nexports.useFormStatus = function () {\n  return ReactSharedInternals.H.useHostTransitionStatus();\n};\nexports.version = \"19.0.0\";\n","import type { Context } from '../../tools/serialisation/context'\nimport type { ClocksState } from '../../tools/utils/timeUtils'\n\n// TS v4.6 introduced Error.cause[1] typed as `Error`. TS v4.8 changed Error.cause to be\n// `unknown`[2].\n//\n// Because we still support TS 3.8, we need to declare our own type. We can remove it once we drop\n// support for TS v4.7 and before. The 'cause' property defined by TS needs to be omitted because\n// we define it with a type `unknown` which is incompatible with TS 4.6 and 4.7.\n//\n// [1]: https://devblogs.microsoft.com/typescript/announcing-typescript-4-6/#target-es2022\n// [2]: https://devblogs.microsoft.com/typescript/announcing-typescript-4-8/#lib-d-ts-updates\nexport interface ErrorWithCause extends Omit<Error, 'cause'> {\n  cause?: unknown\n}\n\nexport type RawErrorCause = {\n  message: string\n  source: string\n  type?: string\n  stack?: string\n}\n\nexport type Csp = {\n  disposition: 'enforce' | 'report'\n}\n\nexport interface RawError {\n  startClocks: ClocksState\n  message: string\n  type?: string\n  stack?: string\n  source: ErrorSource\n  originalError?: unknown\n  handling?: ErrorHandling\n  handlingStack?: string\n  componentStack?: string\n  causes?: RawErrorCause[]\n  fingerprint?: string\n  csp?: Csp\n  context?: Context\n}\n\nexport const ErrorSource = {\n  AGENT: 'agent',\n  CONSOLE: 'console',\n  CUSTOM: 'custom',\n  LOGGER: 'logger',\n  NETWORK: 'network',\n  SOURCE: 'source',\n  REPORT: 'report',\n} as const\n\nexport const enum NonErrorPrefix {\n  UNCAUGHT = 'Uncaught',\n  PROVIDED = 'Provided',\n}\n\nexport const enum ErrorHandling {\n  HANDLED = 'handled',\n  UNHANDLED = 'unhandled',\n}\n\nexport type ErrorSource = (typeof ErrorSource)[keyof typeof ErrorSource]\n","import { isNumber, round } from './numberUtils'\n\nexport const ONE_SECOND = 1000\nexport const ONE_MINUTE = 60 * ONE_SECOND\nexport const ONE_HOUR = 60 * ONE_MINUTE\nexport const ONE_DAY = 24 * ONE_HOUR\nexport const ONE_YEAR = 365 * ONE_DAY\n\nexport type Duration = number & { d: 'Duration in ms' }\nexport type ServerDuration = number & { s: 'Duration in ns' }\nexport type TimeStamp = number & { t: 'Epoch time' }\nexport type RelativeTime = number & { r: 'Time relative to navigation start' } & { d: 'Duration in ms' }\nexport type ClocksState = { relative: RelativeTime; timeStamp: TimeStamp }\n\nexport function relativeToClocks(relative: RelativeTime) {\n  return { relative, timeStamp: getCorrectedTimeStamp(relative) }\n}\n\nexport function timeStampToClocks(timeStamp: TimeStamp) {\n  return { relative: getRelativeTime(timeStamp), timeStamp }\n}\n\nfunction getCorrectedTimeStamp(relativeTime: RelativeTime) {\n  const correctedOrigin = (dateNow() - performance.now()) as TimeStamp\n  // apply correction only for positive drift\n  if (correctedOrigin > getNavigationStart()) {\n    return Math.round(addDuration(correctedOrigin, relativeTime)) as TimeStamp\n  }\n  return getTimeStamp(relativeTime)\n}\n\nexport function currentDrift() {\n  return Math.round(dateNow() - addDuration(getNavigationStart(), performance.now() as Duration))\n}\n\nexport function toServerDuration(duration: Duration): ServerDuration\nexport function toServerDuration(duration: Duration | undefined): ServerDuration | undefined\nexport function toServerDuration(duration: Duration | undefined) {\n  if (!isNumber(duration)) {\n    return duration\n  }\n  return round(duration * 1e6, 0) as ServerDuration\n}\n\nexport function dateNow() {\n  // Do not use `Date.now` because sometimes websites are wrongly \"polyfilling\" it. For example, we\n  // had some users using a very old version of `datejs`, which patched `Date.now` to return a Date\n  // instance instead of a timestamp[1]. Those users are unlikely to fix this, so let's handle this\n  // case ourselves.\n  // [1]: https://github.com/datejs/Datejs/blob/97f5c7c58c5bc5accdab8aa7602b6ac56462d778/src/core-debug.js#L14-L16\n  return new Date().getTime()\n}\n\nexport function timeStampNow() {\n  return dateNow() as TimeStamp\n}\n\nexport function relativeNow() {\n  return performance.now() as RelativeTime\n}\n\nexport function clocksNow() {\n  return { relative: relativeNow(), timeStamp: timeStampNow() }\n}\n\nexport function clocksOrigin() {\n  return { relative: 0 as RelativeTime, timeStamp: getNavigationStart() }\n}\n\nexport function elapsed(start: TimeStamp, end: TimeStamp): Duration\nexport function elapsed(start: RelativeTime, end: RelativeTime): Duration\nexport function elapsed(start: number, end: number) {\n  return (end - start) as Duration\n}\n\nexport function addDuration(a: TimeStamp, b: Duration): TimeStamp\nexport function addDuration(a: RelativeTime, b: Duration): RelativeTime\nexport function addDuration(a: Duration, b: Duration): Duration\nexport function addDuration(a: number, b: number) {\n  return a + b\n}\n\n// Get the time since the navigation was started.\nexport function getRelativeTime(timestamp: TimeStamp) {\n  return (timestamp - getNavigationStart()) as RelativeTime\n}\n\nexport function getTimeStamp(relativeTime: RelativeTime) {\n  return Math.round(addDuration(getNavigationStart(), relativeTime)) as TimeStamp\n}\n\nexport function looksLikeRelativeTime(time: RelativeTime | TimeStamp): time is RelativeTime {\n  return time < ONE_YEAR\n}\n\n/**\n * Navigation start slightly change on some rare cases\n */\nlet navigationStart: TimeStamp | undefined\n\n/**\n * Notes: this does not use `performance.timeOrigin` because:\n * - It doesn't seem to reflect the actual time on which the navigation has started: it may be much farther in the past,\n * at least in Firefox 71. (see: https://bugzilla.mozilla.org/show_bug.cgi?id=1429926)\n * - It is not supported in Safari <15\n */\nfunction getNavigationStart() {\n  if (navigationStart === undefined) {\n    navigationStart = performance.timing.navigationStart as TimeStamp\n  }\n  return navigationStart\n}\n","export function shallowClone<T>(object: T): T & Record<string, never> {\n  return { ...object } as T & Record<string, never>\n}\n\nexport function objectHasValue<T extends { [key: string]: unknown }>(object: T, value: unknown): value is T[keyof T] {\n  return Object.keys(object).some((key) => object[key] === value)\n}\n\nexport function isEmptyObject(object: object) {\n  return Object.keys(object).length === 0\n}\n\nexport function mapValues<A, B>(object: { [key: string]: A }, fn: (arg: A) => B) {\n  const newObject: { [key: string]: B } = {}\n  for (const key of Object.keys(object)) {\n    newObject[key] = fn(object[key])\n  }\n  return newObject\n}\n","/**\n * Return true if the draw is successful\n * @param threshold between 0 and 100\n */\nexport function performDraw(threshold: number): boolean {\n  return threshold !== 0 && Math.random() * 100 <= threshold\n}\n\nexport function round(num: number, decimals: 0 | 1 | 2 | 3 | 4) {\n  return +num.toFixed(decimals)\n}\n\nexport function isPercentage(value: unknown) {\n  return isNumber(value) && value >= 0 && value <= 100\n}\n\nexport function isNumber(value: unknown): value is number {\n  return typeof value === 'number'\n}\n","export function removeDuplicates<T>(array: T[]) {\n  const set = new Set<T>()\n  array.forEach((item) => set.add(item))\n  return Array.from(set)\n}\n\nexport function removeItem<T>(array: T[], item: T) {\n  const index = array.indexOf(item)\n  if (index >= 0) {\n    array.splice(index, 1)\n  }\n}\n","/**\n * @license React\n * react-dom-client.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n\"use strict\";\nvar Scheduler = require(\"scheduler\"),\n  React = require(\"react\"),\n  ReactDOM = require(\"react-dom\");\nfunction formatProdErrorMessage(code) {\n  var url = \"https://react.dev/errors/\" + code;\n  if (1 < arguments.length) {\n    url += \"?args[]=\" + encodeURIComponent(arguments[1]);\n    for (var i = 2; i < arguments.length; i++)\n      url += \"&args[]=\" + encodeURIComponent(arguments[i]);\n  }\n  return (\n    \"Minified React error #\" +\n    code +\n    \"; visit \" +\n    url +\n    \" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"\n  );\n}\nfunction isValidContainer(node) {\n  return !(\n    !node ||\n    (1 !== node.nodeType && 9 !== node.nodeType && 11 !== node.nodeType)\n  );\n}\nvar REACT_LEGACY_ELEMENT_TYPE = Symbol.for(\"react.element\"),\n  REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n  REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n  REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n  REACT_PROVIDER_TYPE = Symbol.for(\"react.provider\"),\n  REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n  REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n  REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n  REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n  REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\"),\n  REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n  REACT_LAZY_TYPE = Symbol.for(\"react.lazy\");\nSymbol.for(\"react.scope\");\nSymbol.for(\"react.debug_trace_mode\");\nvar REACT_OFFSCREEN_TYPE = Symbol.for(\"react.offscreen\");\nSymbol.for(\"react.legacy_hidden\");\nSymbol.for(\"react.tracing_marker\");\nvar REACT_MEMO_CACHE_SENTINEL = Symbol.for(\"react.memo_cache_sentinel\"),\n  MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nfunction getIteratorFn(maybeIterable) {\n  if (null === maybeIterable || \"object\" !== typeof maybeIterable) return null;\n  maybeIterable =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[\"@@iterator\"];\n  return \"function\" === typeof maybeIterable ? maybeIterable : null;\n}\nvar REACT_CLIENT_REFERENCE = Symbol.for(\"react.client.reference\");\nfunction getComponentNameFromType(type) {\n  if (null == type) return null;\n  if (\"function\" === typeof type)\n    return type.$$typeof === REACT_CLIENT_REFERENCE\n      ? null\n      : type.displayName || type.name || null;\n  if (\"string\" === typeof type) return type;\n  switch (type) {\n    case REACT_FRAGMENT_TYPE:\n      return \"Fragment\";\n    case REACT_PORTAL_TYPE:\n      return \"Portal\";\n    case REACT_PROFILER_TYPE:\n      return \"Profiler\";\n    case REACT_STRICT_MODE_TYPE:\n      return \"StrictMode\";\n    case REACT_SUSPENSE_TYPE:\n      return \"Suspense\";\n    case REACT_SUSPENSE_LIST_TYPE:\n      return \"SuspenseList\";\n  }\n  if (\"object\" === typeof type)\n    switch (type.$$typeof) {\n      case REACT_CONTEXT_TYPE:\n        return (type.displayName || \"Context\") + \".Provider\";\n      case REACT_CONSUMER_TYPE:\n        return (type._context.displayName || \"Context\") + \".Consumer\";\n      case REACT_FORWARD_REF_TYPE:\n        var innerType = type.render;\n        type = type.displayName;\n        type ||\n          ((type = innerType.displayName || innerType.name || \"\"),\n          (type = \"\" !== type ? \"ForwardRef(\" + type + \")\" : \"ForwardRef\"));\n        return type;\n      case REACT_MEMO_TYPE:\n        return (\n          (innerType = type.displayName || null),\n          null !== innerType\n            ? innerType\n            : getComponentNameFromType(type.type) || \"Memo\"\n        );\n      case REACT_LAZY_TYPE:\n        innerType = type._payload;\n        type = type._init;\n        try {\n          return getComponentNameFromType(type(innerType));\n        } catch (x) {}\n    }\n  return null;\n}\nvar ReactSharedInternals =\n    React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n  assign = Object.assign,\n  prefix,\n  suffix;\nfunction describeBuiltInComponentFrame(name) {\n  if (void 0 === prefix)\n    try {\n      throw Error();\n    } catch (x) {\n      var match = x.stack.trim().match(/\\n( *(at )?)/);\n      prefix = (match && match[1]) || \"\";\n      suffix =\n        -1 < x.stack.indexOf(\"\\n    at\")\n          ? \" (<anonymous>)\"\n          : -1 < x.stack.indexOf(\"@\")\n            ? \"@unknown:0:0\"\n            : \"\";\n    }\n  return \"\\n\" + prefix + name + suffix;\n}\nvar reentry = !1;\nfunction describeNativeComponentFrame(fn, construct) {\n  if (!fn || reentry) return \"\";\n  reentry = !0;\n  var previousPrepareStackTrace = Error.prepareStackTrace;\n  Error.prepareStackTrace = void 0;\n  try {\n    var RunInRootFrame = {\n      DetermineComponentFrameRoot: function () {\n        try {\n          if (construct) {\n            var Fake = function () {\n              throw Error();\n            };\n            Object.defineProperty(Fake.prototype, \"props\", {\n              set: function () {\n                throw Error();\n              }\n            });\n            if (\"object\" === typeof Reflect && Reflect.construct) {\n              try {\n                Reflect.construct(Fake, []);\n              } catch (x) {\n                var control = x;\n              }\n              Reflect.construct(fn, [], Fake);\n            } else {\n              try {\n                Fake.call();\n              } catch (x$0) {\n                control = x$0;\n              }\n              fn.call(Fake.prototype);\n            }\n          } else {\n            try {\n              throw Error();\n            } catch (x$1) {\n              control = x$1;\n            }\n            (Fake = fn()) &&\n              \"function\" === typeof Fake.catch &&\n              Fake.catch(function () {});\n          }\n        } catch (sample) {\n          if (sample && control && \"string\" === typeof sample.stack)\n            return [sample.stack, control.stack];\n        }\n        return [null, null];\n      }\n    };\n    RunInRootFrame.DetermineComponentFrameRoot.displayName =\n      \"DetermineComponentFrameRoot\";\n    var namePropDescriptor = Object.getOwnPropertyDescriptor(\n      RunInRootFrame.DetermineComponentFrameRoot,\n      \"name\"\n    );\n    namePropDescriptor &&\n      namePropDescriptor.configurable &&\n      Object.defineProperty(\n        RunInRootFrame.DetermineComponentFrameRoot,\n        \"name\",\n        { value: \"DetermineComponentFrameRoot\" }\n      );\n    var _RunInRootFrame$Deter = RunInRootFrame.DetermineComponentFrameRoot(),\n      sampleStack = _RunInRootFrame$Deter[0],\n      controlStack = _RunInRootFrame$Deter[1];\n    if (sampleStack && controlStack) {\n      var sampleLines = sampleStack.split(\"\\n\"),\n        controlLines = controlStack.split(\"\\n\");\n      for (\n        namePropDescriptor = RunInRootFrame = 0;\n        RunInRootFrame < sampleLines.length &&\n        !sampleLines[RunInRootFrame].includes(\"DetermineComponentFrameRoot\");\n\n      )\n        RunInRootFrame++;\n      for (\n        ;\n        namePropDescriptor < controlLines.length &&\n        !controlLines[namePropDescriptor].includes(\n          \"DetermineComponentFrameRoot\"\n        );\n\n      )\n        namePropDescriptor++;\n      if (\n        RunInRootFrame === sampleLines.length ||\n        namePropDescriptor === controlLines.length\n      )\n        for (\n          RunInRootFrame = sampleLines.length - 1,\n            namePropDescriptor = controlLines.length - 1;\n          1 <= RunInRootFrame &&\n          0 <= namePropDescriptor &&\n          sampleLines[RunInRootFrame] !== controlLines[namePropDescriptor];\n\n        )\n          namePropDescriptor--;\n      for (\n        ;\n        1 <= RunInRootFrame && 0 <= namePropDescriptor;\n        RunInRootFrame--, namePropDescriptor--\n      )\n        if (sampleLines[RunInRootFrame] !== controlLines[namePropDescriptor]) {\n          if (1 !== RunInRootFrame || 1 !== namePropDescriptor) {\n            do\n              if (\n                (RunInRootFrame--,\n                namePropDescriptor--,\n                0 > namePropDescriptor ||\n                  sampleLines[RunInRootFrame] !==\n                    controlLines[namePropDescriptor])\n              ) {\n                var frame =\n                  \"\\n\" +\n                  sampleLines[RunInRootFrame].replace(\" at new \", \" at \");\n                fn.displayName &&\n                  frame.includes(\"<anonymous>\") &&\n                  (frame = frame.replace(\"<anonymous>\", fn.displayName));\n                return frame;\n              }\n            while (1 <= RunInRootFrame && 0 <= namePropDescriptor);\n          }\n          break;\n        }\n    }\n  } finally {\n    (reentry = !1), (Error.prepareStackTrace = previousPrepareStackTrace);\n  }\n  return (previousPrepareStackTrace = fn ? fn.displayName || fn.name : \"\")\n    ? describeBuiltInComponentFrame(previousPrepareStackTrace)\n    : \"\";\n}\nfunction describeFiber(fiber) {\n  switch (fiber.tag) {\n    case 26:\n    case 27:\n    case 5:\n      return describeBuiltInComponentFrame(fiber.type);\n    case 16:\n      return describeBuiltInComponentFrame(\"Lazy\");\n    case 13:\n      return describeBuiltInComponentFrame(\"Suspense\");\n    case 19:\n      return describeBuiltInComponentFrame(\"SuspenseList\");\n    case 0:\n    case 15:\n      return (fiber = describeNativeComponentFrame(fiber.type, !1)), fiber;\n    case 11:\n      return (\n        (fiber = describeNativeComponentFrame(fiber.type.render, !1)), fiber\n      );\n    case 1:\n      return (fiber = describeNativeComponentFrame(fiber.type, !0)), fiber;\n    default:\n      return \"\";\n  }\n}\nfunction getStackByFiberInDevAndProd(workInProgress) {\n  try {\n    var info = \"\";\n    do\n      (info += describeFiber(workInProgress)),\n        (workInProgress = workInProgress.return);\n    while (workInProgress);\n    return info;\n  } catch (x) {\n    return \"\\nError generating stack: \" + x.message + \"\\n\" + x.stack;\n  }\n}\nfunction getNearestMountedFiber(fiber) {\n  var node = fiber,\n    nearestMounted = fiber;\n  if (fiber.alternate) for (; node.return; ) node = node.return;\n  else {\n    fiber = node;\n    do\n      (node = fiber),\n        0 !== (node.flags & 4098) && (nearestMounted = node.return),\n        (fiber = node.return);\n    while (fiber);\n  }\n  return 3 === node.tag ? nearestMounted : null;\n}\nfunction getSuspenseInstanceFromFiber(fiber) {\n  if (13 === fiber.tag) {\n    var suspenseState = fiber.memoizedState;\n    null === suspenseState &&\n      ((fiber = fiber.alternate),\n      null !== fiber && (suspenseState = fiber.memoizedState));\n    if (null !== suspenseState) return suspenseState.dehydrated;\n  }\n  return null;\n}\nfunction assertIsMounted(fiber) {\n  if (getNearestMountedFiber(fiber) !== fiber)\n    throw Error(formatProdErrorMessage(188));\n}\nfunction findCurrentFiberUsingSlowPath(fiber) {\n  var alternate = fiber.alternate;\n  if (!alternate) {\n    alternate = getNearestMountedFiber(fiber);\n    if (null === alternate) throw Error(formatProdErrorMessage(188));\n    return alternate !== fiber ? null : fiber;\n  }\n  for (var a = fiber, b = alternate; ; ) {\n    var parentA = a.return;\n    if (null === parentA) break;\n    var parentB = parentA.alternate;\n    if (null === parentB) {\n      b = parentA.return;\n      if (null !== b) {\n        a = b;\n        continue;\n      }\n      break;\n    }\n    if (parentA.child === parentB.child) {\n      for (parentB = parentA.child; parentB; ) {\n        if (parentB === a) return assertIsMounted(parentA), fiber;\n        if (parentB === b) return assertIsMounted(parentA), alternate;\n        parentB = parentB.sibling;\n      }\n      throw Error(formatProdErrorMessage(188));\n    }\n    if (a.return !== b.return) (a = parentA), (b = parentB);\n    else {\n      for (var didFindChild = !1, child$2 = parentA.child; child$2; ) {\n        if (child$2 === a) {\n          didFindChild = !0;\n          a = parentA;\n          b = parentB;\n          break;\n        }\n        if (child$2 === b) {\n          didFindChild = !0;\n          b = parentA;\n          a = parentB;\n          break;\n        }\n        child$2 = child$2.sibling;\n      }\n      if (!didFindChild) {\n        for (child$2 = parentB.child; child$2; ) {\n          if (child$2 === a) {\n            didFindChild = !0;\n            a = parentB;\n            b = parentA;\n            break;\n          }\n          if (child$2 === b) {\n            didFindChild = !0;\n            b = parentB;\n            a = parentA;\n            break;\n          }\n          child$2 = child$2.sibling;\n        }\n        if (!didFindChild) throw Error(formatProdErrorMessage(189));\n      }\n    }\n    if (a.alternate !== b) throw Error(formatProdErrorMessage(190));\n  }\n  if (3 !== a.tag) throw Error(formatProdErrorMessage(188));\n  return a.stateNode.current === a ? fiber : alternate;\n}\nfunction findCurrentHostFiberImpl(node) {\n  var tag = node.tag;\n  if (5 === tag || 26 === tag || 27 === tag || 6 === tag) return node;\n  for (node = node.child; null !== node; ) {\n    tag = findCurrentHostFiberImpl(node);\n    if (null !== tag) return tag;\n    node = node.sibling;\n  }\n  return null;\n}\nvar isArrayImpl = Array.isArray,\n  ReactDOMSharedInternals =\n    ReactDOM.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n  sharedNotPendingObject = {\n    pending: !1,\n    data: null,\n    method: null,\n    action: null\n  },\n  valueStack = [],\n  index = -1;\nfunction createCursor(defaultValue) {\n  return { current: defaultValue };\n}\nfunction pop(cursor) {\n  0 > index ||\n    ((cursor.current = valueStack[index]), (valueStack[index] = null), index--);\n}\nfunction push(cursor, value) {\n  index++;\n  valueStack[index] = cursor.current;\n  cursor.current = value;\n}\nvar contextStackCursor = createCursor(null),\n  contextFiberStackCursor = createCursor(null),\n  rootInstanceStackCursor = createCursor(null),\n  hostTransitionProviderCursor = createCursor(null);\nfunction pushHostContainer(fiber, nextRootInstance) {\n  push(rootInstanceStackCursor, nextRootInstance);\n  push(contextFiberStackCursor, fiber);\n  push(contextStackCursor, null);\n  fiber = nextRootInstance.nodeType;\n  switch (fiber) {\n    case 9:\n    case 11:\n      nextRootInstance = (nextRootInstance = nextRootInstance.documentElement)\n        ? (nextRootInstance = nextRootInstance.namespaceURI)\n          ? getOwnHostContext(nextRootInstance)\n          : 0\n        : 0;\n      break;\n    default:\n      if (\n        ((fiber = 8 === fiber ? nextRootInstance.parentNode : nextRootInstance),\n        (nextRootInstance = fiber.tagName),\n        (fiber = fiber.namespaceURI))\n      )\n        (fiber = getOwnHostContext(fiber)),\n          (nextRootInstance = getChildHostContextProd(fiber, nextRootInstance));\n      else\n        switch (nextRootInstance) {\n          case \"svg\":\n            nextRootInstance = 1;\n            break;\n          case \"math\":\n            nextRootInstance = 2;\n            break;\n          default:\n            nextRootInstance = 0;\n        }\n  }\n  pop(contextStackCursor);\n  push(contextStackCursor, nextRootInstance);\n}\nfunction popHostContainer() {\n  pop(contextStackCursor);\n  pop(contextFiberStackCursor);\n  pop(rootInstanceStackCursor);\n}\nfunction pushHostContext(fiber) {\n  null !== fiber.memoizedState && push(hostTransitionProviderCursor, fiber);\n  var context = contextStackCursor.current;\n  var JSCompiler_inline_result = getChildHostContextProd(context, fiber.type);\n  context !== JSCompiler_inline_result &&\n    (push(contextFiberStackCursor, fiber),\n    push(contextStackCursor, JSCompiler_inline_result));\n}\nfunction popHostContext(fiber) {\n  contextFiberStackCursor.current === fiber &&\n    (pop(contextStackCursor), pop(contextFiberStackCursor));\n  hostTransitionProviderCursor.current === fiber &&\n    (pop(hostTransitionProviderCursor),\n    (HostTransitionContext._currentValue = sharedNotPendingObject));\n}\nvar hasOwnProperty = Object.prototype.hasOwnProperty,\n  scheduleCallback$3 = Scheduler.unstable_scheduleCallback,\n  cancelCallback$1 = Scheduler.unstable_cancelCallback,\n  shouldYield = Scheduler.unstable_shouldYield,\n  requestPaint = Scheduler.unstable_requestPaint,\n  now = Scheduler.unstable_now,\n  getCurrentPriorityLevel = Scheduler.unstable_getCurrentPriorityLevel,\n  ImmediatePriority = Scheduler.unstable_ImmediatePriority,\n  UserBlockingPriority = Scheduler.unstable_UserBlockingPriority,\n  NormalPriority$1 = Scheduler.unstable_NormalPriority,\n  LowPriority = Scheduler.unstable_LowPriority,\n  IdlePriority = Scheduler.unstable_IdlePriority,\n  log$1 = Scheduler.log,\n  unstable_setDisableYieldValue = Scheduler.unstable_setDisableYieldValue,\n  rendererID = null,\n  injectedHook = null;\nfunction onCommitRoot(root) {\n  if (injectedHook && \"function\" === typeof injectedHook.onCommitFiberRoot)\n    try {\n      injectedHook.onCommitFiberRoot(\n        rendererID,\n        root,\n        void 0,\n        128 === (root.current.flags & 128)\n      );\n    } catch (err) {}\n}\nfunction setIsStrictModeForDevtools(newIsStrictMode) {\n  \"function\" === typeof log$1 && unstable_setDisableYieldValue(newIsStrictMode);\n  if (injectedHook && \"function\" === typeof injectedHook.setStrictMode)\n    try {\n      injectedHook.setStrictMode(rendererID, newIsStrictMode);\n    } catch (err) {}\n}\nvar clz32 = Math.clz32 ? Math.clz32 : clz32Fallback,\n  log = Math.log,\n  LN2 = Math.LN2;\nfunction clz32Fallback(x) {\n  x >>>= 0;\n  return 0 === x ? 32 : (31 - ((log(x) / LN2) | 0)) | 0;\n}\nvar nextTransitionLane = 128,\n  nextRetryLane = 4194304;\nfunction getHighestPriorityLanes(lanes) {\n  var pendingSyncLanes = lanes & 42;\n  if (0 !== pendingSyncLanes) return pendingSyncLanes;\n  switch (lanes & -lanes) {\n    case 1:\n      return 1;\n    case 2:\n      return 2;\n    case 4:\n      return 4;\n    case 8:\n      return 8;\n    case 16:\n      return 16;\n    case 32:\n      return 32;\n    case 64:\n      return 64;\n    case 128:\n    case 256:\n    case 512:\n    case 1024:\n    case 2048:\n    case 4096:\n    case 8192:\n    case 16384:\n    case 32768:\n    case 65536:\n    case 131072:\n    case 262144:\n    case 524288:\n    case 1048576:\n    case 2097152:\n      return lanes & 4194176;\n    case 4194304:\n    case 8388608:\n    case 16777216:\n    case 33554432:\n      return lanes & 62914560;\n    case 67108864:\n      return 67108864;\n    case 134217728:\n      return 134217728;\n    case 268435456:\n      return 268435456;\n    case 536870912:\n      return 536870912;\n    case 1073741824:\n      return 0;\n    default:\n      return lanes;\n  }\n}\nfunction getNextLanes(root, wipLanes) {\n  var pendingLanes = root.pendingLanes;\n  if (0 === pendingLanes) return 0;\n  var nextLanes = 0,\n    suspendedLanes = root.suspendedLanes,\n    pingedLanes = root.pingedLanes,\n    warmLanes = root.warmLanes;\n  root = 0 !== root.finishedLanes;\n  var nonIdlePendingLanes = pendingLanes & 134217727;\n  0 !== nonIdlePendingLanes\n    ? ((pendingLanes = nonIdlePendingLanes & ~suspendedLanes),\n      0 !== pendingLanes\n        ? (nextLanes = getHighestPriorityLanes(pendingLanes))\n        : ((pingedLanes &= nonIdlePendingLanes),\n          0 !== pingedLanes\n            ? (nextLanes = getHighestPriorityLanes(pingedLanes))\n            : root ||\n              ((warmLanes = nonIdlePendingLanes & ~warmLanes),\n              0 !== warmLanes &&\n                (nextLanes = getHighestPriorityLanes(warmLanes)))))\n    : ((nonIdlePendingLanes = pendingLanes & ~suspendedLanes),\n      0 !== nonIdlePendingLanes\n        ? (nextLanes = getHighestPriorityLanes(nonIdlePendingLanes))\n        : 0 !== pingedLanes\n          ? (nextLanes = getHighestPriorityLanes(pingedLanes))\n          : root ||\n            ((warmLanes = pendingLanes & ~warmLanes),\n            0 !== warmLanes &&\n              (nextLanes = getHighestPriorityLanes(warmLanes))));\n  return 0 === nextLanes\n    ? 0\n    : 0 !== wipLanes &&\n        wipLanes !== nextLanes &&\n        0 === (wipLanes & suspendedLanes) &&\n        ((suspendedLanes = nextLanes & -nextLanes),\n        (warmLanes = wipLanes & -wipLanes),\n        suspendedLanes >= warmLanes ||\n          (32 === suspendedLanes && 0 !== (warmLanes & 4194176)))\n      ? wipLanes\n      : nextLanes;\n}\nfunction checkIfRootIsPrerendering(root, renderLanes) {\n  return (\n    0 ===\n    (root.pendingLanes &\n      ~(root.suspendedLanes & ~root.pingedLanes) &\n      renderLanes)\n  );\n}\nfunction computeExpirationTime(lane, currentTime) {\n  switch (lane) {\n    case 1:\n    case 2:\n    case 4:\n    case 8:\n      return currentTime + 250;\n    case 16:\n    case 32:\n    case 64:\n    case 128:\n    case 256:\n    case 512:\n    case 1024:\n    case 2048:\n    case 4096:\n    case 8192:\n    case 16384:\n    case 32768:\n    case 65536:\n    case 131072:\n    case 262144:\n    case 524288:\n    case 1048576:\n    case 2097152:\n      return currentTime + 5e3;\n    case 4194304:\n    case 8388608:\n    case 16777216:\n    case 33554432:\n      return -1;\n    case 67108864:\n    case 134217728:\n    case 268435456:\n    case 536870912:\n    case 1073741824:\n      return -1;\n    default:\n      return -1;\n  }\n}\nfunction claimNextTransitionLane() {\n  var lane = nextTransitionLane;\n  nextTransitionLane <<= 1;\n  0 === (nextTransitionLane & 4194176) && (nextTransitionLane = 128);\n  return lane;\n}\nfunction claimNextRetryLane() {\n  var lane = nextRetryLane;\n  nextRetryLane <<= 1;\n  0 === (nextRetryLane & 62914560) && (nextRetryLane = 4194304);\n  return lane;\n}\nfunction createLaneMap(initial) {\n  for (var laneMap = [], i = 0; 31 > i; i++) laneMap.push(initial);\n  return laneMap;\n}\nfunction markRootUpdated$1(root, updateLane) {\n  root.pendingLanes |= updateLane;\n  268435456 !== updateLane &&\n    ((root.suspendedLanes = 0), (root.pingedLanes = 0), (root.warmLanes = 0));\n}\nfunction markRootFinished(\n  root,\n  finishedLanes,\n  remainingLanes,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes\n) {\n  var previouslyPendingLanes = root.pendingLanes;\n  root.pendingLanes = remainingLanes;\n  root.suspendedLanes = 0;\n  root.pingedLanes = 0;\n  root.warmLanes = 0;\n  root.expiredLanes &= remainingLanes;\n  root.entangledLanes &= remainingLanes;\n  root.errorRecoveryDisabledLanes &= remainingLanes;\n  root.shellSuspendCounter = 0;\n  var entanglements = root.entanglements,\n    expirationTimes = root.expirationTimes,\n    hiddenUpdates = root.hiddenUpdates;\n  for (\n    remainingLanes = previouslyPendingLanes & ~remainingLanes;\n    0 < remainingLanes;\n\n  ) {\n    var index$7 = 31 - clz32(remainingLanes),\n      lane = 1 << index$7;\n    entanglements[index$7] = 0;\n    expirationTimes[index$7] = -1;\n    var hiddenUpdatesForLane = hiddenUpdates[index$7];\n    if (null !== hiddenUpdatesForLane)\n      for (\n        hiddenUpdates[index$7] = null, index$7 = 0;\n        index$7 < hiddenUpdatesForLane.length;\n        index$7++\n      ) {\n        var update = hiddenUpdatesForLane[index$7];\n        null !== update && (update.lane &= -536870913);\n      }\n    remainingLanes &= ~lane;\n  }\n  0 !== spawnedLane && markSpawnedDeferredLane(root, spawnedLane, 0);\n  0 !== suspendedRetryLanes &&\n    0 === updatedLanes &&\n    0 !== root.tag &&\n    (root.suspendedLanes |=\n      suspendedRetryLanes & ~(previouslyPendingLanes & ~finishedLanes));\n}\nfunction markSpawnedDeferredLane(root, spawnedLane, entangledLanes) {\n  root.pendingLanes |= spawnedLane;\n  root.suspendedLanes &= ~spawnedLane;\n  var spawnedLaneIndex = 31 - clz32(spawnedLane);\n  root.entangledLanes |= spawnedLane;\n  root.entanglements[spawnedLaneIndex] =\n    root.entanglements[spawnedLaneIndex] |\n    1073741824 |\n    (entangledLanes & 4194218);\n}\nfunction markRootEntangled(root, entangledLanes) {\n  var rootEntangledLanes = (root.entangledLanes |= entangledLanes);\n  for (root = root.entanglements; rootEntangledLanes; ) {\n    var index$8 = 31 - clz32(rootEntangledLanes),\n      lane = 1 << index$8;\n    (lane & entangledLanes) | (root[index$8] & entangledLanes) &&\n      (root[index$8] |= entangledLanes);\n    rootEntangledLanes &= ~lane;\n  }\n}\nfunction lanesToEventPriority(lanes) {\n  lanes &= -lanes;\n  return 2 < lanes\n    ? 8 < lanes\n      ? 0 !== (lanes & 134217727)\n        ? 32\n        : 268435456\n      : 8\n    : 2;\n}\nfunction resolveUpdatePriority() {\n  var updatePriority = ReactDOMSharedInternals.p;\n  if (0 !== updatePriority) return updatePriority;\n  updatePriority = window.event;\n  return void 0 === updatePriority ? 32 : getEventPriority(updatePriority.type);\n}\nfunction runWithPriority(priority, fn) {\n  var previousPriority = ReactDOMSharedInternals.p;\n  try {\n    return (ReactDOMSharedInternals.p = priority), fn();\n  } finally {\n    ReactDOMSharedInternals.p = previousPriority;\n  }\n}\nvar randomKey = Math.random().toString(36).slice(2),\n  internalInstanceKey = \"__reactFiber$\" + randomKey,\n  internalPropsKey = \"__reactProps$\" + randomKey,\n  internalContainerInstanceKey = \"__reactContainer$\" + randomKey,\n  internalEventHandlersKey = \"__reactEvents$\" + randomKey,\n  internalEventHandlerListenersKey = \"__reactListeners$\" + randomKey,\n  internalEventHandlesSetKey = \"__reactHandles$\" + randomKey,\n  internalRootNodeResourcesKey = \"__reactResources$\" + randomKey,\n  internalHoistableMarker = \"__reactMarker$\" + randomKey;\nfunction detachDeletedInstance(node) {\n  delete node[internalInstanceKey];\n  delete node[internalPropsKey];\n  delete node[internalEventHandlersKey];\n  delete node[internalEventHandlerListenersKey];\n  delete node[internalEventHandlesSetKey];\n}\nfunction getClosestInstanceFromNode(targetNode) {\n  var targetInst = targetNode[internalInstanceKey];\n  if (targetInst) return targetInst;\n  for (var parentNode = targetNode.parentNode; parentNode; ) {\n    if (\n      (targetInst =\n        parentNode[internalContainerInstanceKey] ||\n        parentNode[internalInstanceKey])\n    ) {\n      parentNode = targetInst.alternate;\n      if (\n        null !== targetInst.child ||\n        (null !== parentNode && null !== parentNode.child)\n      )\n        for (\n          targetNode = getParentSuspenseInstance(targetNode);\n          null !== targetNode;\n\n        ) {\n          if ((parentNode = targetNode[internalInstanceKey])) return parentNode;\n          targetNode = getParentSuspenseInstance(targetNode);\n        }\n      return targetInst;\n    }\n    targetNode = parentNode;\n    parentNode = targetNode.parentNode;\n  }\n  return null;\n}\nfunction getInstanceFromNode(node) {\n  if (\n    (node = node[internalInstanceKey] || node[internalContainerInstanceKey])\n  ) {\n    var tag = node.tag;\n    if (\n      5 === tag ||\n      6 === tag ||\n      13 === tag ||\n      26 === tag ||\n      27 === tag ||\n      3 === tag\n    )\n      return node;\n  }\n  return null;\n}\nfunction getNodeFromInstance(inst) {\n  var tag = inst.tag;\n  if (5 === tag || 26 === tag || 27 === tag || 6 === tag) return inst.stateNode;\n  throw Error(formatProdErrorMessage(33));\n}\nfunction getResourcesFromRoot(root) {\n  var resources = root[internalRootNodeResourcesKey];\n  resources ||\n    (resources = root[internalRootNodeResourcesKey] =\n      { hoistableStyles: new Map(), hoistableScripts: new Map() });\n  return resources;\n}\nfunction markNodeAsHoistable(node) {\n  node[internalHoistableMarker] = !0;\n}\nvar allNativeEvents = new Set(),\n  registrationNameDependencies = {};\nfunction registerTwoPhaseEvent(registrationName, dependencies) {\n  registerDirectEvent(registrationName, dependencies);\n  registerDirectEvent(registrationName + \"Capture\", dependencies);\n}\nfunction registerDirectEvent(registrationName, dependencies) {\n  registrationNameDependencies[registrationName] = dependencies;\n  for (\n    registrationName = 0;\n    registrationName < dependencies.length;\n    registrationName++\n  )\n    allNativeEvents.add(dependencies[registrationName]);\n}\nvar canUseDOM = !(\n    \"undefined\" === typeof window ||\n    \"undefined\" === typeof window.document ||\n    \"undefined\" === typeof window.document.createElement\n  ),\n  VALID_ATTRIBUTE_NAME_REGEX = RegExp(\n    \"^[:A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD][:A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD\\\\-.0-9\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]*$\"\n  ),\n  illegalAttributeNameCache = {},\n  validatedAttributeNameCache = {};\nfunction isAttributeNameSafe(attributeName) {\n  if (hasOwnProperty.call(validatedAttributeNameCache, attributeName))\n    return !0;\n  if (hasOwnProperty.call(illegalAttributeNameCache, attributeName)) return !1;\n  if (VALID_ATTRIBUTE_NAME_REGEX.test(attributeName))\n    return (validatedAttributeNameCache[attributeName] = !0);\n  illegalAttributeNameCache[attributeName] = !0;\n  return !1;\n}\nfunction setValueForAttribute(node, name, value) {\n  if (isAttributeNameSafe(name))\n    if (null === value) node.removeAttribute(name);\n    else {\n      switch (typeof value) {\n        case \"undefined\":\n        case \"function\":\n        case \"symbol\":\n          node.removeAttribute(name);\n          return;\n        case \"boolean\":\n          var prefix$10 = name.toLowerCase().slice(0, 5);\n          if (\"data-\" !== prefix$10 && \"aria-\" !== prefix$10) {\n            node.removeAttribute(name);\n            return;\n          }\n      }\n      node.setAttribute(name, \"\" + value);\n    }\n}\nfunction setValueForKnownAttribute(node, name, value) {\n  if (null === value) node.removeAttribute(name);\n  else {\n    switch (typeof value) {\n      case \"undefined\":\n      case \"function\":\n      case \"symbol\":\n      case \"boolean\":\n        node.removeAttribute(name);\n        return;\n    }\n    node.setAttribute(name, \"\" + value);\n  }\n}\nfunction setValueForNamespacedAttribute(node, namespace, name, value) {\n  if (null === value) node.removeAttribute(name);\n  else {\n    switch (typeof value) {\n      case \"undefined\":\n      case \"function\":\n      case \"symbol\":\n      case \"boolean\":\n        node.removeAttribute(name);\n        return;\n    }\n    node.setAttributeNS(namespace, name, \"\" + value);\n  }\n}\nfunction getToStringValue(value) {\n  switch (typeof value) {\n    case \"bigint\":\n    case \"boolean\":\n    case \"number\":\n    case \"string\":\n    case \"undefined\":\n      return value;\n    case \"object\":\n      return value;\n    default:\n      return \"\";\n  }\n}\nfunction isCheckable(elem) {\n  var type = elem.type;\n  return (\n    (elem = elem.nodeName) &&\n    \"input\" === elem.toLowerCase() &&\n    (\"checkbox\" === type || \"radio\" === type)\n  );\n}\nfunction trackValueOnNode(node) {\n  var valueField = isCheckable(node) ? \"checked\" : \"value\",\n    descriptor = Object.getOwnPropertyDescriptor(\n      node.constructor.prototype,\n      valueField\n    ),\n    currentValue = \"\" + node[valueField];\n  if (\n    !node.hasOwnProperty(valueField) &&\n    \"undefined\" !== typeof descriptor &&\n    \"function\" === typeof descriptor.get &&\n    \"function\" === typeof descriptor.set\n  ) {\n    var get = descriptor.get,\n      set = descriptor.set;\n    Object.defineProperty(node, valueField, {\n      configurable: !0,\n      get: function () {\n        return get.call(this);\n      },\n      set: function (value) {\n        currentValue = \"\" + value;\n        set.call(this, value);\n      }\n    });\n    Object.defineProperty(node, valueField, {\n      enumerable: descriptor.enumerable\n    });\n    return {\n      getValue: function () {\n        return currentValue;\n      },\n      setValue: function (value) {\n        currentValue = \"\" + value;\n      },\n      stopTracking: function () {\n        node._valueTracker = null;\n        delete node[valueField];\n      }\n    };\n  }\n}\nfunction track(node) {\n  node._valueTracker || (node._valueTracker = trackValueOnNode(node));\n}\nfunction updateValueIfChanged(node) {\n  if (!node) return !1;\n  var tracker = node._valueTracker;\n  if (!tracker) return !0;\n  var lastValue = tracker.getValue();\n  var value = \"\";\n  node &&\n    (value = isCheckable(node)\n      ? node.checked\n        ? \"true\"\n        : \"false\"\n      : node.value);\n  node = value;\n  return node !== lastValue ? (tracker.setValue(node), !0) : !1;\n}\nfunction getActiveElement(doc) {\n  doc = doc || (\"undefined\" !== typeof document ? document : void 0);\n  if (\"undefined\" === typeof doc) return null;\n  try {\n    return doc.activeElement || doc.body;\n  } catch (e) {\n    return doc.body;\n  }\n}\nvar escapeSelectorAttributeValueInsideDoubleQuotesRegex = /[\\n\"\\\\]/g;\nfunction escapeSelectorAttributeValueInsideDoubleQuotes(value) {\n  return value.replace(\n    escapeSelectorAttributeValueInsideDoubleQuotesRegex,\n    function (ch) {\n      return \"\\\\\" + ch.charCodeAt(0).toString(16) + \" \";\n    }\n  );\n}\nfunction updateInput(\n  element,\n  value,\n  defaultValue,\n  lastDefaultValue,\n  checked,\n  defaultChecked,\n  type,\n  name\n) {\n  element.name = \"\";\n  null != type &&\n  \"function\" !== typeof type &&\n  \"symbol\" !== typeof type &&\n  \"boolean\" !== typeof type\n    ? (element.type = type)\n    : element.removeAttribute(\"type\");\n  if (null != value)\n    if (\"number\" === type) {\n      if ((0 === value && \"\" === element.value) || element.value != value)\n        element.value = \"\" + getToStringValue(value);\n    } else\n      element.value !== \"\" + getToStringValue(value) &&\n        (element.value = \"\" + getToStringValue(value));\n  else\n    (\"submit\" !== type && \"reset\" !== type) || element.removeAttribute(\"value\");\n  null != value\n    ? setDefaultValue(element, type, getToStringValue(value))\n    : null != defaultValue\n      ? setDefaultValue(element, type, getToStringValue(defaultValue))\n      : null != lastDefaultValue && element.removeAttribute(\"value\");\n  null == checked &&\n    null != defaultChecked &&\n    (element.defaultChecked = !!defaultChecked);\n  null != checked &&\n    (element.checked =\n      checked && \"function\" !== typeof checked && \"symbol\" !== typeof checked);\n  null != name &&\n  \"function\" !== typeof name &&\n  \"symbol\" !== typeof name &&\n  \"boolean\" !== typeof name\n    ? (element.name = \"\" + getToStringValue(name))\n    : element.removeAttribute(\"name\");\n}\nfunction initInput(\n  element,\n  value,\n  defaultValue,\n  checked,\n  defaultChecked,\n  type,\n  name,\n  isHydrating\n) {\n  null != type &&\n    \"function\" !== typeof type &&\n    \"symbol\" !== typeof type &&\n    \"boolean\" !== typeof type &&\n    (element.type = type);\n  if (null != value || null != defaultValue) {\n    if (\n      !(\n        (\"submit\" !== type && \"reset\" !== type) ||\n        (void 0 !== value && null !== value)\n      )\n    )\n      return;\n    defaultValue =\n      null != defaultValue ? \"\" + getToStringValue(defaultValue) : \"\";\n    value = null != value ? \"\" + getToStringValue(value) : defaultValue;\n    isHydrating || value === element.value || (element.value = value);\n    element.defaultValue = value;\n  }\n  checked = null != checked ? checked : defaultChecked;\n  checked =\n    \"function\" !== typeof checked && \"symbol\" !== typeof checked && !!checked;\n  element.checked = isHydrating ? element.checked : !!checked;\n  element.defaultChecked = !!checked;\n  null != name &&\n    \"function\" !== typeof name &&\n    \"symbol\" !== typeof name &&\n    \"boolean\" !== typeof name &&\n    (element.name = name);\n}\nfunction setDefaultValue(node, type, value) {\n  (\"number\" === type && getActiveElement(node.ownerDocument) === node) ||\n    node.defaultValue === \"\" + value ||\n    (node.defaultValue = \"\" + value);\n}\nfunction updateOptions(node, multiple, propValue, setDefaultSelected) {\n  node = node.options;\n  if (multiple) {\n    multiple = {};\n    for (var i = 0; i < propValue.length; i++)\n      multiple[\"$\" + propValue[i]] = !0;\n    for (propValue = 0; propValue < node.length; propValue++)\n      (i = multiple.hasOwnProperty(\"$\" + node[propValue].value)),\n        node[propValue].selected !== i && (node[propValue].selected = i),\n        i && setDefaultSelected && (node[propValue].defaultSelected = !0);\n  } else {\n    propValue = \"\" + getToStringValue(propValue);\n    multiple = null;\n    for (i = 0; i < node.length; i++) {\n      if (node[i].value === propValue) {\n        node[i].selected = !0;\n        setDefaultSelected && (node[i].defaultSelected = !0);\n        return;\n      }\n      null !== multiple || node[i].disabled || (multiple = node[i]);\n    }\n    null !== multiple && (multiple.selected = !0);\n  }\n}\nfunction updateTextarea(element, value, defaultValue) {\n  if (\n    null != value &&\n    ((value = \"\" + getToStringValue(value)),\n    value !== element.value && (element.value = value),\n    null == defaultValue)\n  ) {\n    element.defaultValue !== value && (element.defaultValue = value);\n    return;\n  }\n  element.defaultValue =\n    null != defaultValue ? \"\" + getToStringValue(defaultValue) : \"\";\n}\nfunction initTextarea(element, value, defaultValue, children) {\n  if (null == value) {\n    if (null != children) {\n      if (null != defaultValue) throw Error(formatProdErrorMessage(92));\n      if (isArrayImpl(children)) {\n        if (1 < children.length) throw Error(formatProdErrorMessage(93));\n        children = children[0];\n      }\n      defaultValue = children;\n    }\n    null == defaultValue && (defaultValue = \"\");\n    value = defaultValue;\n  }\n  defaultValue = getToStringValue(value);\n  element.defaultValue = defaultValue;\n  children = element.textContent;\n  children === defaultValue &&\n    \"\" !== children &&\n    null !== children &&\n    (element.value = children);\n}\nfunction setTextContent(node, text) {\n  if (text) {\n    var firstChild = node.firstChild;\n    if (\n      firstChild &&\n      firstChild === node.lastChild &&\n      3 === firstChild.nodeType\n    ) {\n      firstChild.nodeValue = text;\n      return;\n    }\n  }\n  node.textContent = text;\n}\nvar unitlessNumbers = new Set(\n  \"animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp\".split(\n    \" \"\n  )\n);\nfunction setValueForStyle(style, styleName, value) {\n  var isCustomProperty = 0 === styleName.indexOf(\"--\");\n  null == value || \"boolean\" === typeof value || \"\" === value\n    ? isCustomProperty\n      ? style.setProperty(styleName, \"\")\n      : \"float\" === styleName\n        ? (style.cssFloat = \"\")\n        : (style[styleName] = \"\")\n    : isCustomProperty\n      ? style.setProperty(styleName, value)\n      : \"number\" !== typeof value ||\n          0 === value ||\n          unitlessNumbers.has(styleName)\n        ? \"float\" === styleName\n          ? (style.cssFloat = value)\n          : (style[styleName] = (\"\" + value).trim())\n        : (style[styleName] = value + \"px\");\n}\nfunction setValueForStyles(node, styles, prevStyles) {\n  if (null != styles && \"object\" !== typeof styles)\n    throw Error(formatProdErrorMessage(62));\n  node = node.style;\n  if (null != prevStyles) {\n    for (var styleName in prevStyles)\n      !prevStyles.hasOwnProperty(styleName) ||\n        (null != styles && styles.hasOwnProperty(styleName)) ||\n        (0 === styleName.indexOf(\"--\")\n          ? node.setProperty(styleName, \"\")\n          : \"float\" === styleName\n            ? (node.cssFloat = \"\")\n            : (node[styleName] = \"\"));\n    for (var styleName$16 in styles)\n      (styleName = styles[styleName$16]),\n        styles.hasOwnProperty(styleName$16) &&\n          prevStyles[styleName$16] !== styleName &&\n          setValueForStyle(node, styleName$16, styleName);\n  } else\n    for (var styleName$17 in styles)\n      styles.hasOwnProperty(styleName$17) &&\n        setValueForStyle(node, styleName$17, styles[styleName$17]);\n}\nfunction isCustomElement(tagName) {\n  if (-1 === tagName.indexOf(\"-\")) return !1;\n  switch (tagName) {\n    case \"annotation-xml\":\n    case \"color-profile\":\n    case \"font-face\":\n    case \"font-face-src\":\n    case \"font-face-uri\":\n    case \"font-face-format\":\n    case \"font-face-name\":\n    case \"missing-glyph\":\n      return !1;\n    default:\n      return !0;\n  }\n}\nvar aliases = new Map([\n    [\"acceptCharset\", \"accept-charset\"],\n    [\"htmlFor\", \"for\"],\n    [\"httpEquiv\", \"http-equiv\"],\n    [\"crossOrigin\", \"crossorigin\"],\n    [\"accentHeight\", \"accent-height\"],\n    [\"alignmentBaseline\", \"alignment-baseline\"],\n    [\"arabicForm\", \"arabic-form\"],\n    [\"baselineShift\", \"baseline-shift\"],\n    [\"capHeight\", \"cap-height\"],\n    [\"clipPath\", \"clip-path\"],\n    [\"clipRule\", \"clip-rule\"],\n    [\"colorInterpolation\", \"color-interpolation\"],\n    [\"colorInterpolationFilters\", \"color-interpolation-filters\"],\n    [\"colorProfile\", \"color-profile\"],\n    [\"colorRendering\", \"color-rendering\"],\n    [\"dominantBaseline\", \"dominant-baseline\"],\n    [\"enableBackground\", \"enable-background\"],\n    [\"fillOpacity\", \"fill-opacity\"],\n    [\"fillRule\", \"fill-rule\"],\n    [\"floodColor\", \"flood-color\"],\n    [\"floodOpacity\", \"flood-opacity\"],\n    [\"fontFamily\", \"font-family\"],\n    [\"fontSize\", \"font-size\"],\n    [\"fontSizeAdjust\", \"font-size-adjust\"],\n    [\"fontStretch\", \"font-stretch\"],\n    [\"fontStyle\", \"font-style\"],\n    [\"fontVariant\", \"font-variant\"],\n    [\"fontWeight\", \"font-weight\"],\n    [\"glyphName\", \"glyph-name\"],\n    [\"glyphOrientationHorizontal\", \"glyph-orientation-horizontal\"],\n    [\"glyphOrientationVertical\", \"glyph-orientation-vertical\"],\n    [\"horizAdvX\", \"horiz-adv-x\"],\n    [\"horizOriginX\", \"horiz-origin-x\"],\n    [\"imageRendering\", \"image-rendering\"],\n    [\"letterSpacing\", \"letter-spacing\"],\n    [\"lightingColor\", \"lighting-color\"],\n    [\"markerEnd\", \"marker-end\"],\n    [\"markerMid\", \"marker-mid\"],\n    [\"markerStart\", \"marker-start\"],\n    [\"overlinePosition\", \"overline-position\"],\n    [\"overlineThickness\", \"overline-thickness\"],\n    [\"paintOrder\", \"paint-order\"],\n    [\"panose-1\", \"panose-1\"],\n    [\"pointerEvents\", \"pointer-events\"],\n    [\"renderingIntent\", \"rendering-intent\"],\n    [\"shapeRendering\", \"shape-rendering\"],\n    [\"stopColor\", \"stop-color\"],\n    [\"stopOpacity\", \"stop-opacity\"],\n    [\"strikethroughPosition\", \"strikethrough-position\"],\n    [\"strikethroughThickness\", \"strikethrough-thickness\"],\n    [\"strokeDasharray\", \"stroke-dasharray\"],\n    [\"strokeDashoffset\", \"stroke-dashoffset\"],\n    [\"strokeLinecap\", \"stroke-linecap\"],\n    [\"strokeLinejoin\", \"stroke-linejoin\"],\n    [\"strokeMiterlimit\", \"stroke-miterlimit\"],\n    [\"strokeOpacity\", \"stroke-opacity\"],\n    [\"strokeWidth\", \"stroke-width\"],\n    [\"textAnchor\", \"text-anchor\"],\n    [\"textDecoration\", \"text-decoration\"],\n    [\"textRendering\", \"text-rendering\"],\n    [\"transformOrigin\", \"transform-origin\"],\n    [\"underlinePosition\", \"underline-position\"],\n    [\"underlineThickness\", \"underline-thickness\"],\n    [\"unicodeBidi\", \"unicode-bidi\"],\n    [\"unicodeRange\", \"unicode-range\"],\n    [\"unitsPerEm\", \"units-per-em\"],\n    [\"vAlphabetic\", \"v-alphabetic\"],\n    [\"vHanging\", \"v-hanging\"],\n    [\"vIdeographic\", \"v-ideographic\"],\n    [\"vMathematical\", \"v-mathematical\"],\n    [\"vectorEffect\", \"vector-effect\"],\n    [\"vertAdvY\", \"vert-adv-y\"],\n    [\"vertOriginX\", \"vert-origin-x\"],\n    [\"vertOriginY\", \"vert-origin-y\"],\n    [\"wordSpacing\", \"word-spacing\"],\n    [\"writingMode\", \"writing-mode\"],\n    [\"xmlnsXlink\", \"xmlns:xlink\"],\n    [\"xHeight\", \"x-height\"]\n  ]),\n  isJavaScriptProtocol =\n    /^[\\u0000-\\u001F ]*j[\\r\\n\\t]*a[\\r\\n\\t]*v[\\r\\n\\t]*a[\\r\\n\\t]*s[\\r\\n\\t]*c[\\r\\n\\t]*r[\\r\\n\\t]*i[\\r\\n\\t]*p[\\r\\n\\t]*t[\\r\\n\\t]*:/i;\nfunction sanitizeURL(url) {\n  return isJavaScriptProtocol.test(\"\" + url)\n    ? \"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')\"\n    : url;\n}\nvar currentReplayingEvent = null;\nfunction getEventTarget(nativeEvent) {\n  nativeEvent = nativeEvent.target || nativeEvent.srcElement || window;\n  nativeEvent.correspondingUseElement &&\n    (nativeEvent = nativeEvent.correspondingUseElement);\n  return 3 === nativeEvent.nodeType ? nativeEvent.parentNode : nativeEvent;\n}\nvar restoreTarget = null,\n  restoreQueue = null;\nfunction restoreStateOfTarget(target) {\n  var internalInstance = getInstanceFromNode(target);\n  if (internalInstance && (target = internalInstance.stateNode)) {\n    var props = target[internalPropsKey] || null;\n    a: switch (((target = internalInstance.stateNode), internalInstance.type)) {\n      case \"input\":\n        updateInput(\n          target,\n          props.value,\n          props.defaultValue,\n          props.defaultValue,\n          props.checked,\n          props.defaultChecked,\n          props.type,\n          props.name\n        );\n        internalInstance = props.name;\n        if (\"radio\" === props.type && null != internalInstance) {\n          for (props = target; props.parentNode; ) props = props.parentNode;\n          props = props.querySelectorAll(\n            'input[name=\"' +\n              escapeSelectorAttributeValueInsideDoubleQuotes(\n                \"\" + internalInstance\n              ) +\n              '\"][type=\"radio\"]'\n          );\n          for (\n            internalInstance = 0;\n            internalInstance < props.length;\n            internalInstance++\n          ) {\n            var otherNode = props[internalInstance];\n            if (otherNode !== target && otherNode.form === target.form) {\n              var otherProps = otherNode[internalPropsKey] || null;\n              if (!otherProps) throw Error(formatProdErrorMessage(90));\n              updateInput(\n                otherNode,\n                otherProps.value,\n                otherProps.defaultValue,\n                otherProps.defaultValue,\n                otherProps.checked,\n                otherProps.defaultChecked,\n                otherProps.type,\n                otherProps.name\n              );\n            }\n          }\n          for (\n            internalInstance = 0;\n            internalInstance < props.length;\n            internalInstance++\n          )\n            (otherNode = props[internalInstance]),\n              otherNode.form === target.form && updateValueIfChanged(otherNode);\n        }\n        break a;\n      case \"textarea\":\n        updateTextarea(target, props.value, props.defaultValue);\n        break a;\n      case \"select\":\n        (internalInstance = props.value),\n          null != internalInstance &&\n            updateOptions(target, !!props.multiple, internalInstance, !1);\n    }\n  }\n}\nvar isInsideEventHandler = !1;\nfunction batchedUpdates$1(fn, a, b) {\n  if (isInsideEventHandler) return fn(a, b);\n  isInsideEventHandler = !0;\n  try {\n    var JSCompiler_inline_result = fn(a);\n    return JSCompiler_inline_result;\n  } finally {\n    if (\n      ((isInsideEventHandler = !1),\n      null !== restoreTarget || null !== restoreQueue)\n    )\n      if (\n        (flushSyncWork$1(),\n        restoreTarget &&\n          ((a = restoreTarget),\n          (fn = restoreQueue),\n          (restoreQueue = restoreTarget = null),\n          restoreStateOfTarget(a),\n          fn))\n      )\n        for (a = 0; a < fn.length; a++) restoreStateOfTarget(fn[a]);\n  }\n}\nfunction getListener(inst, registrationName) {\n  var stateNode = inst.stateNode;\n  if (null === stateNode) return null;\n  var props = stateNode[internalPropsKey] || null;\n  if (null === props) return null;\n  stateNode = props[registrationName];\n  a: switch (registrationName) {\n    case \"onClick\":\n    case \"onClickCapture\":\n    case \"onDoubleClick\":\n    case \"onDoubleClickCapture\":\n    case \"onMouseDown\":\n    case \"onMouseDownCapture\":\n    case \"onMouseMove\":\n    case \"onMouseMoveCapture\":\n    case \"onMouseUp\":\n    case \"onMouseUpCapture\":\n    case \"onMouseEnter\":\n      (props = !props.disabled) ||\n        ((inst = inst.type),\n        (props = !(\n          \"button\" === inst ||\n          \"input\" === inst ||\n          \"select\" === inst ||\n          \"textarea\" === inst\n        )));\n      inst = !props;\n      break a;\n    default:\n      inst = !1;\n  }\n  if (inst) return null;\n  if (stateNode && \"function\" !== typeof stateNode)\n    throw Error(\n      formatProdErrorMessage(231, registrationName, typeof stateNode)\n    );\n  return stateNode;\n}\nvar passiveBrowserEventsSupported = !1;\nif (canUseDOM)\n  try {\n    var options = {};\n    Object.defineProperty(options, \"passive\", {\n      get: function () {\n        passiveBrowserEventsSupported = !0;\n      }\n    });\n    window.addEventListener(\"test\", options, options);\n    window.removeEventListener(\"test\", options, options);\n  } catch (e) {\n    passiveBrowserEventsSupported = !1;\n  }\nvar root = null,\n  startText = null,\n  fallbackText = null;\nfunction getData() {\n  if (fallbackText) return fallbackText;\n  var start,\n    startValue = startText,\n    startLength = startValue.length,\n    end,\n    endValue = \"value\" in root ? root.value : root.textContent,\n    endLength = endValue.length;\n  for (\n    start = 0;\n    start < startLength && startValue[start] === endValue[start];\n    start++\n  );\n  var minEnd = startLength - start;\n  for (\n    end = 1;\n    end <= minEnd &&\n    startValue[startLength - end] === endValue[endLength - end];\n    end++\n  );\n  return (fallbackText = endValue.slice(start, 1 < end ? 1 - end : void 0));\n}\nfunction getEventCharCode(nativeEvent) {\n  var keyCode = nativeEvent.keyCode;\n  \"charCode\" in nativeEvent\n    ? ((nativeEvent = nativeEvent.charCode),\n      0 === nativeEvent && 13 === keyCode && (nativeEvent = 13))\n    : (nativeEvent = keyCode);\n  10 === nativeEvent && (nativeEvent = 13);\n  return 32 <= nativeEvent || 13 === nativeEvent ? nativeEvent : 0;\n}\nfunction functionThatReturnsTrue() {\n  return !0;\n}\nfunction functionThatReturnsFalse() {\n  return !1;\n}\nfunction createSyntheticEvent(Interface) {\n  function SyntheticBaseEvent(\n    reactName,\n    reactEventType,\n    targetInst,\n    nativeEvent,\n    nativeEventTarget\n  ) {\n    this._reactName = reactName;\n    this._targetInst = targetInst;\n    this.type = reactEventType;\n    this.nativeEvent = nativeEvent;\n    this.target = nativeEventTarget;\n    this.currentTarget = null;\n    for (var propName in Interface)\n      Interface.hasOwnProperty(propName) &&\n        ((reactName = Interface[propName]),\n        (this[propName] = reactName\n          ? reactName(nativeEvent)\n          : nativeEvent[propName]));\n    this.isDefaultPrevented = (\n      null != nativeEvent.defaultPrevented\n        ? nativeEvent.defaultPrevented\n        : !1 === nativeEvent.returnValue\n    )\n      ? functionThatReturnsTrue\n      : functionThatReturnsFalse;\n    this.isPropagationStopped = functionThatReturnsFalse;\n    return this;\n  }\n  assign(SyntheticBaseEvent.prototype, {\n    preventDefault: function () {\n      this.defaultPrevented = !0;\n      var event = this.nativeEvent;\n      event &&\n        (event.preventDefault\n          ? event.preventDefault()\n          : \"unknown\" !== typeof event.returnValue && (event.returnValue = !1),\n        (this.isDefaultPrevented = functionThatReturnsTrue));\n    },\n    stopPropagation: function () {\n      var event = this.nativeEvent;\n      event &&\n        (event.stopPropagation\n          ? event.stopPropagation()\n          : \"unknown\" !== typeof event.cancelBubble &&\n            (event.cancelBubble = !0),\n        (this.isPropagationStopped = functionThatReturnsTrue));\n    },\n    persist: function () {},\n    isPersistent: functionThatReturnsTrue\n  });\n  return SyntheticBaseEvent;\n}\nvar EventInterface = {\n    eventPhase: 0,\n    bubbles: 0,\n    cancelable: 0,\n    timeStamp: function (event) {\n      return event.timeStamp || Date.now();\n    },\n    defaultPrevented: 0,\n    isTrusted: 0\n  },\n  SyntheticEvent = createSyntheticEvent(EventInterface),\n  UIEventInterface = assign({}, EventInterface, { view: 0, detail: 0 }),\n  SyntheticUIEvent = createSyntheticEvent(UIEventInterface),\n  lastMovementX,\n  lastMovementY,\n  lastMouseEvent,\n  MouseEventInterface = assign({}, UIEventInterface, {\n    screenX: 0,\n    screenY: 0,\n    clientX: 0,\n    clientY: 0,\n    pageX: 0,\n    pageY: 0,\n    ctrlKey: 0,\n    shiftKey: 0,\n    altKey: 0,\n    metaKey: 0,\n    getModifierState: getEventModifierState,\n    button: 0,\n    buttons: 0,\n    relatedTarget: function (event) {\n      return void 0 === event.relatedTarget\n        ? event.fromElement === event.srcElement\n          ? event.toElement\n          : event.fromElement\n        : event.relatedTarget;\n    },\n    movementX: function (event) {\n      if (\"movementX\" in event) return event.movementX;\n      event !== lastMouseEvent &&\n        (lastMouseEvent && \"mousemove\" === event.type\n          ? ((lastMovementX = event.screenX - lastMouseEvent.screenX),\n            (lastMovementY = event.screenY - lastMouseEvent.screenY))\n          : (lastMovementY = lastMovementX = 0),\n        (lastMouseEvent = event));\n      return lastMovementX;\n    },\n    movementY: function (event) {\n      return \"movementY\" in event ? event.movementY : lastMovementY;\n    }\n  }),\n  SyntheticMouseEvent = createSyntheticEvent(MouseEventInterface),\n  DragEventInterface = assign({}, MouseEventInterface, { dataTransfer: 0 }),\n  SyntheticDragEvent = createSyntheticEvent(DragEventInterface),\n  FocusEventInterface = assign({}, UIEventInterface, { relatedTarget: 0 }),\n  SyntheticFocusEvent = createSyntheticEvent(FocusEventInterface),\n  AnimationEventInterface = assign({}, EventInterface, {\n    animationName: 0,\n    elapsedTime: 0,\n    pseudoElement: 0\n  }),\n  SyntheticAnimationEvent = createSyntheticEvent(AnimationEventInterface),\n  ClipboardEventInterface = assign({}, EventInterface, {\n    clipboardData: function (event) {\n      return \"clipboardData\" in event\n        ? event.clipboardData\n        : window.clipboardData;\n    }\n  }),\n  SyntheticClipboardEvent = createSyntheticEvent(ClipboardEventInterface),\n  CompositionEventInterface = assign({}, EventInterface, { data: 0 }),\n  SyntheticCompositionEvent = createSyntheticEvent(CompositionEventInterface),\n  normalizeKey = {\n    Esc: \"Escape\",\n    Spacebar: \" \",\n    Left: \"ArrowLeft\",\n    Up: \"ArrowUp\",\n    Right: \"ArrowRight\",\n    Down: \"ArrowDown\",\n    Del: \"Delete\",\n    Win: \"OS\",\n    Menu: \"ContextMenu\",\n    Apps: \"ContextMenu\",\n    Scroll: \"ScrollLock\",\n    MozPrintableKey: \"Unidentified\"\n  },\n  translateToKey = {\n    8: \"Backspace\",\n    9: \"Tab\",\n    12: \"Clear\",\n    13: \"Enter\",\n    16: \"Shift\",\n    17: \"Control\",\n    18: \"Alt\",\n    19: \"Pause\",\n    20: \"CapsLock\",\n    27: \"Escape\",\n    32: \" \",\n    33: \"PageUp\",\n    34: \"PageDown\",\n    35: \"End\",\n    36: \"Home\",\n    37: \"ArrowLeft\",\n    38: \"ArrowUp\",\n    39: \"ArrowRight\",\n    40: \"ArrowDown\",\n    45: \"Insert\",\n    46: \"Delete\",\n    112: \"F1\",\n    113: \"F2\",\n    114: \"F3\",\n    115: \"F4\",\n    116: \"F5\",\n    117: \"F6\",\n    118: \"F7\",\n    119: \"F8\",\n    120: \"F9\",\n    121: \"F10\",\n    122: \"F11\",\n    123: \"F12\",\n    144: \"NumLock\",\n    145: \"ScrollLock\",\n    224: \"Meta\"\n  },\n  modifierKeyToProp = {\n    Alt: \"altKey\",\n    Control: \"ctrlKey\",\n    Meta: \"metaKey\",\n    Shift: \"shiftKey\"\n  };\nfunction modifierStateGetter(keyArg) {\n  var nativeEvent = this.nativeEvent;\n  return nativeEvent.getModifierState\n    ? nativeEvent.getModifierState(keyArg)\n    : (keyArg = modifierKeyToProp[keyArg])\n      ? !!nativeEvent[keyArg]\n      : !1;\n}\nfunction getEventModifierState() {\n  return modifierStateGetter;\n}\nvar KeyboardEventInterface = assign({}, UIEventInterface, {\n    key: function (nativeEvent) {\n      if (nativeEvent.key) {\n        var key = normalizeKey[nativeEvent.key] || nativeEvent.key;\n        if (\"Unidentified\" !== key) return key;\n      }\n      return \"keypress\" === nativeEvent.type\n        ? ((nativeEvent = getEventCharCode(nativeEvent)),\n          13 === nativeEvent ? \"Enter\" : String.fromCharCode(nativeEvent))\n        : \"keydown\" === nativeEvent.type || \"keyup\" === nativeEvent.type\n          ? translateToKey[nativeEvent.keyCode] || \"Unidentified\"\n          : \"\";\n    },\n    code: 0,\n    location: 0,\n    ctrlKey: 0,\n    shiftKey: 0,\n    altKey: 0,\n    metaKey: 0,\n    repeat: 0,\n    locale: 0,\n    getModifierState: getEventModifierState,\n    charCode: function (event) {\n      return \"keypress\" === event.type ? getEventCharCode(event) : 0;\n    },\n    keyCode: function (event) {\n      return \"keydown\" === event.type || \"keyup\" === event.type\n        ? event.keyCode\n        : 0;\n    },\n    which: function (event) {\n      return \"keypress\" === event.type\n        ? getEventCharCode(event)\n        : \"keydown\" === event.type || \"keyup\" === event.type\n          ? event.keyCode\n          : 0;\n    }\n  }),\n  SyntheticKeyboardEvent = createSyntheticEvent(KeyboardEventInterface),\n  PointerEventInterface = assign({}, MouseEventInterface, {\n    pointerId: 0,\n    width: 0,\n    height: 0,\n    pressure: 0,\n    tangentialPressure: 0,\n    tiltX: 0,\n    tiltY: 0,\n    twist: 0,\n    pointerType: 0,\n    isPrimary: 0\n  }),\n  SyntheticPointerEvent = createSyntheticEvent(PointerEventInterface),\n  TouchEventInterface = assign({}, UIEventInterface, {\n    touches: 0,\n    targetTouches: 0,\n    changedTouches: 0,\n    altKey: 0,\n    metaKey: 0,\n    ctrlKey: 0,\n    shiftKey: 0,\n    getModifierState: getEventModifierState\n  }),\n  SyntheticTouchEvent = createSyntheticEvent(TouchEventInterface),\n  TransitionEventInterface = assign({}, EventInterface, {\n    propertyName: 0,\n    elapsedTime: 0,\n    pseudoElement: 0\n  }),\n  SyntheticTransitionEvent = createSyntheticEvent(TransitionEventInterface),\n  WheelEventInterface = assign({}, MouseEventInterface, {\n    deltaX: function (event) {\n      return \"deltaX\" in event\n        ? event.deltaX\n        : \"wheelDeltaX\" in event\n          ? -event.wheelDeltaX\n          : 0;\n    },\n    deltaY: function (event) {\n      return \"deltaY\" in event\n        ? event.deltaY\n        : \"wheelDeltaY\" in event\n          ? -event.wheelDeltaY\n          : \"wheelDelta\" in event\n            ? -event.wheelDelta\n            : 0;\n    },\n    deltaZ: 0,\n    deltaMode: 0\n  }),\n  SyntheticWheelEvent = createSyntheticEvent(WheelEventInterface),\n  ToggleEventInterface = assign({}, EventInterface, {\n    newState: 0,\n    oldState: 0\n  }),\n  SyntheticToggleEvent = createSyntheticEvent(ToggleEventInterface),\n  END_KEYCODES = [9, 13, 27, 32],\n  canUseCompositionEvent = canUseDOM && \"CompositionEvent\" in window,\n  documentMode = null;\ncanUseDOM &&\n  \"documentMode\" in document &&\n  (documentMode = document.documentMode);\nvar canUseTextInputEvent = canUseDOM && \"TextEvent\" in window && !documentMode,\n  useFallbackCompositionData =\n    canUseDOM &&\n    (!canUseCompositionEvent ||\n      (documentMode && 8 < documentMode && 11 >= documentMode)),\n  SPACEBAR_CHAR = String.fromCharCode(32),\n  hasSpaceKeypress = !1;\nfunction isFallbackCompositionEnd(domEventName, nativeEvent) {\n  switch (domEventName) {\n    case \"keyup\":\n      return -1 !== END_KEYCODES.indexOf(nativeEvent.keyCode);\n    case \"keydown\":\n      return 229 !== nativeEvent.keyCode;\n    case \"keypress\":\n    case \"mousedown\":\n    case \"focusout\":\n      return !0;\n    default:\n      return !1;\n  }\n}\nfunction getDataFromCustomEvent(nativeEvent) {\n  nativeEvent = nativeEvent.detail;\n  return \"object\" === typeof nativeEvent && \"data\" in nativeEvent\n    ? nativeEvent.data\n    : null;\n}\nvar isComposing = !1;\nfunction getNativeBeforeInputChars(domEventName, nativeEvent) {\n  switch (domEventName) {\n    case \"compositionend\":\n      return getDataFromCustomEvent(nativeEvent);\n    case \"keypress\":\n      if (32 !== nativeEvent.which) return null;\n      hasSpaceKeypress = !0;\n      return SPACEBAR_CHAR;\n    case \"textInput\":\n      return (\n        (domEventName = nativeEvent.data),\n        domEventName === SPACEBAR_CHAR && hasSpaceKeypress ? null : domEventName\n      );\n    default:\n      return null;\n  }\n}\nfunction getFallbackBeforeInputChars(domEventName, nativeEvent) {\n  if (isComposing)\n    return \"compositionend\" === domEventName ||\n      (!canUseCompositionEvent &&\n        isFallbackCompositionEnd(domEventName, nativeEvent))\n      ? ((domEventName = getData()),\n        (fallbackText = startText = root = null),\n        (isComposing = !1),\n        domEventName)\n      : null;\n  switch (domEventName) {\n    case \"paste\":\n      return null;\n    case \"keypress\":\n      if (\n        !(nativeEvent.ctrlKey || nativeEvent.altKey || nativeEvent.metaKey) ||\n        (nativeEvent.ctrlKey && nativeEvent.altKey)\n      ) {\n        if (nativeEvent.char && 1 < nativeEvent.char.length)\n          return nativeEvent.char;\n        if (nativeEvent.which) return String.fromCharCode(nativeEvent.which);\n      }\n      return null;\n    case \"compositionend\":\n      return useFallbackCompositionData && \"ko\" !== nativeEvent.locale\n        ? null\n        : nativeEvent.data;\n    default:\n      return null;\n  }\n}\nvar supportedInputTypes = {\n  color: !0,\n  date: !0,\n  datetime: !0,\n  \"datetime-local\": !0,\n  email: !0,\n  month: !0,\n  number: !0,\n  password: !0,\n  range: !0,\n  search: !0,\n  tel: !0,\n  text: !0,\n  time: !0,\n  url: !0,\n  week: !0\n};\nfunction isTextInputElement(elem) {\n  var nodeName = elem && elem.nodeName && elem.nodeName.toLowerCase();\n  return \"input\" === nodeName\n    ? !!supportedInputTypes[elem.type]\n    : \"textarea\" === nodeName\n      ? !0\n      : !1;\n}\nfunction createAndAccumulateChangeEvent(\n  dispatchQueue,\n  inst,\n  nativeEvent,\n  target\n) {\n  restoreTarget\n    ? restoreQueue\n      ? restoreQueue.push(target)\n      : (restoreQueue = [target])\n    : (restoreTarget = target);\n  inst = accumulateTwoPhaseListeners(inst, \"onChange\");\n  0 < inst.length &&\n    ((nativeEvent = new SyntheticEvent(\n      \"onChange\",\n      \"change\",\n      null,\n      nativeEvent,\n      target\n    )),\n    dispatchQueue.push({ event: nativeEvent, listeners: inst }));\n}\nvar activeElement$1 = null,\n  activeElementInst$1 = null;\nfunction runEventInBatch(dispatchQueue) {\n  processDispatchQueue(dispatchQueue, 0);\n}\nfunction getInstIfValueChanged(targetInst) {\n  var targetNode = getNodeFromInstance(targetInst);\n  if (updateValueIfChanged(targetNode)) return targetInst;\n}\nfunction getTargetInstForChangeEvent(domEventName, targetInst) {\n  if (\"change\" === domEventName) return targetInst;\n}\nvar isInputEventSupported = !1;\nif (canUseDOM) {\n  var JSCompiler_inline_result$jscomp$283;\n  if (canUseDOM) {\n    var isSupported$jscomp$inline_418 = \"oninput\" in document;\n    if (!isSupported$jscomp$inline_418) {\n      var element$jscomp$inline_419 = document.createElement(\"div\");\n      element$jscomp$inline_419.setAttribute(\"oninput\", \"return;\");\n      isSupported$jscomp$inline_418 =\n        \"function\" === typeof element$jscomp$inline_419.oninput;\n    }\n    JSCompiler_inline_result$jscomp$283 = isSupported$jscomp$inline_418;\n  } else JSCompiler_inline_result$jscomp$283 = !1;\n  isInputEventSupported =\n    JSCompiler_inline_result$jscomp$283 &&\n    (!document.documentMode || 9 < document.documentMode);\n}\nfunction stopWatchingForValueChange() {\n  activeElement$1 &&\n    (activeElement$1.detachEvent(\"onpropertychange\", handlePropertyChange),\n    (activeElementInst$1 = activeElement$1 = null));\n}\nfunction handlePropertyChange(nativeEvent) {\n  if (\n    \"value\" === nativeEvent.propertyName &&\n    getInstIfValueChanged(activeElementInst$1)\n  ) {\n    var dispatchQueue = [];\n    createAndAccumulateChangeEvent(\n      dispatchQueue,\n      activeElementInst$1,\n      nativeEvent,\n      getEventTarget(nativeEvent)\n    );\n    batchedUpdates$1(runEventInBatch, dispatchQueue);\n  }\n}\nfunction handleEventsForInputEventPolyfill(domEventName, target, targetInst) {\n  \"focusin\" === domEventName\n    ? (stopWatchingForValueChange(),\n      (activeElement$1 = target),\n      (activeElementInst$1 = targetInst),\n      activeElement$1.attachEvent(\"onpropertychange\", handlePropertyChange))\n    : \"focusout\" === domEventName && stopWatchingForValueChange();\n}\nfunction getTargetInstForInputEventPolyfill(domEventName) {\n  if (\n    \"selectionchange\" === domEventName ||\n    \"keyup\" === domEventName ||\n    \"keydown\" === domEventName\n  )\n    return getInstIfValueChanged(activeElementInst$1);\n}\nfunction getTargetInstForClickEvent(domEventName, targetInst) {\n  if (\"click\" === domEventName) return getInstIfValueChanged(targetInst);\n}\nfunction getTargetInstForInputOrChangeEvent(domEventName, targetInst) {\n  if (\"input\" === domEventName || \"change\" === domEventName)\n    return getInstIfValueChanged(targetInst);\n}\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is;\nfunction shallowEqual(objA, objB) {\n  if (objectIs(objA, objB)) return !0;\n  if (\n    \"object\" !== typeof objA ||\n    null === objA ||\n    \"object\" !== typeof objB ||\n    null === objB\n  )\n    return !1;\n  var keysA = Object.keys(objA),\n    keysB = Object.keys(objB);\n  if (keysA.length !== keysB.length) return !1;\n  for (keysB = 0; keysB < keysA.length; keysB++) {\n    var currentKey = keysA[keysB];\n    if (\n      !hasOwnProperty.call(objB, currentKey) ||\n      !objectIs(objA[currentKey], objB[currentKey])\n    )\n      return !1;\n  }\n  return !0;\n}\nfunction getLeafNode(node) {\n  for (; node && node.firstChild; ) node = node.firstChild;\n  return node;\n}\nfunction getNodeForCharacterOffset(root, offset) {\n  var node = getLeafNode(root);\n  root = 0;\n  for (var nodeEnd; node; ) {\n    if (3 === node.nodeType) {\n      nodeEnd = root + node.textContent.length;\n      if (root <= offset && nodeEnd >= offset)\n        return { node: node, offset: offset - root };\n      root = nodeEnd;\n    }\n    a: {\n      for (; node; ) {\n        if (node.nextSibling) {\n          node = node.nextSibling;\n          break a;\n        }\n        node = node.parentNode;\n      }\n      node = void 0;\n    }\n    node = getLeafNode(node);\n  }\n}\nfunction containsNode(outerNode, innerNode) {\n  return outerNode && innerNode\n    ? outerNode === innerNode\n      ? !0\n      : outerNode && 3 === outerNode.nodeType\n        ? !1\n        : innerNode && 3 === innerNode.nodeType\n          ? containsNode(outerNode, innerNode.parentNode)\n          : \"contains\" in outerNode\n            ? outerNode.contains(innerNode)\n            : outerNode.compareDocumentPosition\n              ? !!(outerNode.compareDocumentPosition(innerNode) & 16)\n              : !1\n    : !1;\n}\nfunction getActiveElementDeep(containerInfo) {\n  containerInfo =\n    null != containerInfo &&\n    null != containerInfo.ownerDocument &&\n    null != containerInfo.ownerDocument.defaultView\n      ? containerInfo.ownerDocument.defaultView\n      : window;\n  for (\n    var element = getActiveElement(containerInfo.document);\n    element instanceof containerInfo.HTMLIFrameElement;\n\n  ) {\n    try {\n      var JSCompiler_inline_result =\n        \"string\" === typeof element.contentWindow.location.href;\n    } catch (err) {\n      JSCompiler_inline_result = !1;\n    }\n    if (JSCompiler_inline_result) containerInfo = element.contentWindow;\n    else break;\n    element = getActiveElement(containerInfo.document);\n  }\n  return element;\n}\nfunction hasSelectionCapabilities(elem) {\n  var nodeName = elem && elem.nodeName && elem.nodeName.toLowerCase();\n  return (\n    nodeName &&\n    ((\"input\" === nodeName &&\n      (\"text\" === elem.type ||\n        \"search\" === elem.type ||\n        \"tel\" === elem.type ||\n        \"url\" === elem.type ||\n        \"password\" === elem.type)) ||\n      \"textarea\" === nodeName ||\n      \"true\" === elem.contentEditable)\n  );\n}\nfunction restoreSelection(priorSelectionInformation, containerInfo) {\n  var curFocusedElem = getActiveElementDeep(containerInfo);\n  containerInfo = priorSelectionInformation.focusedElem;\n  var priorSelectionRange = priorSelectionInformation.selectionRange;\n  if (\n    curFocusedElem !== containerInfo &&\n    containerInfo &&\n    containerInfo.ownerDocument &&\n    containsNode(containerInfo.ownerDocument.documentElement, containerInfo)\n  ) {\n    if (null !== priorSelectionRange && hasSelectionCapabilities(containerInfo))\n      if (\n        ((priorSelectionInformation = priorSelectionRange.start),\n        (curFocusedElem = priorSelectionRange.end),\n        void 0 === curFocusedElem &&\n          (curFocusedElem = priorSelectionInformation),\n        \"selectionStart\" in containerInfo)\n      )\n        (containerInfo.selectionStart = priorSelectionInformation),\n          (containerInfo.selectionEnd = Math.min(\n            curFocusedElem,\n            containerInfo.value.length\n          ));\n      else if (\n        ((curFocusedElem =\n          ((priorSelectionInformation =\n            containerInfo.ownerDocument || document) &&\n            priorSelectionInformation.defaultView) ||\n          window),\n        curFocusedElem.getSelection)\n      ) {\n        curFocusedElem = curFocusedElem.getSelection();\n        var length = containerInfo.textContent.length,\n          start = Math.min(priorSelectionRange.start, length);\n        priorSelectionRange =\n          void 0 === priorSelectionRange.end\n            ? start\n            : Math.min(priorSelectionRange.end, length);\n        !curFocusedElem.extend &&\n          start > priorSelectionRange &&\n          ((length = priorSelectionRange),\n          (priorSelectionRange = start),\n          (start = length));\n        length = getNodeForCharacterOffset(containerInfo, start);\n        var endMarker = getNodeForCharacterOffset(\n          containerInfo,\n          priorSelectionRange\n        );\n        length &&\n          endMarker &&\n          (1 !== curFocusedElem.rangeCount ||\n            curFocusedElem.anchorNode !== length.node ||\n            curFocusedElem.anchorOffset !== length.offset ||\n            curFocusedElem.focusNode !== endMarker.node ||\n            curFocusedElem.focusOffset !== endMarker.offset) &&\n          ((priorSelectionInformation =\n            priorSelectionInformation.createRange()),\n          priorSelectionInformation.setStart(length.node, length.offset),\n          curFocusedElem.removeAllRanges(),\n          start > priorSelectionRange\n            ? (curFocusedElem.addRange(priorSelectionInformation),\n              curFocusedElem.extend(endMarker.node, endMarker.offset))\n            : (priorSelectionInformation.setEnd(\n                endMarker.node,\n                endMarker.offset\n              ),\n              curFocusedElem.addRange(priorSelectionInformation)));\n      }\n    priorSelectionInformation = [];\n    for (\n      curFocusedElem = containerInfo;\n      (curFocusedElem = curFocusedElem.parentNode);\n\n    )\n      1 === curFocusedElem.nodeType &&\n        priorSelectionInformation.push({\n          element: curFocusedElem,\n          left: curFocusedElem.scrollLeft,\n          top: curFocusedElem.scrollTop\n        });\n    \"function\" === typeof containerInfo.focus && containerInfo.focus();\n    for (\n      containerInfo = 0;\n      containerInfo < priorSelectionInformation.length;\n      containerInfo++\n    )\n      (curFocusedElem = priorSelectionInformation[containerInfo]),\n        (curFocusedElem.element.scrollLeft = curFocusedElem.left),\n        (curFocusedElem.element.scrollTop = curFocusedElem.top);\n  }\n}\nvar skipSelectionChangeEvent =\n    canUseDOM && \"documentMode\" in document && 11 >= document.documentMode,\n  activeElement = null,\n  activeElementInst = null,\n  lastSelection = null,\n  mouseDown = !1;\nfunction constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget) {\n  var doc =\n    nativeEventTarget.window === nativeEventTarget\n      ? nativeEventTarget.document\n      : 9 === nativeEventTarget.nodeType\n        ? nativeEventTarget\n        : nativeEventTarget.ownerDocument;\n  mouseDown ||\n    null == activeElement ||\n    activeElement !== getActiveElement(doc) ||\n    ((doc = activeElement),\n    \"selectionStart\" in doc && hasSelectionCapabilities(doc)\n      ? (doc = { start: doc.selectionStart, end: doc.selectionEnd })\n      : ((doc = (\n          (doc.ownerDocument && doc.ownerDocument.defaultView) ||\n          window\n        ).getSelection()),\n        (doc = {\n          anchorNode: doc.anchorNode,\n          anchorOffset: doc.anchorOffset,\n          focusNode: doc.focusNode,\n          focusOffset: doc.focusOffset\n        })),\n    (lastSelection && shallowEqual(lastSelection, doc)) ||\n      ((lastSelection = doc),\n      (doc = accumulateTwoPhaseListeners(activeElementInst, \"onSelect\")),\n      0 < doc.length &&\n        ((nativeEvent = new SyntheticEvent(\n          \"onSelect\",\n          \"select\",\n          null,\n          nativeEvent,\n          nativeEventTarget\n        )),\n        dispatchQueue.push({ event: nativeEvent, listeners: doc }),\n        (nativeEvent.target = activeElement))));\n}\nfunction makePrefixMap(styleProp, eventName) {\n  var prefixes = {};\n  prefixes[styleProp.toLowerCase()] = eventName.toLowerCase();\n  prefixes[\"Webkit\" + styleProp] = \"webkit\" + eventName;\n  prefixes[\"Moz\" + styleProp] = \"moz\" + eventName;\n  return prefixes;\n}\nvar vendorPrefixes = {\n    animationend: makePrefixMap(\"Animation\", \"AnimationEnd\"),\n    animationiteration: makePrefixMap(\"Animation\", \"AnimationIteration\"),\n    animationstart: makePrefixMap(\"Animation\", \"AnimationStart\"),\n    transitionrun: makePrefixMap(\"Transition\", \"TransitionRun\"),\n    transitionstart: makePrefixMap(\"Transition\", \"TransitionStart\"),\n    transitioncancel: makePrefixMap(\"Transition\", \"TransitionCancel\"),\n    transitionend: makePrefixMap(\"Transition\", \"TransitionEnd\")\n  },\n  prefixedEventNames = {},\n  style = {};\ncanUseDOM &&\n  ((style = document.createElement(\"div\").style),\n  \"AnimationEvent\" in window ||\n    (delete vendorPrefixes.animationend.animation,\n    delete vendorPrefixes.animationiteration.animation,\n    delete vendorPrefixes.animationstart.animation),\n  \"TransitionEvent\" in window ||\n    delete vendorPrefixes.transitionend.transition);\nfunction getVendorPrefixedEventName(eventName) {\n  if (prefixedEventNames[eventName]) return prefixedEventNames[eventName];\n  if (!vendorPrefixes[eventName]) return eventName;\n  var prefixMap = vendorPrefixes[eventName],\n    styleProp;\n  for (styleProp in prefixMap)\n    if (prefixMap.hasOwnProperty(styleProp) && styleProp in style)\n      return (prefixedEventNames[eventName] = prefixMap[styleProp]);\n  return eventName;\n}\nvar ANIMATION_END = getVendorPrefixedEventName(\"animationend\"),\n  ANIMATION_ITERATION = getVendorPrefixedEventName(\"animationiteration\"),\n  ANIMATION_START = getVendorPrefixedEventName(\"animationstart\"),\n  TRANSITION_RUN = getVendorPrefixedEventName(\"transitionrun\"),\n  TRANSITION_START = getVendorPrefixedEventName(\"transitionstart\"),\n  TRANSITION_CANCEL = getVendorPrefixedEventName(\"transitioncancel\"),\n  TRANSITION_END = getVendorPrefixedEventName(\"transitionend\"),\n  topLevelEventsToReactNames = new Map(),\n  simpleEventPluginEvents =\n    \"abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel\".split(\n      \" \"\n    );\nfunction registerSimpleEvent(domEventName, reactName) {\n  topLevelEventsToReactNames.set(domEventName, reactName);\n  registerTwoPhaseEvent(reactName, [domEventName]);\n}\nvar concurrentQueues = [],\n  concurrentQueuesIndex = 0,\n  concurrentlyUpdatedLanes = 0;\nfunction finishQueueingConcurrentUpdates() {\n  for (\n    var endIndex = concurrentQueuesIndex,\n      i = (concurrentlyUpdatedLanes = concurrentQueuesIndex = 0);\n    i < endIndex;\n\n  ) {\n    var fiber = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    var queue = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    var update = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    var lane = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    if (null !== queue && null !== update) {\n      var pending = queue.pending;\n      null === pending\n        ? (update.next = update)\n        : ((update.next = pending.next), (pending.next = update));\n      queue.pending = update;\n    }\n    0 !== lane && markUpdateLaneFromFiberToRoot(fiber, update, lane);\n  }\n}\nfunction enqueueUpdate$1(fiber, queue, update, lane) {\n  concurrentQueues[concurrentQueuesIndex++] = fiber;\n  concurrentQueues[concurrentQueuesIndex++] = queue;\n  concurrentQueues[concurrentQueuesIndex++] = update;\n  concurrentQueues[concurrentQueuesIndex++] = lane;\n  concurrentlyUpdatedLanes |= lane;\n  fiber.lanes |= lane;\n  fiber = fiber.alternate;\n  null !== fiber && (fiber.lanes |= lane);\n}\nfunction enqueueConcurrentHookUpdate(fiber, queue, update, lane) {\n  enqueueUpdate$1(fiber, queue, update, lane);\n  return getRootForUpdatedFiber(fiber);\n}\nfunction enqueueConcurrentRenderForLane(fiber, lane) {\n  enqueueUpdate$1(fiber, null, null, lane);\n  return getRootForUpdatedFiber(fiber);\n}\nfunction markUpdateLaneFromFiberToRoot(sourceFiber, update, lane) {\n  sourceFiber.lanes |= lane;\n  var alternate = sourceFiber.alternate;\n  null !== alternate && (alternate.lanes |= lane);\n  for (var isHidden = !1, parent = sourceFiber.return; null !== parent; )\n    (parent.childLanes |= lane),\n      (alternate = parent.alternate),\n      null !== alternate && (alternate.childLanes |= lane),\n      22 === parent.tag &&\n        ((sourceFiber = parent.stateNode),\n        null === sourceFiber || sourceFiber._visibility & 1 || (isHidden = !0)),\n      (sourceFiber = parent),\n      (parent = parent.return);\n  isHidden &&\n    null !== update &&\n    3 === sourceFiber.tag &&\n    ((parent = sourceFiber.stateNode),\n    (isHidden = 31 - clz32(lane)),\n    (parent = parent.hiddenUpdates),\n    (sourceFiber = parent[isHidden]),\n    null === sourceFiber\n      ? (parent[isHidden] = [update])\n      : sourceFiber.push(update),\n    (update.lane = lane | 536870912));\n}\nfunction getRootForUpdatedFiber(sourceFiber) {\n  if (50 < nestedUpdateCount)\n    throw (\n      ((nestedUpdateCount = 0),\n      (rootWithNestedUpdates = null),\n      Error(formatProdErrorMessage(185)))\n    );\n  for (var parent = sourceFiber.return; null !== parent; )\n    (sourceFiber = parent), (parent = sourceFiber.return);\n  return 3 === sourceFiber.tag ? sourceFiber.stateNode : null;\n}\nvar emptyContextObject = {},\n  CapturedStacks = new WeakMap();\nfunction createCapturedValueAtFiber(value, source) {\n  if (\"object\" === typeof value && null !== value) {\n    var existing = CapturedStacks.get(value);\n    if (void 0 !== existing) return existing;\n    source = {\n      value: value,\n      source: source,\n      stack: getStackByFiberInDevAndProd(source)\n    };\n    CapturedStacks.set(value, source);\n    return source;\n  }\n  return {\n    value: value,\n    source: source,\n    stack: getStackByFiberInDevAndProd(source)\n  };\n}\nvar forkStack = [],\n  forkStackIndex = 0,\n  treeForkProvider = null,\n  treeForkCount = 0,\n  idStack = [],\n  idStackIndex = 0,\n  treeContextProvider = null,\n  treeContextId = 1,\n  treeContextOverflow = \"\";\nfunction pushTreeFork(workInProgress, totalChildren) {\n  forkStack[forkStackIndex++] = treeForkCount;\n  forkStack[forkStackIndex++] = treeForkProvider;\n  treeForkProvider = workInProgress;\n  treeForkCount = totalChildren;\n}\nfunction pushTreeId(workInProgress, totalChildren, index) {\n  idStack[idStackIndex++] = treeContextId;\n  idStack[idStackIndex++] = treeContextOverflow;\n  idStack[idStackIndex++] = treeContextProvider;\n  treeContextProvider = workInProgress;\n  var baseIdWithLeadingBit = treeContextId;\n  workInProgress = treeContextOverflow;\n  var baseLength = 32 - clz32(baseIdWithLeadingBit) - 1;\n  baseIdWithLeadingBit &= ~(1 << baseLength);\n  index += 1;\n  var length = 32 - clz32(totalChildren) + baseLength;\n  if (30 < length) {\n    var numberOfOverflowBits = baseLength - (baseLength % 5);\n    length = (\n      baseIdWithLeadingBit &\n      ((1 << numberOfOverflowBits) - 1)\n    ).toString(32);\n    baseIdWithLeadingBit >>= numberOfOverflowBits;\n    baseLength -= numberOfOverflowBits;\n    treeContextId =\n      (1 << (32 - clz32(totalChildren) + baseLength)) |\n      (index << baseLength) |\n      baseIdWithLeadingBit;\n    treeContextOverflow = length + workInProgress;\n  } else\n    (treeContextId =\n      (1 << length) | (index << baseLength) | baseIdWithLeadingBit),\n      (treeContextOverflow = workInProgress);\n}\nfunction pushMaterializedTreeId(workInProgress) {\n  null !== workInProgress.return &&\n    (pushTreeFork(workInProgress, 1), pushTreeId(workInProgress, 1, 0));\n}\nfunction popTreeContext(workInProgress) {\n  for (; workInProgress === treeForkProvider; )\n    (treeForkProvider = forkStack[--forkStackIndex]),\n      (forkStack[forkStackIndex] = null),\n      (treeForkCount = forkStack[--forkStackIndex]),\n      (forkStack[forkStackIndex] = null);\n  for (; workInProgress === treeContextProvider; )\n    (treeContextProvider = idStack[--idStackIndex]),\n      (idStack[idStackIndex] = null),\n      (treeContextOverflow = idStack[--idStackIndex]),\n      (idStack[idStackIndex] = null),\n      (treeContextId = idStack[--idStackIndex]),\n      (idStack[idStackIndex] = null);\n}\nvar hydrationParentFiber = null,\n  nextHydratableInstance = null,\n  isHydrating = !1,\n  hydrationErrors = null,\n  rootOrSingletonContext = !1,\n  HydrationMismatchException = Error(formatProdErrorMessage(519));\nfunction throwOnHydrationMismatch(fiber) {\n  var error = Error(formatProdErrorMessage(418, \"\"));\n  queueHydrationError(createCapturedValueAtFiber(error, fiber));\n  throw HydrationMismatchException;\n}\nfunction prepareToHydrateHostInstance(fiber) {\n  var instance = fiber.stateNode,\n    type = fiber.type,\n    props = fiber.memoizedProps;\n  instance[internalInstanceKey] = fiber;\n  instance[internalPropsKey] = props;\n  switch (type) {\n    case \"dialog\":\n      listenToNonDelegatedEvent(\"cancel\", instance);\n      listenToNonDelegatedEvent(\"close\", instance);\n      break;\n    case \"iframe\":\n    case \"object\":\n    case \"embed\":\n      listenToNonDelegatedEvent(\"load\", instance);\n      break;\n    case \"video\":\n    case \"audio\":\n      for (type = 0; type < mediaEventTypes.length; type++)\n        listenToNonDelegatedEvent(mediaEventTypes[type], instance);\n      break;\n    case \"source\":\n      listenToNonDelegatedEvent(\"error\", instance);\n      break;\n    case \"img\":\n    case \"image\":\n    case \"link\":\n      listenToNonDelegatedEvent(\"error\", instance);\n      listenToNonDelegatedEvent(\"load\", instance);\n      break;\n    case \"details\":\n      listenToNonDelegatedEvent(\"toggle\", instance);\n      break;\n    case \"input\":\n      listenToNonDelegatedEvent(\"invalid\", instance);\n      initInput(\n        instance,\n        props.value,\n        props.defaultValue,\n        props.checked,\n        props.defaultChecked,\n        props.type,\n        props.name,\n        !0\n      );\n      track(instance);\n      break;\n    case \"select\":\n      listenToNonDelegatedEvent(\"invalid\", instance);\n      break;\n    case \"textarea\":\n      listenToNonDelegatedEvent(\"invalid\", instance),\n        initTextarea(instance, props.value, props.defaultValue, props.children),\n        track(instance);\n  }\n  type = props.children;\n  (\"string\" !== typeof type &&\n    \"number\" !== typeof type &&\n    \"bigint\" !== typeof type) ||\n  instance.textContent === \"\" + type ||\n  !0 === props.suppressHydrationWarning ||\n  checkForUnmatchedText(instance.textContent, type)\n    ? (null != props.popover &&\n        (listenToNonDelegatedEvent(\"beforetoggle\", instance),\n        listenToNonDelegatedEvent(\"toggle\", instance)),\n      null != props.onScroll && listenToNonDelegatedEvent(\"scroll\", instance),\n      null != props.onScrollEnd &&\n        listenToNonDelegatedEvent(\"scrollend\", instance),\n      null != props.onClick && (instance.onclick = noop$1),\n      (instance = !0))\n    : (instance = !1);\n  instance || throwOnHydrationMismatch(fiber);\n}\nfunction popToNextHostParent(fiber) {\n  for (hydrationParentFiber = fiber.return; hydrationParentFiber; )\n    switch (hydrationParentFiber.tag) {\n      case 3:\n      case 27:\n        rootOrSingletonContext = !0;\n        return;\n      case 5:\n      case 13:\n        rootOrSingletonContext = !1;\n        return;\n      default:\n        hydrationParentFiber = hydrationParentFiber.return;\n    }\n}\nfunction popHydrationState(fiber) {\n  if (fiber !== hydrationParentFiber) return !1;\n  if (!isHydrating) return popToNextHostParent(fiber), (isHydrating = !0), !1;\n  var shouldClear = !1,\n    JSCompiler_temp;\n  if ((JSCompiler_temp = 3 !== fiber.tag && 27 !== fiber.tag)) {\n    if ((JSCompiler_temp = 5 === fiber.tag))\n      (JSCompiler_temp = fiber.type),\n        (JSCompiler_temp =\n          !(\"form\" !== JSCompiler_temp && \"button\" !== JSCompiler_temp) ||\n          shouldSetTextContent(fiber.type, fiber.memoizedProps));\n    JSCompiler_temp = !JSCompiler_temp;\n  }\n  JSCompiler_temp && (shouldClear = !0);\n  shouldClear && nextHydratableInstance && throwOnHydrationMismatch(fiber);\n  popToNextHostParent(fiber);\n  if (13 === fiber.tag) {\n    fiber = fiber.memoizedState;\n    fiber = null !== fiber ? fiber.dehydrated : null;\n    if (!fiber) throw Error(formatProdErrorMessage(317));\n    a: {\n      fiber = fiber.nextSibling;\n      for (shouldClear = 0; fiber; ) {\n        if (8 === fiber.nodeType)\n          if (((JSCompiler_temp = fiber.data), \"/$\" === JSCompiler_temp)) {\n            if (0 === shouldClear) {\n              nextHydratableInstance = getNextHydratable(fiber.nextSibling);\n              break a;\n            }\n            shouldClear--;\n          } else\n            (\"$\" !== JSCompiler_temp &&\n              \"$!\" !== JSCompiler_temp &&\n              \"$?\" !== JSCompiler_temp) ||\n              shouldClear++;\n        fiber = fiber.nextSibling;\n      }\n      nextHydratableInstance = null;\n    }\n  } else\n    nextHydratableInstance = hydrationParentFiber\n      ? getNextHydratable(fiber.stateNode.nextSibling)\n      : null;\n  return !0;\n}\nfunction resetHydrationState() {\n  nextHydratableInstance = hydrationParentFiber = null;\n  isHydrating = !1;\n}\nfunction queueHydrationError(error) {\n  null === hydrationErrors\n    ? (hydrationErrors = [error])\n    : hydrationErrors.push(error);\n}\nvar SuspenseException = Error(formatProdErrorMessage(460)),\n  SuspenseyCommitException = Error(formatProdErrorMessage(474)),\n  noopSuspenseyCommitThenable = { then: function () {} };\nfunction isThenableResolved(thenable) {\n  thenable = thenable.status;\n  return \"fulfilled\" === thenable || \"rejected\" === thenable;\n}\nfunction noop$3() {}\nfunction trackUsedThenable(thenableState, thenable, index) {\n  index = thenableState[index];\n  void 0 === index\n    ? thenableState.push(thenable)\n    : index !== thenable && (thenable.then(noop$3, noop$3), (thenable = index));\n  switch (thenable.status) {\n    case \"fulfilled\":\n      return thenable.value;\n    case \"rejected\":\n      thenableState = thenable.reason;\n      if (thenableState === SuspenseException)\n        throw Error(formatProdErrorMessage(483));\n      throw thenableState;\n    default:\n      if (\"string\" === typeof thenable.status) thenable.then(noop$3, noop$3);\n      else {\n        thenableState = workInProgressRoot;\n        if (null !== thenableState && 100 < thenableState.shellSuspendCounter)\n          throw Error(formatProdErrorMessage(482));\n        thenableState = thenable;\n        thenableState.status = \"pending\";\n        thenableState.then(\n          function (fulfilledValue) {\n            if (\"pending\" === thenable.status) {\n              var fulfilledThenable = thenable;\n              fulfilledThenable.status = \"fulfilled\";\n              fulfilledThenable.value = fulfilledValue;\n            }\n          },\n          function (error) {\n            if (\"pending\" === thenable.status) {\n              var rejectedThenable = thenable;\n              rejectedThenable.status = \"rejected\";\n              rejectedThenable.reason = error;\n            }\n          }\n        );\n      }\n      switch (thenable.status) {\n        case \"fulfilled\":\n          return thenable.value;\n        case \"rejected\":\n          thenableState = thenable.reason;\n          if (thenableState === SuspenseException)\n            throw Error(formatProdErrorMessage(483));\n          throw thenableState;\n      }\n      suspendedThenable = thenable;\n      throw SuspenseException;\n  }\n}\nvar suspendedThenable = null;\nfunction getSuspendedThenable() {\n  if (null === suspendedThenable) throw Error(formatProdErrorMessage(459));\n  var thenable = suspendedThenable;\n  suspendedThenable = null;\n  return thenable;\n}\nvar thenableState$1 = null,\n  thenableIndexCounter$1 = 0;\nfunction unwrapThenable(thenable) {\n  var index = thenableIndexCounter$1;\n  thenableIndexCounter$1 += 1;\n  null === thenableState$1 && (thenableState$1 = []);\n  return trackUsedThenable(thenableState$1, thenable, index);\n}\nfunction coerceRef(workInProgress, element) {\n  element = element.props.ref;\n  workInProgress.ref = void 0 !== element ? element : null;\n}\nfunction throwOnInvalidObjectType(returnFiber, newChild) {\n  if (newChild.$$typeof === REACT_LEGACY_ELEMENT_TYPE)\n    throw Error(formatProdErrorMessage(525));\n  returnFiber = Object.prototype.toString.call(newChild);\n  throw Error(\n    formatProdErrorMessage(\n      31,\n      \"[object Object]\" === returnFiber\n        ? \"object with keys {\" + Object.keys(newChild).join(\", \") + \"}\"\n        : returnFiber\n    )\n  );\n}\nfunction resolveLazy(lazyType) {\n  var init = lazyType._init;\n  return init(lazyType._payload);\n}\nfunction createChildReconciler(shouldTrackSideEffects) {\n  function deleteChild(returnFiber, childToDelete) {\n    if (shouldTrackSideEffects) {\n      var deletions = returnFiber.deletions;\n      null === deletions\n        ? ((returnFiber.deletions = [childToDelete]), (returnFiber.flags |= 16))\n        : deletions.push(childToDelete);\n    }\n  }\n  function deleteRemainingChildren(returnFiber, currentFirstChild) {\n    if (!shouldTrackSideEffects) return null;\n    for (; null !== currentFirstChild; )\n      deleteChild(returnFiber, currentFirstChild),\n        (currentFirstChild = currentFirstChild.sibling);\n    return null;\n  }\n  function mapRemainingChildren(currentFirstChild) {\n    for (var existingChildren = new Map(); null !== currentFirstChild; )\n      null !== currentFirstChild.key\n        ? existingChildren.set(currentFirstChild.key, currentFirstChild)\n        : existingChildren.set(currentFirstChild.index, currentFirstChild),\n        (currentFirstChild = currentFirstChild.sibling);\n    return existingChildren;\n  }\n  function useFiber(fiber, pendingProps) {\n    fiber = createWorkInProgress(fiber, pendingProps);\n    fiber.index = 0;\n    fiber.sibling = null;\n    return fiber;\n  }\n  function placeChild(newFiber, lastPlacedIndex, newIndex) {\n    newFiber.index = newIndex;\n    if (!shouldTrackSideEffects)\n      return (newFiber.flags |= 1048576), lastPlacedIndex;\n    newIndex = newFiber.alternate;\n    if (null !== newIndex)\n      return (\n        (newIndex = newIndex.index),\n        newIndex < lastPlacedIndex\n          ? ((newFiber.flags |= 33554434), lastPlacedIndex)\n          : newIndex\n      );\n    newFiber.flags |= 33554434;\n    return lastPlacedIndex;\n  }\n  function placeSingleChild(newFiber) {\n    shouldTrackSideEffects &&\n      null === newFiber.alternate &&\n      (newFiber.flags |= 33554434);\n    return newFiber;\n  }\n  function updateTextNode(returnFiber, current, textContent, lanes) {\n    if (null === current || 6 !== current.tag)\n      return (\n        (current = createFiberFromText(textContent, returnFiber.mode, lanes)),\n        (current.return = returnFiber),\n        current\n      );\n    current = useFiber(current, textContent);\n    current.return = returnFiber;\n    return current;\n  }\n  function updateElement(returnFiber, current, element, lanes) {\n    var elementType = element.type;\n    if (elementType === REACT_FRAGMENT_TYPE)\n      return updateFragment(\n        returnFiber,\n        current,\n        element.props.children,\n        lanes,\n        element.key\n      );\n    if (\n      null !== current &&\n      (current.elementType === elementType ||\n        (\"object\" === typeof elementType &&\n          null !== elementType &&\n          elementType.$$typeof === REACT_LAZY_TYPE &&\n          resolveLazy(elementType) === current.type))\n    )\n      return (\n        (current = useFiber(current, element.props)),\n        coerceRef(current, element),\n        (current.return = returnFiber),\n        current\n      );\n    current = createFiberFromTypeAndProps(\n      element.type,\n      element.key,\n      element.props,\n      null,\n      returnFiber.mode,\n      lanes\n    );\n    coerceRef(current, element);\n    current.return = returnFiber;\n    return current;\n  }\n  function updatePortal(returnFiber, current, portal, lanes) {\n    if (\n      null === current ||\n      4 !== current.tag ||\n      current.stateNode.containerInfo !== portal.containerInfo ||\n      current.stateNode.implementation !== portal.implementation\n    )\n      return (\n        (current = createFiberFromPortal(portal, returnFiber.mode, lanes)),\n        (current.return = returnFiber),\n        current\n      );\n    current = useFiber(current, portal.children || []);\n    current.return = returnFiber;\n    return current;\n  }\n  function updateFragment(returnFiber, current, fragment, lanes, key) {\n    if (null === current || 7 !== current.tag)\n      return (\n        (current = createFiberFromFragment(\n          fragment,\n          returnFiber.mode,\n          lanes,\n          key\n        )),\n        (current.return = returnFiber),\n        current\n      );\n    current = useFiber(current, fragment);\n    current.return = returnFiber;\n    return current;\n  }\n  function createChild(returnFiber, newChild, lanes) {\n    if (\n      (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n    )\n      return (\n        (newChild = createFiberFromText(\n          \"\" + newChild,\n          returnFiber.mode,\n          lanes\n        )),\n        (newChild.return = returnFiber),\n        newChild\n      );\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          return (\n            (lanes = createFiberFromTypeAndProps(\n              newChild.type,\n              newChild.key,\n              newChild.props,\n              null,\n              returnFiber.mode,\n              lanes\n            )),\n            coerceRef(lanes, newChild),\n            (lanes.return = returnFiber),\n            lanes\n          );\n        case REACT_PORTAL_TYPE:\n          return (\n            (newChild = createFiberFromPortal(\n              newChild,\n              returnFiber.mode,\n              lanes\n            )),\n            (newChild.return = returnFiber),\n            newChild\n          );\n        case REACT_LAZY_TYPE:\n          var init = newChild._init;\n          newChild = init(newChild._payload);\n          return createChild(returnFiber, newChild, lanes);\n      }\n      if (isArrayImpl(newChild) || getIteratorFn(newChild))\n        return (\n          (newChild = createFiberFromFragment(\n            newChild,\n            returnFiber.mode,\n            lanes,\n            null\n          )),\n          (newChild.return = returnFiber),\n          newChild\n        );\n      if (\"function\" === typeof newChild.then)\n        return createChild(returnFiber, unwrapThenable(newChild), lanes);\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return createChild(\n          returnFiber,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return null;\n  }\n  function updateSlot(returnFiber, oldFiber, newChild, lanes) {\n    var key = null !== oldFiber ? oldFiber.key : null;\n    if (\n      (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n    )\n      return null !== key\n        ? null\n        : updateTextNode(returnFiber, oldFiber, \"\" + newChild, lanes);\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          return newChild.key === key\n            ? updateElement(returnFiber, oldFiber, newChild, lanes)\n            : null;\n        case REACT_PORTAL_TYPE:\n          return newChild.key === key\n            ? updatePortal(returnFiber, oldFiber, newChild, lanes)\n            : null;\n        case REACT_LAZY_TYPE:\n          return (\n            (key = newChild._init),\n            (newChild = key(newChild._payload)),\n            updateSlot(returnFiber, oldFiber, newChild, lanes)\n          );\n      }\n      if (isArrayImpl(newChild) || getIteratorFn(newChild))\n        return null !== key\n          ? null\n          : updateFragment(returnFiber, oldFiber, newChild, lanes, null);\n      if (\"function\" === typeof newChild.then)\n        return updateSlot(\n          returnFiber,\n          oldFiber,\n          unwrapThenable(newChild),\n          lanes\n        );\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return updateSlot(\n          returnFiber,\n          oldFiber,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return null;\n  }\n  function updateFromMap(\n    existingChildren,\n    returnFiber,\n    newIdx,\n    newChild,\n    lanes\n  ) {\n    if (\n      (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n    )\n      return (\n        (existingChildren = existingChildren.get(newIdx) || null),\n        updateTextNode(returnFiber, existingChildren, \"\" + newChild, lanes)\n      );\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          return (\n            (existingChildren =\n              existingChildren.get(\n                null === newChild.key ? newIdx : newChild.key\n              ) || null),\n            updateElement(returnFiber, existingChildren, newChild, lanes)\n          );\n        case REACT_PORTAL_TYPE:\n          return (\n            (existingChildren =\n              existingChildren.get(\n                null === newChild.key ? newIdx : newChild.key\n              ) || null),\n            updatePortal(returnFiber, existingChildren, newChild, lanes)\n          );\n        case REACT_LAZY_TYPE:\n          var init = newChild._init;\n          newChild = init(newChild._payload);\n          return updateFromMap(\n            existingChildren,\n            returnFiber,\n            newIdx,\n            newChild,\n            lanes\n          );\n      }\n      if (isArrayImpl(newChild) || getIteratorFn(newChild))\n        return (\n          (existingChildren = existingChildren.get(newIdx) || null),\n          updateFragment(returnFiber, existingChildren, newChild, lanes, null)\n        );\n      if (\"function\" === typeof newChild.then)\n        return updateFromMap(\n          existingChildren,\n          returnFiber,\n          newIdx,\n          unwrapThenable(newChild),\n          lanes\n        );\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return updateFromMap(\n          existingChildren,\n          returnFiber,\n          newIdx,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return null;\n  }\n  function reconcileChildrenArray(\n    returnFiber,\n    currentFirstChild,\n    newChildren,\n    lanes\n  ) {\n    for (\n      var resultingFirstChild = null,\n        previousNewFiber = null,\n        oldFiber = currentFirstChild,\n        newIdx = (currentFirstChild = 0),\n        nextOldFiber = null;\n      null !== oldFiber && newIdx < newChildren.length;\n      newIdx++\n    ) {\n      oldFiber.index > newIdx\n        ? ((nextOldFiber = oldFiber), (oldFiber = null))\n        : (nextOldFiber = oldFiber.sibling);\n      var newFiber = updateSlot(\n        returnFiber,\n        oldFiber,\n        newChildren[newIdx],\n        lanes\n      );\n      if (null === newFiber) {\n        null === oldFiber && (oldFiber = nextOldFiber);\n        break;\n      }\n      shouldTrackSideEffects &&\n        oldFiber &&\n        null === newFiber.alternate &&\n        deleteChild(returnFiber, oldFiber);\n      currentFirstChild = placeChild(newFiber, currentFirstChild, newIdx);\n      null === previousNewFiber\n        ? (resultingFirstChild = newFiber)\n        : (previousNewFiber.sibling = newFiber);\n      previousNewFiber = newFiber;\n      oldFiber = nextOldFiber;\n    }\n    if (newIdx === newChildren.length)\n      return (\n        deleteRemainingChildren(returnFiber, oldFiber),\n        isHydrating && pushTreeFork(returnFiber, newIdx),\n        resultingFirstChild\n      );\n    if (null === oldFiber) {\n      for (; newIdx < newChildren.length; newIdx++)\n        (oldFiber = createChild(returnFiber, newChildren[newIdx], lanes)),\n          null !== oldFiber &&\n            ((currentFirstChild = placeChild(\n              oldFiber,\n              currentFirstChild,\n              newIdx\n            )),\n            null === previousNewFiber\n              ? (resultingFirstChild = oldFiber)\n              : (previousNewFiber.sibling = oldFiber),\n            (previousNewFiber = oldFiber));\n      isHydrating && pushTreeFork(returnFiber, newIdx);\n      return resultingFirstChild;\n    }\n    for (\n      oldFiber = mapRemainingChildren(oldFiber);\n      newIdx < newChildren.length;\n      newIdx++\n    )\n      (nextOldFiber = updateFromMap(\n        oldFiber,\n        returnFiber,\n        newIdx,\n        newChildren[newIdx],\n        lanes\n      )),\n        null !== nextOldFiber &&\n          (shouldTrackSideEffects &&\n            null !== nextOldFiber.alternate &&\n            oldFiber.delete(\n              null === nextOldFiber.key ? newIdx : nextOldFiber.key\n            ),\n          (currentFirstChild = placeChild(\n            nextOldFiber,\n            currentFirstChild,\n            newIdx\n          )),\n          null === previousNewFiber\n            ? (resultingFirstChild = nextOldFiber)\n            : (previousNewFiber.sibling = nextOldFiber),\n          (previousNewFiber = nextOldFiber));\n    shouldTrackSideEffects &&\n      oldFiber.forEach(function (child) {\n        return deleteChild(returnFiber, child);\n      });\n    isHydrating && pushTreeFork(returnFiber, newIdx);\n    return resultingFirstChild;\n  }\n  function reconcileChildrenIterator(\n    returnFiber,\n    currentFirstChild,\n    newChildren,\n    lanes\n  ) {\n    if (null == newChildren) throw Error(formatProdErrorMessage(151));\n    for (\n      var resultingFirstChild = null,\n        previousNewFiber = null,\n        oldFiber = currentFirstChild,\n        newIdx = (currentFirstChild = 0),\n        nextOldFiber = null,\n        step = newChildren.next();\n      null !== oldFiber && !step.done;\n      newIdx++, step = newChildren.next()\n    ) {\n      oldFiber.index > newIdx\n        ? ((nextOldFiber = oldFiber), (oldFiber = null))\n        : (nextOldFiber = oldFiber.sibling);\n      var newFiber = updateSlot(returnFiber, oldFiber, step.value, lanes);\n      if (null === newFiber) {\n        null === oldFiber && (oldFiber = nextOldFiber);\n        break;\n      }\n      shouldTrackSideEffects &&\n        oldFiber &&\n        null === newFiber.alternate &&\n        deleteChild(returnFiber, oldFiber);\n      currentFirstChild = placeChild(newFiber, currentFirstChild, newIdx);\n      null === previousNewFiber\n        ? (resultingFirstChild = newFiber)\n        : (previousNewFiber.sibling = newFiber);\n      previousNewFiber = newFiber;\n      oldFiber = nextOldFiber;\n    }\n    if (step.done)\n      return (\n        deleteRemainingChildren(returnFiber, oldFiber),\n        isHydrating && pushTreeFork(returnFiber, newIdx),\n        resultingFirstChild\n      );\n    if (null === oldFiber) {\n      for (; !step.done; newIdx++, step = newChildren.next())\n        (step = createChild(returnFiber, step.value, lanes)),\n          null !== step &&\n            ((currentFirstChild = placeChild(step, currentFirstChild, newIdx)),\n            null === previousNewFiber\n              ? (resultingFirstChild = step)\n              : (previousNewFiber.sibling = step),\n            (previousNewFiber = step));\n      isHydrating && pushTreeFork(returnFiber, newIdx);\n      return resultingFirstChild;\n    }\n    for (\n      oldFiber = mapRemainingChildren(oldFiber);\n      !step.done;\n      newIdx++, step = newChildren.next()\n    )\n      (step = updateFromMap(oldFiber, returnFiber, newIdx, step.value, lanes)),\n        null !== step &&\n          (shouldTrackSideEffects &&\n            null !== step.alternate &&\n            oldFiber.delete(null === step.key ? newIdx : step.key),\n          (currentFirstChild = placeChild(step, currentFirstChild, newIdx)),\n          null === previousNewFiber\n            ? (resultingFirstChild = step)\n            : (previousNewFiber.sibling = step),\n          (previousNewFiber = step));\n    shouldTrackSideEffects &&\n      oldFiber.forEach(function (child) {\n        return deleteChild(returnFiber, child);\n      });\n    isHydrating && pushTreeFork(returnFiber, newIdx);\n    return resultingFirstChild;\n  }\n  function reconcileChildFibersImpl(\n    returnFiber,\n    currentFirstChild,\n    newChild,\n    lanes\n  ) {\n    \"object\" === typeof newChild &&\n      null !== newChild &&\n      newChild.type === REACT_FRAGMENT_TYPE &&\n      null === newChild.key &&\n      (newChild = newChild.props.children);\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          a: {\n            for (var key = newChild.key; null !== currentFirstChild; ) {\n              if (currentFirstChild.key === key) {\n                key = newChild.type;\n                if (key === REACT_FRAGMENT_TYPE) {\n                  if (7 === currentFirstChild.tag) {\n                    deleteRemainingChildren(\n                      returnFiber,\n                      currentFirstChild.sibling\n                    );\n                    lanes = useFiber(\n                      currentFirstChild,\n                      newChild.props.children\n                    );\n                    lanes.return = returnFiber;\n                    returnFiber = lanes;\n                    break a;\n                  }\n                } else if (\n                  currentFirstChild.elementType === key ||\n                  (\"object\" === typeof key &&\n                    null !== key &&\n                    key.$$typeof === REACT_LAZY_TYPE &&\n                    resolveLazy(key) === currentFirstChild.type)\n                ) {\n                  deleteRemainingChildren(\n                    returnFiber,\n                    currentFirstChild.sibling\n                  );\n                  lanes = useFiber(currentFirstChild, newChild.props);\n                  coerceRef(lanes, newChild);\n                  lanes.return = returnFiber;\n                  returnFiber = lanes;\n                  break a;\n                }\n                deleteRemainingChildren(returnFiber, currentFirstChild);\n                break;\n              } else deleteChild(returnFiber, currentFirstChild);\n              currentFirstChild = currentFirstChild.sibling;\n            }\n            newChild.type === REACT_FRAGMENT_TYPE\n              ? ((lanes = createFiberFromFragment(\n                  newChild.props.children,\n                  returnFiber.mode,\n                  lanes,\n                  newChild.key\n                )),\n                (lanes.return = returnFiber),\n                (returnFiber = lanes))\n              : ((lanes = createFiberFromTypeAndProps(\n                  newChild.type,\n                  newChild.key,\n                  newChild.props,\n                  null,\n                  returnFiber.mode,\n                  lanes\n                )),\n                coerceRef(lanes, newChild),\n                (lanes.return = returnFiber),\n                (returnFiber = lanes));\n          }\n          return placeSingleChild(returnFiber);\n        case REACT_PORTAL_TYPE:\n          a: {\n            for (key = newChild.key; null !== currentFirstChild; ) {\n              if (currentFirstChild.key === key)\n                if (\n                  4 === currentFirstChild.tag &&\n                  currentFirstChild.stateNode.containerInfo ===\n                    newChild.containerInfo &&\n                  currentFirstChild.stateNode.implementation ===\n                    newChild.implementation\n                ) {\n                  deleteRemainingChildren(\n                    returnFiber,\n                    currentFirstChild.sibling\n                  );\n                  lanes = useFiber(currentFirstChild, newChild.children || []);\n                  lanes.return = returnFiber;\n                  returnFiber = lanes;\n                  break a;\n                } else {\n                  deleteRemainingChildren(returnFiber, currentFirstChild);\n                  break;\n                }\n              else deleteChild(returnFiber, currentFirstChild);\n              currentFirstChild = currentFirstChild.sibling;\n            }\n            lanes = createFiberFromPortal(newChild, returnFiber.mode, lanes);\n            lanes.return = returnFiber;\n            returnFiber = lanes;\n          }\n          return placeSingleChild(returnFiber);\n        case REACT_LAZY_TYPE:\n          return (\n            (key = newChild._init),\n            (newChild = key(newChild._payload)),\n            reconcileChildFibersImpl(\n              returnFiber,\n              currentFirstChild,\n              newChild,\n              lanes\n            )\n          );\n      }\n      if (isArrayImpl(newChild))\n        return reconcileChildrenArray(\n          returnFiber,\n          currentFirstChild,\n          newChild,\n          lanes\n        );\n      if (getIteratorFn(newChild)) {\n        key = getIteratorFn(newChild);\n        if (\"function\" !== typeof key) throw Error(formatProdErrorMessage(150));\n        newChild = key.call(newChild);\n        return reconcileChildrenIterator(\n          returnFiber,\n          currentFirstChild,\n          newChild,\n          lanes\n        );\n      }\n      if (\"function\" === typeof newChild.then)\n        return reconcileChildFibersImpl(\n          returnFiber,\n          currentFirstChild,\n          unwrapThenable(newChild),\n          lanes\n        );\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return reconcileChildFibersImpl(\n          returnFiber,\n          currentFirstChild,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n      ? ((newChild = \"\" + newChild),\n        null !== currentFirstChild && 6 === currentFirstChild.tag\n          ? (deleteRemainingChildren(returnFiber, currentFirstChild.sibling),\n            (lanes = useFiber(currentFirstChild, newChild)),\n            (lanes.return = returnFiber),\n            (returnFiber = lanes))\n          : (deleteRemainingChildren(returnFiber, currentFirstChild),\n            (lanes = createFiberFromText(newChild, returnFiber.mode, lanes)),\n            (lanes.return = returnFiber),\n            (returnFiber = lanes)),\n        placeSingleChild(returnFiber))\n      : deleteRemainingChildren(returnFiber, currentFirstChild);\n  }\n  return function (returnFiber, currentFirstChild, newChild, lanes) {\n    try {\n      thenableIndexCounter$1 = 0;\n      var firstChildFiber = reconcileChildFibersImpl(\n        returnFiber,\n        currentFirstChild,\n        newChild,\n        lanes\n      );\n      thenableState$1 = null;\n      return firstChildFiber;\n    } catch (x) {\n      if (x === SuspenseException) throw x;\n      var fiber = createFiberImplClass(29, x, null, returnFiber.mode);\n      fiber.lanes = lanes;\n      fiber.return = returnFiber;\n      return fiber;\n    } finally {\n    }\n  };\n}\nvar reconcileChildFibers = createChildReconciler(!0),\n  mountChildFibers = createChildReconciler(!1),\n  currentTreeHiddenStackCursor = createCursor(null),\n  prevEntangledRenderLanesCursor = createCursor(0);\nfunction pushHiddenContext(fiber, context) {\n  fiber = entangledRenderLanes;\n  push(prevEntangledRenderLanesCursor, fiber);\n  push(currentTreeHiddenStackCursor, context);\n  entangledRenderLanes = fiber | context.baseLanes;\n}\nfunction reuseHiddenContextOnStack() {\n  push(prevEntangledRenderLanesCursor, entangledRenderLanes);\n  push(currentTreeHiddenStackCursor, currentTreeHiddenStackCursor.current);\n}\nfunction popHiddenContext() {\n  entangledRenderLanes = prevEntangledRenderLanesCursor.current;\n  pop(currentTreeHiddenStackCursor);\n  pop(prevEntangledRenderLanesCursor);\n}\nvar suspenseHandlerStackCursor = createCursor(null),\n  shellBoundary = null;\nfunction pushPrimaryTreeSuspenseHandler(handler) {\n  var current = handler.alternate;\n  push(suspenseStackCursor, suspenseStackCursor.current & 1);\n  push(suspenseHandlerStackCursor, handler);\n  null === shellBoundary &&\n    (null === current || null !== currentTreeHiddenStackCursor.current\n      ? (shellBoundary = handler)\n      : null !== current.memoizedState && (shellBoundary = handler));\n}\nfunction pushOffscreenSuspenseHandler(fiber) {\n  if (22 === fiber.tag) {\n    if (\n      (push(suspenseStackCursor, suspenseStackCursor.current),\n      push(suspenseHandlerStackCursor, fiber),\n      null === shellBoundary)\n    ) {\n      var current = fiber.alternate;\n      null !== current &&\n        null !== current.memoizedState &&\n        (shellBoundary = fiber);\n    }\n  } else reuseSuspenseHandlerOnStack(fiber);\n}\nfunction reuseSuspenseHandlerOnStack() {\n  push(suspenseStackCursor, suspenseStackCursor.current);\n  push(suspenseHandlerStackCursor, suspenseHandlerStackCursor.current);\n}\nfunction popSuspenseHandler(fiber) {\n  pop(suspenseHandlerStackCursor);\n  shellBoundary === fiber && (shellBoundary = null);\n  pop(suspenseStackCursor);\n}\nvar suspenseStackCursor = createCursor(0);\nfunction findFirstSuspended(row) {\n  for (var node = row; null !== node; ) {\n    if (13 === node.tag) {\n      var state = node.memoizedState;\n      if (\n        null !== state &&\n        ((state = state.dehydrated),\n        null === state || \"$?\" === state.data || \"$!\" === state.data)\n      )\n        return node;\n    } else if (19 === node.tag && void 0 !== node.memoizedProps.revealOrder) {\n      if (0 !== (node.flags & 128)) return node;\n    } else if (null !== node.child) {\n      node.child.return = node;\n      node = node.child;\n      continue;\n    }\n    if (node === row) break;\n    for (; null === node.sibling; ) {\n      if (null === node.return || node.return === row) return null;\n      node = node.return;\n    }\n    node.sibling.return = node.return;\n    node = node.sibling;\n  }\n  return null;\n}\nvar AbortControllerLocal =\n    \"undefined\" !== typeof AbortController\n      ? AbortController\n      : function () {\n          var listeners = [],\n            signal = (this.signal = {\n              aborted: !1,\n              addEventListener: function (type, listener) {\n                listeners.push(listener);\n              }\n            });\n          this.abort = function () {\n            signal.aborted = !0;\n            listeners.forEach(function (listener) {\n              return listener();\n            });\n          };\n        },\n  scheduleCallback$2 = Scheduler.unstable_scheduleCallback,\n  NormalPriority = Scheduler.unstable_NormalPriority,\n  CacheContext = {\n    $$typeof: REACT_CONTEXT_TYPE,\n    Consumer: null,\n    Provider: null,\n    _currentValue: null,\n    _currentValue2: null,\n    _threadCount: 0\n  };\nfunction createCache() {\n  return {\n    controller: new AbortControllerLocal(),\n    data: new Map(),\n    refCount: 0\n  };\n}\nfunction releaseCache(cache) {\n  cache.refCount--;\n  0 === cache.refCount &&\n    scheduleCallback$2(NormalPriority, function () {\n      cache.controller.abort();\n    });\n}\nvar currentEntangledListeners = null,\n  currentEntangledPendingCount = 0,\n  currentEntangledLane = 0,\n  currentEntangledActionThenable = null;\nfunction entangleAsyncAction(transition, thenable) {\n  if (null === currentEntangledListeners) {\n    var entangledListeners = (currentEntangledListeners = []);\n    currentEntangledPendingCount = 0;\n    currentEntangledLane = requestTransitionLane();\n    currentEntangledActionThenable = {\n      status: \"pending\",\n      value: void 0,\n      then: function (resolve) {\n        entangledListeners.push(resolve);\n      }\n    };\n  }\n  currentEntangledPendingCount++;\n  thenable.then(pingEngtangledActionScope, pingEngtangledActionScope);\n  return thenable;\n}\nfunction pingEngtangledActionScope() {\n  if (\n    0 === --currentEntangledPendingCount &&\n    null !== currentEntangledListeners\n  ) {\n    null !== currentEntangledActionThenable &&\n      (currentEntangledActionThenable.status = \"fulfilled\");\n    var listeners = currentEntangledListeners;\n    currentEntangledListeners = null;\n    currentEntangledLane = 0;\n    currentEntangledActionThenable = null;\n    for (var i = 0; i < listeners.length; i++) (0, listeners[i])();\n  }\n}\nfunction chainThenableValue(thenable, result) {\n  var listeners = [],\n    thenableWithOverride = {\n      status: \"pending\",\n      value: null,\n      reason: null,\n      then: function (resolve) {\n        listeners.push(resolve);\n      }\n    };\n  thenable.then(\n    function () {\n      thenableWithOverride.status = \"fulfilled\";\n      thenableWithOverride.value = result;\n      for (var i = 0; i < listeners.length; i++) (0, listeners[i])(result);\n    },\n    function (error) {\n      thenableWithOverride.status = \"rejected\";\n      thenableWithOverride.reason = error;\n      for (error = 0; error < listeners.length; error++)\n        (0, listeners[error])(void 0);\n    }\n  );\n  return thenableWithOverride;\n}\nvar prevOnStartTransitionFinish = ReactSharedInternals.S;\nReactSharedInternals.S = function (transition, returnValue) {\n  \"object\" === typeof returnValue &&\n    null !== returnValue &&\n    \"function\" === typeof returnValue.then &&\n    entangleAsyncAction(transition, returnValue);\n  null !== prevOnStartTransitionFinish &&\n    prevOnStartTransitionFinish(transition, returnValue);\n};\nvar resumedCache = createCursor(null);\nfunction peekCacheFromPool() {\n  var cacheResumedFromPreviousRender = resumedCache.current;\n  return null !== cacheResumedFromPreviousRender\n    ? cacheResumedFromPreviousRender\n    : workInProgressRoot.pooledCache;\n}\nfunction pushTransition(offscreenWorkInProgress, prevCachePool) {\n  null === prevCachePool\n    ? push(resumedCache, resumedCache.current)\n    : push(resumedCache, prevCachePool.pool);\n}\nfunction getSuspendedCache() {\n  var cacheFromPool = peekCacheFromPool();\n  return null === cacheFromPool\n    ? null\n    : { parent: CacheContext._currentValue, pool: cacheFromPool };\n}\nvar renderLanes = 0,\n  currentlyRenderingFiber$1 = null,\n  currentHook = null,\n  workInProgressHook = null,\n  didScheduleRenderPhaseUpdate = !1,\n  didScheduleRenderPhaseUpdateDuringThisPass = !1,\n  shouldDoubleInvokeUserFnsInHooksDEV = !1,\n  localIdCounter = 0,\n  thenableIndexCounter = 0,\n  thenableState = null,\n  globalClientIdCounter = 0;\nfunction throwInvalidHookError() {\n  throw Error(formatProdErrorMessage(321));\n}\nfunction areHookInputsEqual(nextDeps, prevDeps) {\n  if (null === prevDeps) return !1;\n  for (var i = 0; i < prevDeps.length && i < nextDeps.length; i++)\n    if (!objectIs(nextDeps[i], prevDeps[i])) return !1;\n  return !0;\n}\nfunction renderWithHooks(\n  current,\n  workInProgress,\n  Component,\n  props,\n  secondArg,\n  nextRenderLanes\n) {\n  renderLanes = nextRenderLanes;\n  currentlyRenderingFiber$1 = workInProgress;\n  workInProgress.memoizedState = null;\n  workInProgress.updateQueue = null;\n  workInProgress.lanes = 0;\n  ReactSharedInternals.H =\n    null === current || null === current.memoizedState\n      ? HooksDispatcherOnMount\n      : HooksDispatcherOnUpdate;\n  shouldDoubleInvokeUserFnsInHooksDEV = !1;\n  nextRenderLanes = Component(props, secondArg);\n  shouldDoubleInvokeUserFnsInHooksDEV = !1;\n  didScheduleRenderPhaseUpdateDuringThisPass &&\n    (nextRenderLanes = renderWithHooksAgain(\n      workInProgress,\n      Component,\n      props,\n      secondArg\n    ));\n  finishRenderingHooks(current);\n  return nextRenderLanes;\n}\nfunction finishRenderingHooks(current) {\n  ReactSharedInternals.H = ContextOnlyDispatcher;\n  var didRenderTooFewHooks = null !== currentHook && null !== currentHook.next;\n  renderLanes = 0;\n  workInProgressHook = currentHook = currentlyRenderingFiber$1 = null;\n  didScheduleRenderPhaseUpdate = !1;\n  thenableIndexCounter = 0;\n  thenableState = null;\n  if (didRenderTooFewHooks) throw Error(formatProdErrorMessage(300));\n  null === current ||\n    didReceiveUpdate ||\n    ((current = current.dependencies),\n    null !== current &&\n      checkIfContextChanged(current) &&\n      (didReceiveUpdate = !0));\n}\nfunction renderWithHooksAgain(workInProgress, Component, props, secondArg) {\n  currentlyRenderingFiber$1 = workInProgress;\n  var numberOfReRenders = 0;\n  do {\n    didScheduleRenderPhaseUpdateDuringThisPass && (thenableState = null);\n    thenableIndexCounter = 0;\n    didScheduleRenderPhaseUpdateDuringThisPass = !1;\n    if (25 <= numberOfReRenders) throw Error(formatProdErrorMessage(301));\n    numberOfReRenders += 1;\n    workInProgressHook = currentHook = null;\n    if (null != workInProgress.updateQueue) {\n      var children = workInProgress.updateQueue;\n      children.lastEffect = null;\n      children.events = null;\n      children.stores = null;\n      null != children.memoCache && (children.memoCache.index = 0);\n    }\n    ReactSharedInternals.H = HooksDispatcherOnRerender;\n    children = Component(props, secondArg);\n  } while (didScheduleRenderPhaseUpdateDuringThisPass);\n  return children;\n}\nfunction TransitionAwareHostComponent() {\n  var dispatcher = ReactSharedInternals.H,\n    maybeThenable = dispatcher.useState()[0];\n  maybeThenable =\n    \"function\" === typeof maybeThenable.then\n      ? useThenable(maybeThenable)\n      : maybeThenable;\n  dispatcher = dispatcher.useState()[0];\n  (null !== currentHook ? currentHook.memoizedState : null) !== dispatcher &&\n    (currentlyRenderingFiber$1.flags |= 1024);\n  return maybeThenable;\n}\nfunction checkDidRenderIdHook() {\n  var didRenderIdHook = 0 !== localIdCounter;\n  localIdCounter = 0;\n  return didRenderIdHook;\n}\nfunction bailoutHooks(current, workInProgress, lanes) {\n  workInProgress.updateQueue = current.updateQueue;\n  workInProgress.flags &= -2053;\n  current.lanes &= ~lanes;\n}\nfunction resetHooksOnUnwind(workInProgress) {\n  if (didScheduleRenderPhaseUpdate) {\n    for (\n      workInProgress = workInProgress.memoizedState;\n      null !== workInProgress;\n\n    ) {\n      var queue = workInProgress.queue;\n      null !== queue && (queue.pending = null);\n      workInProgress = workInProgress.next;\n    }\n    didScheduleRenderPhaseUpdate = !1;\n  }\n  renderLanes = 0;\n  workInProgressHook = currentHook = currentlyRenderingFiber$1 = null;\n  didScheduleRenderPhaseUpdateDuringThisPass = !1;\n  thenableIndexCounter = localIdCounter = 0;\n  thenableState = null;\n}\nfunction mountWorkInProgressHook() {\n  var hook = {\n    memoizedState: null,\n    baseState: null,\n    baseQueue: null,\n    queue: null,\n    next: null\n  };\n  null === workInProgressHook\n    ? (currentlyRenderingFiber$1.memoizedState = workInProgressHook = hook)\n    : (workInProgressHook = workInProgressHook.next = hook);\n  return workInProgressHook;\n}\nfunction updateWorkInProgressHook() {\n  if (null === currentHook) {\n    var nextCurrentHook = currentlyRenderingFiber$1.alternate;\n    nextCurrentHook =\n      null !== nextCurrentHook ? nextCurrentHook.memoizedState : null;\n  } else nextCurrentHook = currentHook.next;\n  var nextWorkInProgressHook =\n    null === workInProgressHook\n      ? currentlyRenderingFiber$1.memoizedState\n      : workInProgressHook.next;\n  if (null !== nextWorkInProgressHook)\n    (workInProgressHook = nextWorkInProgressHook),\n      (currentHook = nextCurrentHook);\n  else {\n    if (null === nextCurrentHook) {\n      if (null === currentlyRenderingFiber$1.alternate)\n        throw Error(formatProdErrorMessage(467));\n      throw Error(formatProdErrorMessage(310));\n    }\n    currentHook = nextCurrentHook;\n    nextCurrentHook = {\n      memoizedState: currentHook.memoizedState,\n      baseState: currentHook.baseState,\n      baseQueue: currentHook.baseQueue,\n      queue: currentHook.queue,\n      next: null\n    };\n    null === workInProgressHook\n      ? (currentlyRenderingFiber$1.memoizedState = workInProgressHook =\n          nextCurrentHook)\n      : (workInProgressHook = workInProgressHook.next = nextCurrentHook);\n  }\n  return workInProgressHook;\n}\nvar createFunctionComponentUpdateQueue;\ncreateFunctionComponentUpdateQueue = function () {\n  return { lastEffect: null, events: null, stores: null, memoCache: null };\n};\nfunction useThenable(thenable) {\n  var index = thenableIndexCounter;\n  thenableIndexCounter += 1;\n  null === thenableState && (thenableState = []);\n  thenable = trackUsedThenable(thenableState, thenable, index);\n  index = currentlyRenderingFiber$1;\n  null ===\n    (null === workInProgressHook\n      ? index.memoizedState\n      : workInProgressHook.next) &&\n    ((index = index.alternate),\n    (ReactSharedInternals.H =\n      null === index || null === index.memoizedState\n        ? HooksDispatcherOnMount\n        : HooksDispatcherOnUpdate));\n  return thenable;\n}\nfunction use(usable) {\n  if (null !== usable && \"object\" === typeof usable) {\n    if (\"function\" === typeof usable.then) return useThenable(usable);\n    if (usable.$$typeof === REACT_CONTEXT_TYPE) return readContext(usable);\n  }\n  throw Error(formatProdErrorMessage(438, String(usable)));\n}\nfunction useMemoCache(size) {\n  var memoCache = null,\n    updateQueue = currentlyRenderingFiber$1.updateQueue;\n  null !== updateQueue && (memoCache = updateQueue.memoCache);\n  if (null == memoCache) {\n    var current = currentlyRenderingFiber$1.alternate;\n    null !== current &&\n      ((current = current.updateQueue),\n      null !== current &&\n        ((current = current.memoCache),\n        null != current &&\n          (memoCache = {\n            data: current.data.map(function (array) {\n              return array.slice();\n            }),\n            index: 0\n          })));\n  }\n  null == memoCache && (memoCache = { data: [], index: 0 });\n  null === updateQueue &&\n    ((updateQueue = createFunctionComponentUpdateQueue()),\n    (currentlyRenderingFiber$1.updateQueue = updateQueue));\n  updateQueue.memoCache = memoCache;\n  updateQueue = memoCache.data[memoCache.index];\n  if (void 0 === updateQueue)\n    for (\n      updateQueue = memoCache.data[memoCache.index] = Array(size), current = 0;\n      current < size;\n      current++\n    )\n      updateQueue[current] = REACT_MEMO_CACHE_SENTINEL;\n  memoCache.index++;\n  return updateQueue;\n}\nfunction basicStateReducer(state, action) {\n  return \"function\" === typeof action ? action(state) : action;\n}\nfunction updateReducer(reducer) {\n  var hook = updateWorkInProgressHook();\n  return updateReducerImpl(hook, currentHook, reducer);\n}\nfunction updateReducerImpl(hook, current, reducer) {\n  var queue = hook.queue;\n  if (null === queue) throw Error(formatProdErrorMessage(311));\n  queue.lastRenderedReducer = reducer;\n  var baseQueue = hook.baseQueue,\n    pendingQueue = queue.pending;\n  if (null !== pendingQueue) {\n    if (null !== baseQueue) {\n      var baseFirst = baseQueue.next;\n      baseQueue.next = pendingQueue.next;\n      pendingQueue.next = baseFirst;\n    }\n    current.baseQueue = baseQueue = pendingQueue;\n    queue.pending = null;\n  }\n  pendingQueue = hook.baseState;\n  if (null === baseQueue) hook.memoizedState = pendingQueue;\n  else {\n    current = baseQueue.next;\n    var newBaseQueueFirst = (baseFirst = null),\n      newBaseQueueLast = null,\n      update = current,\n      didReadFromEntangledAsyncAction$54 = !1;\n    do {\n      var updateLane = update.lane & -536870913;\n      if (\n        updateLane !== update.lane\n          ? (workInProgressRootRenderLanes & updateLane) === updateLane\n          : (renderLanes & updateLane) === updateLane\n      ) {\n        var revertLane = update.revertLane;\n        if (0 === revertLane)\n          null !== newBaseQueueLast &&\n            (newBaseQueueLast = newBaseQueueLast.next =\n              {\n                lane: 0,\n                revertLane: 0,\n                action: update.action,\n                hasEagerState: update.hasEagerState,\n                eagerState: update.eagerState,\n                next: null\n              }),\n            updateLane === currentEntangledLane &&\n              (didReadFromEntangledAsyncAction$54 = !0);\n        else if ((renderLanes & revertLane) === revertLane) {\n          update = update.next;\n          revertLane === currentEntangledLane &&\n            (didReadFromEntangledAsyncAction$54 = !0);\n          continue;\n        } else\n          (updateLane = {\n            lane: 0,\n            revertLane: update.revertLane,\n            action: update.action,\n            hasEagerState: update.hasEagerState,\n            eagerState: update.eagerState,\n            next: null\n          }),\n            null === newBaseQueueLast\n              ? ((newBaseQueueFirst = newBaseQueueLast = updateLane),\n                (baseFirst = pendingQueue))\n              : (newBaseQueueLast = newBaseQueueLast.next = updateLane),\n            (currentlyRenderingFiber$1.lanes |= revertLane),\n            (workInProgressRootSkippedLanes |= revertLane);\n        updateLane = update.action;\n        shouldDoubleInvokeUserFnsInHooksDEV &&\n          reducer(pendingQueue, updateLane);\n        pendingQueue = update.hasEagerState\n          ? update.eagerState\n          : reducer(pendingQueue, updateLane);\n      } else\n        (revertLane = {\n          lane: updateLane,\n          revertLane: update.revertLane,\n          action: update.action,\n          hasEagerState: update.hasEagerState,\n          eagerState: update.eagerState,\n          next: null\n        }),\n          null === newBaseQueueLast\n            ? ((newBaseQueueFirst = newBaseQueueLast = revertLane),\n              (baseFirst = pendingQueue))\n            : (newBaseQueueLast = newBaseQueueLast.next = revertLane),\n          (currentlyRenderingFiber$1.lanes |= updateLane),\n          (workInProgressRootSkippedLanes |= updateLane);\n      update = update.next;\n    } while (null !== update && update !== current);\n    null === newBaseQueueLast\n      ? (baseFirst = pendingQueue)\n      : (newBaseQueueLast.next = newBaseQueueFirst);\n    if (\n      !objectIs(pendingQueue, hook.memoizedState) &&\n      ((didReceiveUpdate = !0),\n      didReadFromEntangledAsyncAction$54 &&\n        ((reducer = currentEntangledActionThenable), null !== reducer))\n    )\n      throw reducer;\n    hook.memoizedState = pendingQueue;\n    hook.baseState = baseFirst;\n    hook.baseQueue = newBaseQueueLast;\n    queue.lastRenderedState = pendingQueue;\n  }\n  null === baseQueue && (queue.lanes = 0);\n  return [hook.memoizedState, queue.dispatch];\n}\nfunction rerenderReducer(reducer) {\n  var hook = updateWorkInProgressHook(),\n    queue = hook.queue;\n  if (null === queue) throw Error(formatProdErrorMessage(311));\n  queue.lastRenderedReducer = reducer;\n  var dispatch = queue.dispatch,\n    lastRenderPhaseUpdate = queue.pending,\n    newState = hook.memoizedState;\n  if (null !== lastRenderPhaseUpdate) {\n    queue.pending = null;\n    var update = (lastRenderPhaseUpdate = lastRenderPhaseUpdate.next);\n    do (newState = reducer(newState, update.action)), (update = update.next);\n    while (update !== lastRenderPhaseUpdate);\n    objectIs(newState, hook.memoizedState) || (didReceiveUpdate = !0);\n    hook.memoizedState = newState;\n    null === hook.baseQueue && (hook.baseState = newState);\n    queue.lastRenderedState = newState;\n  }\n  return [newState, dispatch];\n}\nfunction updateSyncExternalStore(subscribe, getSnapshot, getServerSnapshot) {\n  var fiber = currentlyRenderingFiber$1,\n    hook = updateWorkInProgressHook(),\n    isHydrating$jscomp$0 = isHydrating;\n  if (isHydrating$jscomp$0) {\n    if (void 0 === getServerSnapshot) throw Error(formatProdErrorMessage(407));\n    getServerSnapshot = getServerSnapshot();\n  } else getServerSnapshot = getSnapshot();\n  var snapshotChanged = !objectIs(\n    (currentHook || hook).memoizedState,\n    getServerSnapshot\n  );\n  snapshotChanged &&\n    ((hook.memoizedState = getServerSnapshot), (didReceiveUpdate = !0));\n  hook = hook.queue;\n  updateEffect(subscribeToStore.bind(null, fiber, hook, subscribe), [\n    subscribe\n  ]);\n  if (\n    hook.getSnapshot !== getSnapshot ||\n    snapshotChanged ||\n    (null !== workInProgressHook && workInProgressHook.memoizedState.tag & 1)\n  ) {\n    fiber.flags |= 2048;\n    pushEffect(\n      9,\n      updateStoreInstance.bind(\n        null,\n        fiber,\n        hook,\n        getServerSnapshot,\n        getSnapshot\n      ),\n      { destroy: void 0 },\n      null\n    );\n    if (null === workInProgressRoot) throw Error(formatProdErrorMessage(349));\n    isHydrating$jscomp$0 ||\n      0 !== (renderLanes & 60) ||\n      pushStoreConsistencyCheck(fiber, getSnapshot, getServerSnapshot);\n  }\n  return getServerSnapshot;\n}\nfunction pushStoreConsistencyCheck(fiber, getSnapshot, renderedSnapshot) {\n  fiber.flags |= 16384;\n  fiber = { getSnapshot: getSnapshot, value: renderedSnapshot };\n  getSnapshot = currentlyRenderingFiber$1.updateQueue;\n  null === getSnapshot\n    ? ((getSnapshot = createFunctionComponentUpdateQueue()),\n      (currentlyRenderingFiber$1.updateQueue = getSnapshot),\n      (getSnapshot.stores = [fiber]))\n    : ((renderedSnapshot = getSnapshot.stores),\n      null === renderedSnapshot\n        ? (getSnapshot.stores = [fiber])\n        : renderedSnapshot.push(fiber));\n}\nfunction updateStoreInstance(fiber, inst, nextSnapshot, getSnapshot) {\n  inst.value = nextSnapshot;\n  inst.getSnapshot = getSnapshot;\n  checkIfSnapshotChanged(inst) && forceStoreRerender(fiber);\n}\nfunction subscribeToStore(fiber, inst, subscribe) {\n  return subscribe(function () {\n    checkIfSnapshotChanged(inst) && forceStoreRerender(fiber);\n  });\n}\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  inst = inst.value;\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(inst, nextValue);\n  } catch (error) {\n    return !0;\n  }\n}\nfunction forceStoreRerender(fiber) {\n  var root = enqueueConcurrentRenderForLane(fiber, 2);\n  null !== root && scheduleUpdateOnFiber(root, fiber, 2);\n}\nfunction mountStateImpl(initialState) {\n  var hook = mountWorkInProgressHook();\n  if (\"function\" === typeof initialState) {\n    var initialStateInitializer = initialState;\n    initialState = initialStateInitializer();\n    if (shouldDoubleInvokeUserFnsInHooksDEV) {\n      setIsStrictModeForDevtools(!0);\n      try {\n        initialStateInitializer();\n      } finally {\n        setIsStrictModeForDevtools(!1);\n      }\n    }\n  }\n  hook.memoizedState = hook.baseState = initialState;\n  hook.queue = {\n    pending: null,\n    lanes: 0,\n    dispatch: null,\n    lastRenderedReducer: basicStateReducer,\n    lastRenderedState: initialState\n  };\n  return hook;\n}\nfunction updateOptimisticImpl(hook, current, passthrough, reducer) {\n  hook.baseState = passthrough;\n  return updateReducerImpl(\n    hook,\n    currentHook,\n    \"function\" === typeof reducer ? reducer : basicStateReducer\n  );\n}\nfunction dispatchActionState(\n  fiber,\n  actionQueue,\n  setPendingState,\n  setState,\n  payload\n) {\n  if (isRenderPhaseUpdate(fiber)) throw Error(formatProdErrorMessage(485));\n  fiber = actionQueue.action;\n  if (null !== fiber) {\n    var actionNode = {\n      payload: payload,\n      action: fiber,\n      next: null,\n      isTransition: !0,\n      status: \"pending\",\n      value: null,\n      reason: null,\n      listeners: [],\n      then: function (listener) {\n        actionNode.listeners.push(listener);\n      }\n    };\n    null !== ReactSharedInternals.T\n      ? setPendingState(!0)\n      : (actionNode.isTransition = !1);\n    setState(actionNode);\n    setPendingState = actionQueue.pending;\n    null === setPendingState\n      ? ((actionNode.next = actionQueue.pending = actionNode),\n        runActionStateAction(actionQueue, actionNode))\n      : ((actionNode.next = setPendingState.next),\n        (actionQueue.pending = setPendingState.next = actionNode));\n  }\n}\nfunction runActionStateAction(actionQueue, node) {\n  var action = node.action,\n    payload = node.payload,\n    prevState = actionQueue.state;\n  if (node.isTransition) {\n    var prevTransition = ReactSharedInternals.T,\n      currentTransition = {};\n    ReactSharedInternals.T = currentTransition;\n    try {\n      var returnValue = action(prevState, payload),\n        onStartTransitionFinish = ReactSharedInternals.S;\n      null !== onStartTransitionFinish &&\n        onStartTransitionFinish(currentTransition, returnValue);\n      handleActionReturnValue(actionQueue, node, returnValue);\n    } catch (error) {\n      onActionError(actionQueue, node, error);\n    } finally {\n      ReactSharedInternals.T = prevTransition;\n    }\n  } else\n    try {\n      (prevTransition = action(prevState, payload)),\n        handleActionReturnValue(actionQueue, node, prevTransition);\n    } catch (error$60) {\n      onActionError(actionQueue, node, error$60);\n    }\n}\nfunction handleActionReturnValue(actionQueue, node, returnValue) {\n  null !== returnValue &&\n  \"object\" === typeof returnValue &&\n  \"function\" === typeof returnValue.then\n    ? returnValue.then(\n        function (nextState) {\n          onActionSuccess(actionQueue, node, nextState);\n        },\n        function (error) {\n          return onActionError(actionQueue, node, error);\n        }\n      )\n    : onActionSuccess(actionQueue, node, returnValue);\n}\nfunction onActionSuccess(actionQueue, actionNode, nextState) {\n  actionNode.status = \"fulfilled\";\n  actionNode.value = nextState;\n  notifyActionListeners(actionNode);\n  actionQueue.state = nextState;\n  actionNode = actionQueue.pending;\n  null !== actionNode &&\n    ((nextState = actionNode.next),\n    nextState === actionNode\n      ? (actionQueue.pending = null)\n      : ((nextState = nextState.next),\n        (actionNode.next = nextState),\n        runActionStateAction(actionQueue, nextState)));\n}\nfunction onActionError(actionQueue, actionNode, error) {\n  var last = actionQueue.pending;\n  actionQueue.pending = null;\n  if (null !== last) {\n    last = last.next;\n    do\n      (actionNode.status = \"rejected\"),\n        (actionNode.reason = error),\n        notifyActionListeners(actionNode),\n        (actionNode = actionNode.next);\n    while (actionNode !== last);\n  }\n  actionQueue.action = null;\n}\nfunction notifyActionListeners(actionNode) {\n  actionNode = actionNode.listeners;\n  for (var i = 0; i < actionNode.length; i++) (0, actionNode[i])();\n}\nfunction actionStateReducer(oldState, newState) {\n  return newState;\n}\nfunction mountActionState(action, initialStateProp) {\n  if (isHydrating) {\n    var ssrFormState = workInProgressRoot.formState;\n    if (null !== ssrFormState) {\n      a: {\n        var JSCompiler_inline_result = currentlyRenderingFiber$1;\n        if (isHydrating) {\n          if (nextHydratableInstance) {\n            b: {\n              var JSCompiler_inline_result$jscomp$0 = nextHydratableInstance;\n              for (\n                var inRootOrSingleton = rootOrSingletonContext;\n                8 !== JSCompiler_inline_result$jscomp$0.nodeType;\n\n              ) {\n                if (!inRootOrSingleton) {\n                  JSCompiler_inline_result$jscomp$0 = null;\n                  break b;\n                }\n                JSCompiler_inline_result$jscomp$0 = getNextHydratable(\n                  JSCompiler_inline_result$jscomp$0.nextSibling\n                );\n                if (null === JSCompiler_inline_result$jscomp$0) {\n                  JSCompiler_inline_result$jscomp$0 = null;\n                  break b;\n                }\n              }\n              inRootOrSingleton = JSCompiler_inline_result$jscomp$0.data;\n              JSCompiler_inline_result$jscomp$0 =\n                \"F!\" === inRootOrSingleton || \"F\" === inRootOrSingleton\n                  ? JSCompiler_inline_result$jscomp$0\n                  : null;\n            }\n            if (JSCompiler_inline_result$jscomp$0) {\n              nextHydratableInstance = getNextHydratable(\n                JSCompiler_inline_result$jscomp$0.nextSibling\n              );\n              JSCompiler_inline_result =\n                \"F!\" === JSCompiler_inline_result$jscomp$0.data;\n              break a;\n            }\n          }\n          throwOnHydrationMismatch(JSCompiler_inline_result);\n        }\n        JSCompiler_inline_result = !1;\n      }\n      JSCompiler_inline_result && (initialStateProp = ssrFormState[0]);\n    }\n  }\n  ssrFormState = mountWorkInProgressHook();\n  ssrFormState.memoizedState = ssrFormState.baseState = initialStateProp;\n  JSCompiler_inline_result = {\n    pending: null,\n    lanes: 0,\n    dispatch: null,\n    lastRenderedReducer: actionStateReducer,\n    lastRenderedState: initialStateProp\n  };\n  ssrFormState.queue = JSCompiler_inline_result;\n  ssrFormState = dispatchSetState.bind(\n    null,\n    currentlyRenderingFiber$1,\n    JSCompiler_inline_result\n  );\n  JSCompiler_inline_result.dispatch = ssrFormState;\n  JSCompiler_inline_result = mountStateImpl(!1);\n  inRootOrSingleton = dispatchOptimisticSetState.bind(\n    null,\n    currentlyRenderingFiber$1,\n    !1,\n    JSCompiler_inline_result.queue\n  );\n  JSCompiler_inline_result = mountWorkInProgressHook();\n  JSCompiler_inline_result$jscomp$0 = {\n    state: initialStateProp,\n    dispatch: null,\n    action: action,\n    pending: null\n  };\n  JSCompiler_inline_result.queue = JSCompiler_inline_result$jscomp$0;\n  ssrFormState = dispatchActionState.bind(\n    null,\n    currentlyRenderingFiber$1,\n    JSCompiler_inline_result$jscomp$0,\n    inRootOrSingleton,\n    ssrFormState\n  );\n  JSCompiler_inline_result$jscomp$0.dispatch = ssrFormState;\n  JSCompiler_inline_result.memoizedState = action;\n  return [initialStateProp, ssrFormState, !1];\n}\nfunction updateActionState(action) {\n  var stateHook = updateWorkInProgressHook();\n  return updateActionStateImpl(stateHook, currentHook, action);\n}\nfunction updateActionStateImpl(stateHook, currentStateHook, action) {\n  currentStateHook = updateReducerImpl(\n    stateHook,\n    currentStateHook,\n    actionStateReducer\n  )[0];\n  stateHook = updateReducer(basicStateReducer)[0];\n  currentStateHook =\n    \"object\" === typeof currentStateHook &&\n    null !== currentStateHook &&\n    \"function\" === typeof currentStateHook.then\n      ? useThenable(currentStateHook)\n      : currentStateHook;\n  var actionQueueHook = updateWorkInProgressHook(),\n    actionQueue = actionQueueHook.queue,\n    dispatch = actionQueue.dispatch;\n  action !== actionQueueHook.memoizedState &&\n    ((currentlyRenderingFiber$1.flags |= 2048),\n    pushEffect(\n      9,\n      actionStateActionEffect.bind(null, actionQueue, action),\n      { destroy: void 0 },\n      null\n    ));\n  return [currentStateHook, dispatch, stateHook];\n}\nfunction actionStateActionEffect(actionQueue, action) {\n  actionQueue.action = action;\n}\nfunction rerenderActionState(action) {\n  var stateHook = updateWorkInProgressHook(),\n    currentStateHook = currentHook;\n  if (null !== currentStateHook)\n    return updateActionStateImpl(stateHook, currentStateHook, action);\n  updateWorkInProgressHook();\n  stateHook = stateHook.memoizedState;\n  currentStateHook = updateWorkInProgressHook();\n  var dispatch = currentStateHook.queue.dispatch;\n  currentStateHook.memoizedState = action;\n  return [stateHook, dispatch, !1];\n}\nfunction pushEffect(tag, create, inst, deps) {\n  tag = { tag: tag, create: create, inst: inst, deps: deps, next: null };\n  create = currentlyRenderingFiber$1.updateQueue;\n  null === create &&\n    ((create = createFunctionComponentUpdateQueue()),\n    (currentlyRenderingFiber$1.updateQueue = create));\n  inst = create.lastEffect;\n  null === inst\n    ? (create.lastEffect = tag.next = tag)\n    : ((deps = inst.next),\n      (inst.next = tag),\n      (tag.next = deps),\n      (create.lastEffect = tag));\n  return tag;\n}\nfunction updateRef() {\n  return updateWorkInProgressHook().memoizedState;\n}\nfunction mountEffectImpl(fiberFlags, hookFlags, create, deps) {\n  var hook = mountWorkInProgressHook();\n  currentlyRenderingFiber$1.flags |= fiberFlags;\n  hook.memoizedState = pushEffect(\n    1 | hookFlags,\n    create,\n    { destroy: void 0 },\n    void 0 === deps ? null : deps\n  );\n}\nfunction updateEffectImpl(fiberFlags, hookFlags, create, deps) {\n  var hook = updateWorkInProgressHook();\n  deps = void 0 === deps ? null : deps;\n  var inst = hook.memoizedState.inst;\n  null !== currentHook &&\n  null !== deps &&\n  areHookInputsEqual(deps, currentHook.memoizedState.deps)\n    ? (hook.memoizedState = pushEffect(hookFlags, create, inst, deps))\n    : ((currentlyRenderingFiber$1.flags |= fiberFlags),\n      (hook.memoizedState = pushEffect(1 | hookFlags, create, inst, deps)));\n}\nfunction mountEffect(create, deps) {\n  mountEffectImpl(8390656, 8, create, deps);\n}\nfunction updateEffect(create, deps) {\n  updateEffectImpl(2048, 8, create, deps);\n}\nfunction updateInsertionEffect(create, deps) {\n  return updateEffectImpl(4, 2, create, deps);\n}\nfunction updateLayoutEffect(create, deps) {\n  return updateEffectImpl(4, 4, create, deps);\n}\nfunction imperativeHandleEffect(create, ref) {\n  if (\"function\" === typeof ref) {\n    create = create();\n    var refCleanup = ref(create);\n    return function () {\n      \"function\" === typeof refCleanup ? refCleanup() : ref(null);\n    };\n  }\n  if (null !== ref && void 0 !== ref)\n    return (\n      (create = create()),\n      (ref.current = create),\n      function () {\n        ref.current = null;\n      }\n    );\n}\nfunction updateImperativeHandle(ref, create, deps) {\n  deps = null !== deps && void 0 !== deps ? deps.concat([ref]) : null;\n  updateEffectImpl(4, 4, imperativeHandleEffect.bind(null, create, ref), deps);\n}\nfunction mountDebugValue() {}\nfunction updateCallback(callback, deps) {\n  var hook = updateWorkInProgressHook();\n  deps = void 0 === deps ? null : deps;\n  var prevState = hook.memoizedState;\n  if (null !== deps && areHookInputsEqual(deps, prevState[1]))\n    return prevState[0];\n  hook.memoizedState = [callback, deps];\n  return callback;\n}\nfunction updateMemo(nextCreate, deps) {\n  var hook = updateWorkInProgressHook();\n  deps = void 0 === deps ? null : deps;\n  var prevState = hook.memoizedState;\n  if (null !== deps && areHookInputsEqual(deps, prevState[1]))\n    return prevState[0];\n  prevState = nextCreate();\n  if (shouldDoubleInvokeUserFnsInHooksDEV) {\n    setIsStrictModeForDevtools(!0);\n    try {\n      nextCreate();\n    } finally {\n      setIsStrictModeForDevtools(!1);\n    }\n  }\n  hook.memoizedState = [prevState, deps];\n  return prevState;\n}\nfunction mountDeferredValueImpl(hook, value, initialValue) {\n  if (void 0 === initialValue || 0 !== (renderLanes & 1073741824))\n    return (hook.memoizedState = value);\n  hook.memoizedState = initialValue;\n  hook = requestDeferredLane();\n  currentlyRenderingFiber$1.lanes |= hook;\n  workInProgressRootSkippedLanes |= hook;\n  return initialValue;\n}\nfunction updateDeferredValueImpl(hook, prevValue, value, initialValue) {\n  if (objectIs(value, prevValue)) return value;\n  if (null !== currentTreeHiddenStackCursor.current)\n    return (\n      (hook = mountDeferredValueImpl(hook, value, initialValue)),\n      objectIs(hook, prevValue) || (didReceiveUpdate = !0),\n      hook\n    );\n  if (0 === (renderLanes & 42))\n    return (didReceiveUpdate = !0), (hook.memoizedState = value);\n  hook = requestDeferredLane();\n  currentlyRenderingFiber$1.lanes |= hook;\n  workInProgressRootSkippedLanes |= hook;\n  return prevValue;\n}\nfunction startTransition(fiber, queue, pendingState, finishedState, callback) {\n  var previousPriority = ReactDOMSharedInternals.p;\n  ReactDOMSharedInternals.p =\n    0 !== previousPriority && 8 > previousPriority ? previousPriority : 8;\n  var prevTransition = ReactSharedInternals.T,\n    currentTransition = {};\n  ReactSharedInternals.T = currentTransition;\n  dispatchOptimisticSetState(fiber, !1, queue, pendingState);\n  try {\n    var returnValue = callback(),\n      onStartTransitionFinish = ReactSharedInternals.S;\n    null !== onStartTransitionFinish &&\n      onStartTransitionFinish(currentTransition, returnValue);\n    if (\n      null !== returnValue &&\n      \"object\" === typeof returnValue &&\n      \"function\" === typeof returnValue.then\n    ) {\n      var thenableForFinishedState = chainThenableValue(\n        returnValue,\n        finishedState\n      );\n      dispatchSetStateInternal(\n        fiber,\n        queue,\n        thenableForFinishedState,\n        requestUpdateLane(fiber)\n      );\n    } else\n      dispatchSetStateInternal(\n        fiber,\n        queue,\n        finishedState,\n        requestUpdateLane(fiber)\n      );\n  } catch (error) {\n    dispatchSetStateInternal(\n      fiber,\n      queue,\n      { then: function () {}, status: \"rejected\", reason: error },\n      requestUpdateLane()\n    );\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition);\n  }\n}\nfunction noop$2() {}\nfunction startHostTransition(formFiber, pendingState, action, formData) {\n  if (5 !== formFiber.tag) throw Error(formatProdErrorMessage(476));\n  var queue = ensureFormComponentIsStateful(formFiber).queue;\n  startTransition(\n    formFiber,\n    queue,\n    pendingState,\n    sharedNotPendingObject,\n    null === action\n      ? noop$2\n      : function () {\n          requestFormReset$1(formFiber);\n          return action(formData);\n        }\n  );\n}\nfunction ensureFormComponentIsStateful(formFiber) {\n  var existingStateHook = formFiber.memoizedState;\n  if (null !== existingStateHook) return existingStateHook;\n  existingStateHook = {\n    memoizedState: sharedNotPendingObject,\n    baseState: sharedNotPendingObject,\n    baseQueue: null,\n    queue: {\n      pending: null,\n      lanes: 0,\n      dispatch: null,\n      lastRenderedReducer: basicStateReducer,\n      lastRenderedState: sharedNotPendingObject\n    },\n    next: null\n  };\n  var initialResetState = {};\n  existingStateHook.next = {\n    memoizedState: initialResetState,\n    baseState: initialResetState,\n    baseQueue: null,\n    queue: {\n      pending: null,\n      lanes: 0,\n      dispatch: null,\n      lastRenderedReducer: basicStateReducer,\n      lastRenderedState: initialResetState\n    },\n    next: null\n  };\n  formFiber.memoizedState = existingStateHook;\n  formFiber = formFiber.alternate;\n  null !== formFiber && (formFiber.memoizedState = existingStateHook);\n  return existingStateHook;\n}\nfunction requestFormReset$1(formFiber) {\n  var resetStateQueue = ensureFormComponentIsStateful(formFiber).next.queue;\n  dispatchSetStateInternal(formFiber, resetStateQueue, {}, requestUpdateLane());\n}\nfunction useHostTransitionStatus() {\n  return readContext(HostTransitionContext);\n}\nfunction updateId() {\n  return updateWorkInProgressHook().memoizedState;\n}\nfunction updateRefresh() {\n  return updateWorkInProgressHook().memoizedState;\n}\nfunction refreshCache(fiber) {\n  for (var provider = fiber.return; null !== provider; ) {\n    switch (provider.tag) {\n      case 24:\n      case 3:\n        var lane = requestUpdateLane();\n        fiber = createUpdate(lane);\n        var root$63 = enqueueUpdate(provider, fiber, lane);\n        null !== root$63 &&\n          (scheduleUpdateOnFiber(root$63, provider, lane),\n          entangleTransitions(root$63, provider, lane));\n        provider = { cache: createCache() };\n        fiber.payload = provider;\n        return;\n    }\n    provider = provider.return;\n  }\n}\nfunction dispatchReducerAction(fiber, queue, action) {\n  var lane = requestUpdateLane();\n  action = {\n    lane: lane,\n    revertLane: 0,\n    action: action,\n    hasEagerState: !1,\n    eagerState: null,\n    next: null\n  };\n  isRenderPhaseUpdate(fiber)\n    ? enqueueRenderPhaseUpdate(queue, action)\n    : ((action = enqueueConcurrentHookUpdate(fiber, queue, action, lane)),\n      null !== action &&\n        (scheduleUpdateOnFiber(action, fiber, lane),\n        entangleTransitionUpdate(action, queue, lane)));\n}\nfunction dispatchSetState(fiber, queue, action) {\n  var lane = requestUpdateLane();\n  dispatchSetStateInternal(fiber, queue, action, lane);\n}\nfunction dispatchSetStateInternal(fiber, queue, action, lane) {\n  var update = {\n    lane: lane,\n    revertLane: 0,\n    action: action,\n    hasEagerState: !1,\n    eagerState: null,\n    next: null\n  };\n  if (isRenderPhaseUpdate(fiber)) enqueueRenderPhaseUpdate(queue, update);\n  else {\n    var alternate = fiber.alternate;\n    if (\n      0 === fiber.lanes &&\n      (null === alternate || 0 === alternate.lanes) &&\n      ((alternate = queue.lastRenderedReducer), null !== alternate)\n    )\n      try {\n        var currentState = queue.lastRenderedState,\n          eagerState = alternate(currentState, action);\n        update.hasEagerState = !0;\n        update.eagerState = eagerState;\n        if (objectIs(eagerState, currentState))\n          return (\n            enqueueUpdate$1(fiber, queue, update, 0),\n            null === workInProgressRoot && finishQueueingConcurrentUpdates(),\n            !1\n          );\n      } catch (error) {\n      } finally {\n      }\n    action = enqueueConcurrentHookUpdate(fiber, queue, update, lane);\n    if (null !== action)\n      return (\n        scheduleUpdateOnFiber(action, fiber, lane),\n        entangleTransitionUpdate(action, queue, lane),\n        !0\n      );\n  }\n  return !1;\n}\nfunction dispatchOptimisticSetState(fiber, throwIfDuringRender, queue, action) {\n  action = {\n    lane: 2,\n    revertLane: requestTransitionLane(),\n    action: action,\n    hasEagerState: !1,\n    eagerState: null,\n    next: null\n  };\n  if (isRenderPhaseUpdate(fiber)) {\n    if (throwIfDuringRender) throw Error(formatProdErrorMessage(479));\n  } else\n    (throwIfDuringRender = enqueueConcurrentHookUpdate(\n      fiber,\n      queue,\n      action,\n      2\n    )),\n      null !== throwIfDuringRender &&\n        scheduleUpdateOnFiber(throwIfDuringRender, fiber, 2);\n}\nfunction isRenderPhaseUpdate(fiber) {\n  var alternate = fiber.alternate;\n  return (\n    fiber === currentlyRenderingFiber$1 ||\n    (null !== alternate && alternate === currentlyRenderingFiber$1)\n  );\n}\nfunction enqueueRenderPhaseUpdate(queue, update) {\n  didScheduleRenderPhaseUpdateDuringThisPass = didScheduleRenderPhaseUpdate =\n    !0;\n  var pending = queue.pending;\n  null === pending\n    ? (update.next = update)\n    : ((update.next = pending.next), (pending.next = update));\n  queue.pending = update;\n}\nfunction entangleTransitionUpdate(root, queue, lane) {\n  if (0 !== (lane & 4194176)) {\n    var queueLanes = queue.lanes;\n    queueLanes &= root.pendingLanes;\n    lane |= queueLanes;\n    queue.lanes = lane;\n    markRootEntangled(root, lane);\n  }\n}\nvar ContextOnlyDispatcher = {\n  readContext: readContext,\n  use: use,\n  useCallback: throwInvalidHookError,\n  useContext: throwInvalidHookError,\n  useEffect: throwInvalidHookError,\n  useImperativeHandle: throwInvalidHookError,\n  useLayoutEffect: throwInvalidHookError,\n  useInsertionEffect: throwInvalidHookError,\n  useMemo: throwInvalidHookError,\n  useReducer: throwInvalidHookError,\n  useRef: throwInvalidHookError,\n  useState: throwInvalidHookError,\n  useDebugValue: throwInvalidHookError,\n  useDeferredValue: throwInvalidHookError,\n  useTransition: throwInvalidHookError,\n  useSyncExternalStore: throwInvalidHookError,\n  useId: throwInvalidHookError\n};\nContextOnlyDispatcher.useCacheRefresh = throwInvalidHookError;\nContextOnlyDispatcher.useMemoCache = throwInvalidHookError;\nContextOnlyDispatcher.useHostTransitionStatus = throwInvalidHookError;\nContextOnlyDispatcher.useFormState = throwInvalidHookError;\nContextOnlyDispatcher.useActionState = throwInvalidHookError;\nContextOnlyDispatcher.useOptimistic = throwInvalidHookError;\nvar HooksDispatcherOnMount = {\n  readContext: readContext,\n  use: use,\n  useCallback: function (callback, deps) {\n    mountWorkInProgressHook().memoizedState = [\n      callback,\n      void 0 === deps ? null : deps\n    ];\n    return callback;\n  },\n  useContext: readContext,\n  useEffect: mountEffect,\n  useImperativeHandle: function (ref, create, deps) {\n    deps = null !== deps && void 0 !== deps ? deps.concat([ref]) : null;\n    mountEffectImpl(\n      4194308,\n      4,\n      imperativeHandleEffect.bind(null, create, ref),\n      deps\n    );\n  },\n  useLayoutEffect: function (create, deps) {\n    return mountEffectImpl(4194308, 4, create, deps);\n  },\n  useInsertionEffect: function (create, deps) {\n    mountEffectImpl(4, 2, create, deps);\n  },\n  useMemo: function (nextCreate, deps) {\n    var hook = mountWorkInProgressHook();\n    deps = void 0 === deps ? null : deps;\n    var nextValue = nextCreate();\n    if (shouldDoubleInvokeUserFnsInHooksDEV) {\n      setIsStrictModeForDevtools(!0);\n      try {\n        nextCreate();\n      } finally {\n        setIsStrictModeForDevtools(!1);\n      }\n    }\n    hook.memoizedState = [nextValue, deps];\n    return nextValue;\n  },\n  useReducer: function (reducer, initialArg, init) {\n    var hook = mountWorkInProgressHook();\n    if (void 0 !== init) {\n      var initialState = init(initialArg);\n      if (shouldDoubleInvokeUserFnsInHooksDEV) {\n        setIsStrictModeForDevtools(!0);\n        try {\n          init(initialArg);\n        } finally {\n          setIsStrictModeForDevtools(!1);\n        }\n      }\n    } else initialState = initialArg;\n    hook.memoizedState = hook.baseState = initialState;\n    reducer = {\n      pending: null,\n      lanes: 0,\n      dispatch: null,\n      lastRenderedReducer: reducer,\n      lastRenderedState: initialState\n    };\n    hook.queue = reducer;\n    reducer = reducer.dispatch = dispatchReducerAction.bind(\n      null,\n      currentlyRenderingFiber$1,\n      reducer\n    );\n    return [hook.memoizedState, reducer];\n  },\n  useRef: function (initialValue) {\n    var hook = mountWorkInProgressHook();\n    initialValue = { current: initialValue };\n    return (hook.memoizedState = initialValue);\n  },\n  useState: function (initialState) {\n    initialState = mountStateImpl(initialState);\n    var queue = initialState.queue,\n      dispatch = dispatchSetState.bind(null, currentlyRenderingFiber$1, queue);\n    queue.dispatch = dispatch;\n    return [initialState.memoizedState, dispatch];\n  },\n  useDebugValue: mountDebugValue,\n  useDeferredValue: function (value, initialValue) {\n    var hook = mountWorkInProgressHook();\n    return mountDeferredValueImpl(hook, value, initialValue);\n  },\n  useTransition: function () {\n    var stateHook = mountStateImpl(!1);\n    stateHook = startTransition.bind(\n      null,\n      currentlyRenderingFiber$1,\n      stateHook.queue,\n      !0,\n      !1\n    );\n    mountWorkInProgressHook().memoizedState = stateHook;\n    return [!1, stateHook];\n  },\n  useSyncExternalStore: function (subscribe, getSnapshot, getServerSnapshot) {\n    var fiber = currentlyRenderingFiber$1,\n      hook = mountWorkInProgressHook();\n    if (isHydrating) {\n      if (void 0 === getServerSnapshot)\n        throw Error(formatProdErrorMessage(407));\n      getServerSnapshot = getServerSnapshot();\n    } else {\n      getServerSnapshot = getSnapshot();\n      if (null === workInProgressRoot) throw Error(formatProdErrorMessage(349));\n      0 !== (workInProgressRootRenderLanes & 60) ||\n        pushStoreConsistencyCheck(fiber, getSnapshot, getServerSnapshot);\n    }\n    hook.memoizedState = getServerSnapshot;\n    var inst = { value: getServerSnapshot, getSnapshot: getSnapshot };\n    hook.queue = inst;\n    mountEffect(subscribeToStore.bind(null, fiber, inst, subscribe), [\n      subscribe\n    ]);\n    fiber.flags |= 2048;\n    pushEffect(\n      9,\n      updateStoreInstance.bind(\n        null,\n        fiber,\n        inst,\n        getServerSnapshot,\n        getSnapshot\n      ),\n      { destroy: void 0 },\n      null\n    );\n    return getServerSnapshot;\n  },\n  useId: function () {\n    var hook = mountWorkInProgressHook(),\n      identifierPrefix = workInProgressRoot.identifierPrefix;\n    if (isHydrating) {\n      var JSCompiler_inline_result = treeContextOverflow;\n      var idWithLeadingBit = treeContextId;\n      JSCompiler_inline_result =\n        (\n          idWithLeadingBit & ~(1 << (32 - clz32(idWithLeadingBit) - 1))\n        ).toString(32) + JSCompiler_inline_result;\n      identifierPrefix =\n        \":\" + identifierPrefix + \"R\" + JSCompiler_inline_result;\n      JSCompiler_inline_result = localIdCounter++;\n      0 < JSCompiler_inline_result &&\n        (identifierPrefix += \"H\" + JSCompiler_inline_result.toString(32));\n      identifierPrefix += \":\";\n    } else\n      (JSCompiler_inline_result = globalClientIdCounter++),\n        (identifierPrefix =\n          \":\" +\n          identifierPrefix +\n          \"r\" +\n          JSCompiler_inline_result.toString(32) +\n          \":\");\n    return (hook.memoizedState = identifierPrefix);\n  },\n  useCacheRefresh: function () {\n    return (mountWorkInProgressHook().memoizedState = refreshCache.bind(\n      null,\n      currentlyRenderingFiber$1\n    ));\n  }\n};\nHooksDispatcherOnMount.useMemoCache = useMemoCache;\nHooksDispatcherOnMount.useHostTransitionStatus = useHostTransitionStatus;\nHooksDispatcherOnMount.useFormState = mountActionState;\nHooksDispatcherOnMount.useActionState = mountActionState;\nHooksDispatcherOnMount.useOptimistic = function (passthrough) {\n  var hook = mountWorkInProgressHook();\n  hook.memoizedState = hook.baseState = passthrough;\n  var queue = {\n    pending: null,\n    lanes: 0,\n    dispatch: null,\n    lastRenderedReducer: null,\n    lastRenderedState: null\n  };\n  hook.queue = queue;\n  hook = dispatchOptimisticSetState.bind(\n    null,\n    currentlyRenderingFiber$1,\n    !0,\n    queue\n  );\n  queue.dispatch = hook;\n  return [passthrough, hook];\n};\nvar HooksDispatcherOnUpdate = {\n  readContext: readContext,\n  use: use,\n  useCallback: updateCallback,\n  useContext: readContext,\n  useEffect: updateEffect,\n  useImperativeHandle: updateImperativeHandle,\n  useInsertionEffect: updateInsertionEffect,\n  useLayoutEffect: updateLayoutEffect,\n  useMemo: updateMemo,\n  useReducer: updateReducer,\n  useRef: updateRef,\n  useState: function () {\n    return updateReducer(basicStateReducer);\n  },\n  useDebugValue: mountDebugValue,\n  useDeferredValue: function (value, initialValue) {\n    var hook = updateWorkInProgressHook();\n    return updateDeferredValueImpl(\n      hook,\n      currentHook.memoizedState,\n      value,\n      initialValue\n    );\n  },\n  useTransition: function () {\n    var booleanOrThenable = updateReducer(basicStateReducer)[0],\n      start = updateWorkInProgressHook().memoizedState;\n    return [\n      \"boolean\" === typeof booleanOrThenable\n        ? booleanOrThenable\n        : useThenable(booleanOrThenable),\n      start\n    ];\n  },\n  useSyncExternalStore: updateSyncExternalStore,\n  useId: updateId\n};\nHooksDispatcherOnUpdate.useCacheRefresh = updateRefresh;\nHooksDispatcherOnUpdate.useMemoCache = useMemoCache;\nHooksDispatcherOnUpdate.useHostTransitionStatus = useHostTransitionStatus;\nHooksDispatcherOnUpdate.useFormState = updateActionState;\nHooksDispatcherOnUpdate.useActionState = updateActionState;\nHooksDispatcherOnUpdate.useOptimistic = function (passthrough, reducer) {\n  var hook = updateWorkInProgressHook();\n  return updateOptimisticImpl(hook, currentHook, passthrough, reducer);\n};\nvar HooksDispatcherOnRerender = {\n  readContext: readContext,\n  use: use,\n  useCallback: updateCallback,\n  useContext: readContext,\n  useEffect: updateEffect,\n  useImperativeHandle: updateImperativeHandle,\n  useInsertionEffect: updateInsertionEffect,\n  useLayoutEffect: updateLayoutEffect,\n  useMemo: updateMemo,\n  useReducer: rerenderReducer,\n  useRef: updateRef,\n  useState: function () {\n    return rerenderReducer(basicStateReducer);\n  },\n  useDebugValue: mountDebugValue,\n  useDeferredValue: function (value, initialValue) {\n    var hook = updateWorkInProgressHook();\n    return null === currentHook\n      ? mountDeferredValueImpl(hook, value, initialValue)\n      : updateDeferredValueImpl(\n          hook,\n          currentHook.memoizedState,\n          value,\n          initialValue\n        );\n  },\n  useTransition: function () {\n    var booleanOrThenable = rerenderReducer(basicStateReducer)[0],\n      start = updateWorkInProgressHook().memoizedState;\n    return [\n      \"boolean\" === typeof booleanOrThenable\n        ? booleanOrThenable\n        : useThenable(booleanOrThenable),\n      start\n    ];\n  },\n  useSyncExternalStore: updateSyncExternalStore,\n  useId: updateId\n};\nHooksDispatcherOnRerender.useCacheRefresh = updateRefresh;\nHooksDispatcherOnRerender.useMemoCache = useMemoCache;\nHooksDispatcherOnRerender.useHostTransitionStatus = useHostTransitionStatus;\nHooksDispatcherOnRerender.useFormState = rerenderActionState;\nHooksDispatcherOnRerender.useActionState = rerenderActionState;\nHooksDispatcherOnRerender.useOptimistic = function (passthrough, reducer) {\n  var hook = updateWorkInProgressHook();\n  if (null !== currentHook)\n    return updateOptimisticImpl(hook, currentHook, passthrough, reducer);\n  hook.baseState = passthrough;\n  return [passthrough, hook.queue.dispatch];\n};\nfunction applyDerivedStateFromProps(\n  workInProgress,\n  ctor,\n  getDerivedStateFromProps,\n  nextProps\n) {\n  ctor = workInProgress.memoizedState;\n  getDerivedStateFromProps = getDerivedStateFromProps(nextProps, ctor);\n  getDerivedStateFromProps =\n    null === getDerivedStateFromProps || void 0 === getDerivedStateFromProps\n      ? ctor\n      : assign({}, ctor, getDerivedStateFromProps);\n  workInProgress.memoizedState = getDerivedStateFromProps;\n  0 === workInProgress.lanes &&\n    (workInProgress.updateQueue.baseState = getDerivedStateFromProps);\n}\nvar classComponentUpdater = {\n  isMounted: function (component) {\n    return (component = component._reactInternals)\n      ? getNearestMountedFiber(component) === component\n      : !1;\n  },\n  enqueueSetState: function (inst, payload, callback) {\n    inst = inst._reactInternals;\n    var lane = requestUpdateLane(),\n      update = createUpdate(lane);\n    update.payload = payload;\n    void 0 !== callback && null !== callback && (update.callback = callback);\n    payload = enqueueUpdate(inst, update, lane);\n    null !== payload &&\n      (scheduleUpdateOnFiber(payload, inst, lane),\n      entangleTransitions(payload, inst, lane));\n  },\n  enqueueReplaceState: function (inst, payload, callback) {\n    inst = inst._reactInternals;\n    var lane = requestUpdateLane(),\n      update = createUpdate(lane);\n    update.tag = 1;\n    update.payload = payload;\n    void 0 !== callback && null !== callback && (update.callback = callback);\n    payload = enqueueUpdate(inst, update, lane);\n    null !== payload &&\n      (scheduleUpdateOnFiber(payload, inst, lane),\n      entangleTransitions(payload, inst, lane));\n  },\n  enqueueForceUpdate: function (inst, callback) {\n    inst = inst._reactInternals;\n    var lane = requestUpdateLane(),\n      update = createUpdate(lane);\n    update.tag = 2;\n    void 0 !== callback && null !== callback && (update.callback = callback);\n    callback = enqueueUpdate(inst, update, lane);\n    null !== callback &&\n      (scheduleUpdateOnFiber(callback, inst, lane),\n      entangleTransitions(callback, inst, lane));\n  }\n};\nfunction checkShouldComponentUpdate(\n  workInProgress,\n  ctor,\n  oldProps,\n  newProps,\n  oldState,\n  newState,\n  nextContext\n) {\n  workInProgress = workInProgress.stateNode;\n  return \"function\" === typeof workInProgress.shouldComponentUpdate\n    ? workInProgress.shouldComponentUpdate(newProps, newState, nextContext)\n    : ctor.prototype && ctor.prototype.isPureReactComponent\n      ? !shallowEqual(oldProps, newProps) || !shallowEqual(oldState, newState)\n      : !0;\n}\nfunction callComponentWillReceiveProps(\n  workInProgress,\n  instance,\n  newProps,\n  nextContext\n) {\n  workInProgress = instance.state;\n  \"function\" === typeof instance.componentWillReceiveProps &&\n    instance.componentWillReceiveProps(newProps, nextContext);\n  \"function\" === typeof instance.UNSAFE_componentWillReceiveProps &&\n    instance.UNSAFE_componentWillReceiveProps(newProps, nextContext);\n  instance.state !== workInProgress &&\n    classComponentUpdater.enqueueReplaceState(instance, instance.state, null);\n}\nfunction resolveClassComponentProps(Component, baseProps) {\n  var newProps = baseProps;\n  if (\"ref\" in baseProps) {\n    newProps = {};\n    for (var propName in baseProps)\n      \"ref\" !== propName && (newProps[propName] = baseProps[propName]);\n  }\n  if ((Component = Component.defaultProps)) {\n    newProps === baseProps && (newProps = assign({}, newProps));\n    for (var propName$67 in Component)\n      void 0 === newProps[propName$67] &&\n        (newProps[propName$67] = Component[propName$67]);\n  }\n  return newProps;\n}\nvar reportGlobalError =\n  \"function\" === typeof reportError\n    ? reportError\n    : function (error) {\n        if (\n          \"object\" === typeof window &&\n          \"function\" === typeof window.ErrorEvent\n        ) {\n          var event = new window.ErrorEvent(\"error\", {\n            bubbles: !0,\n            cancelable: !0,\n            message:\n              \"object\" === typeof error &&\n              null !== error &&\n              \"string\" === typeof error.message\n                ? String(error.message)\n                : String(error),\n            error: error\n          });\n          if (!window.dispatchEvent(event)) return;\n        } else if (\n          \"object\" === typeof process &&\n          \"function\" === typeof process.emit\n        ) {\n          process.emit(\"uncaughtException\", error);\n          return;\n        }\n        console.error(error);\n      };\nfunction defaultOnUncaughtError(error) {\n  reportGlobalError(error);\n}\nfunction defaultOnCaughtError(error) {\n  console.error(error);\n}\nfunction defaultOnRecoverableError(error) {\n  reportGlobalError(error);\n}\nfunction logUncaughtError(root, errorInfo) {\n  try {\n    var onUncaughtError = root.onUncaughtError;\n    onUncaughtError(errorInfo.value, { componentStack: errorInfo.stack });\n  } catch (e$68) {\n    setTimeout(function () {\n      throw e$68;\n    });\n  }\n}\nfunction logCaughtError(root, boundary, errorInfo) {\n  try {\n    var onCaughtError = root.onCaughtError;\n    onCaughtError(errorInfo.value, {\n      componentStack: errorInfo.stack,\n      errorBoundary: 1 === boundary.tag ? boundary.stateNode : null\n    });\n  } catch (e$69) {\n    setTimeout(function () {\n      throw e$69;\n    });\n  }\n}\nfunction createRootErrorUpdate(root, errorInfo, lane) {\n  lane = createUpdate(lane);\n  lane.tag = 3;\n  lane.payload = { element: null };\n  lane.callback = function () {\n    logUncaughtError(root, errorInfo);\n  };\n  return lane;\n}\nfunction createClassErrorUpdate(lane) {\n  lane = createUpdate(lane);\n  lane.tag = 3;\n  return lane;\n}\nfunction initializeClassErrorUpdate(update, root, fiber, errorInfo) {\n  var getDerivedStateFromError = fiber.type.getDerivedStateFromError;\n  if (\"function\" === typeof getDerivedStateFromError) {\n    var error = errorInfo.value;\n    update.payload = function () {\n      return getDerivedStateFromError(error);\n    };\n    update.callback = function () {\n      logCaughtError(root, fiber, errorInfo);\n    };\n  }\n  var inst = fiber.stateNode;\n  null !== inst &&\n    \"function\" === typeof inst.componentDidCatch &&\n    (update.callback = function () {\n      logCaughtError(root, fiber, errorInfo);\n      \"function\" !== typeof getDerivedStateFromError &&\n        (null === legacyErrorBoundariesThatAlreadyFailed\n          ? (legacyErrorBoundariesThatAlreadyFailed = new Set([this]))\n          : legacyErrorBoundariesThatAlreadyFailed.add(this));\n      var stack = errorInfo.stack;\n      this.componentDidCatch(errorInfo.value, {\n        componentStack: null !== stack ? stack : \"\"\n      });\n    });\n}\nfunction throwException(\n  root,\n  returnFiber,\n  sourceFiber,\n  value,\n  rootRenderLanes\n) {\n  sourceFiber.flags |= 32768;\n  if (\n    null !== value &&\n    \"object\" === typeof value &&\n    \"function\" === typeof value.then\n  ) {\n    returnFiber = sourceFiber.alternate;\n    null !== returnFiber &&\n      propagateParentContextChanges(\n        returnFiber,\n        sourceFiber,\n        rootRenderLanes,\n        !0\n      );\n    sourceFiber = suspenseHandlerStackCursor.current;\n    if (null !== sourceFiber) {\n      switch (sourceFiber.tag) {\n        case 13:\n          return (\n            null === shellBoundary\n              ? renderDidSuspendDelayIfPossible()\n              : null === sourceFiber.alternate &&\n                0 === workInProgressRootExitStatus &&\n                (workInProgressRootExitStatus = 3),\n            (sourceFiber.flags &= -257),\n            (sourceFiber.flags |= 65536),\n            (sourceFiber.lanes = rootRenderLanes),\n            value === noopSuspenseyCommitThenable\n              ? (sourceFiber.flags |= 16384)\n              : ((returnFiber = sourceFiber.updateQueue),\n                null === returnFiber\n                  ? (sourceFiber.updateQueue = new Set([value]))\n                  : returnFiber.add(value),\n                attachPingListener(root, value, rootRenderLanes)),\n            !1\n          );\n        case 22:\n          return (\n            (sourceFiber.flags |= 65536),\n            value === noopSuspenseyCommitThenable\n              ? (sourceFiber.flags |= 16384)\n              : ((returnFiber = sourceFiber.updateQueue),\n                null === returnFiber\n                  ? ((returnFiber = {\n                      transitions: null,\n                      markerInstances: null,\n                      retryQueue: new Set([value])\n                    }),\n                    (sourceFiber.updateQueue = returnFiber))\n                  : ((sourceFiber = returnFiber.retryQueue),\n                    null === sourceFiber\n                      ? (returnFiber.retryQueue = new Set([value]))\n                      : sourceFiber.add(value)),\n                attachPingListener(root, value, rootRenderLanes)),\n            !1\n          );\n      }\n      throw Error(formatProdErrorMessage(435, sourceFiber.tag));\n    }\n    attachPingListener(root, value, rootRenderLanes);\n    renderDidSuspendDelayIfPossible();\n    return !1;\n  }\n  if (isHydrating)\n    return (\n      (returnFiber = suspenseHandlerStackCursor.current),\n      null !== returnFiber\n        ? (0 === (returnFiber.flags & 65536) && (returnFiber.flags |= 256),\n          (returnFiber.flags |= 65536),\n          (returnFiber.lanes = rootRenderLanes),\n          value !== HydrationMismatchException &&\n            ((root = Error(formatProdErrorMessage(422), { cause: value })),\n            queueHydrationError(createCapturedValueAtFiber(root, sourceFiber))))\n        : (value !== HydrationMismatchException &&\n            ((returnFiber = Error(formatProdErrorMessage(423), {\n              cause: value\n            })),\n            queueHydrationError(\n              createCapturedValueAtFiber(returnFiber, sourceFiber)\n            )),\n          (root = root.current.alternate),\n          (root.flags |= 65536),\n          (rootRenderLanes &= -rootRenderLanes),\n          (root.lanes |= rootRenderLanes),\n          (value = createCapturedValueAtFiber(value, sourceFiber)),\n          (rootRenderLanes = createRootErrorUpdate(\n            root.stateNode,\n            value,\n            rootRenderLanes\n          )),\n          enqueueCapturedUpdate(root, rootRenderLanes),\n          4 !== workInProgressRootExitStatus &&\n            (workInProgressRootExitStatus = 2)),\n      !1\n    );\n  var wrapperError = Error(formatProdErrorMessage(520), { cause: value });\n  wrapperError = createCapturedValueAtFiber(wrapperError, sourceFiber);\n  null === workInProgressRootConcurrentErrors\n    ? (workInProgressRootConcurrentErrors = [wrapperError])\n    : workInProgressRootConcurrentErrors.push(wrapperError);\n  4 !== workInProgressRootExitStatus && (workInProgressRootExitStatus = 2);\n  if (null === returnFiber) return !0;\n  value = createCapturedValueAtFiber(value, sourceFiber);\n  sourceFiber = returnFiber;\n  do {\n    switch (sourceFiber.tag) {\n      case 3:\n        return (\n          (sourceFiber.flags |= 65536),\n          (root = rootRenderLanes & -rootRenderLanes),\n          (sourceFiber.lanes |= root),\n          (root = createRootErrorUpdate(sourceFiber.stateNode, value, root)),\n          enqueueCapturedUpdate(sourceFiber, root),\n          !1\n        );\n      case 1:\n        if (\n          ((returnFiber = sourceFiber.type),\n          (wrapperError = sourceFiber.stateNode),\n          0 === (sourceFiber.flags & 128) &&\n            (\"function\" === typeof returnFiber.getDerivedStateFromError ||\n              (null !== wrapperError &&\n                \"function\" === typeof wrapperError.componentDidCatch &&\n                (null === legacyErrorBoundariesThatAlreadyFailed ||\n                  !legacyErrorBoundariesThatAlreadyFailed.has(wrapperError)))))\n        )\n          return (\n            (sourceFiber.flags |= 65536),\n            (rootRenderLanes &= -rootRenderLanes),\n            (sourceFiber.lanes |= rootRenderLanes),\n            (rootRenderLanes = createClassErrorUpdate(rootRenderLanes)),\n            initializeClassErrorUpdate(\n              rootRenderLanes,\n              root,\n              sourceFiber,\n              value\n            ),\n            enqueueCapturedUpdate(sourceFiber, rootRenderLanes),\n            !1\n          );\n    }\n    sourceFiber = sourceFiber.return;\n  } while (null !== sourceFiber);\n  return !1;\n}\nvar SelectiveHydrationException = Error(formatProdErrorMessage(461)),\n  didReceiveUpdate = !1;\nfunction reconcileChildren(current, workInProgress, nextChildren, renderLanes) {\n  workInProgress.child =\n    null === current\n      ? mountChildFibers(workInProgress, null, nextChildren, renderLanes)\n      : reconcileChildFibers(\n          workInProgress,\n          current.child,\n          nextChildren,\n          renderLanes\n        );\n}\nfunction updateForwardRef(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  Component = Component.render;\n  var ref = workInProgress.ref;\n  if (\"ref\" in nextProps) {\n    var propsWithoutRef = {};\n    for (var key in nextProps)\n      \"ref\" !== key && (propsWithoutRef[key] = nextProps[key]);\n  } else propsWithoutRef = nextProps;\n  prepareToReadContext(workInProgress);\n  nextProps = renderWithHooks(\n    current,\n    workInProgress,\n    Component,\n    propsWithoutRef,\n    ref,\n    renderLanes\n  );\n  key = checkDidRenderIdHook();\n  if (null !== current && !didReceiveUpdate)\n    return (\n      bailoutHooks(current, workInProgress, renderLanes),\n      bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n    );\n  isHydrating && key && pushMaterializedTreeId(workInProgress);\n  workInProgress.flags |= 1;\n  reconcileChildren(current, workInProgress, nextProps, renderLanes);\n  return workInProgress.child;\n}\nfunction updateMemoComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  if (null === current) {\n    var type = Component.type;\n    if (\n      \"function\" === typeof type &&\n      !shouldConstruct(type) &&\n      void 0 === type.defaultProps &&\n      null === Component.compare\n    )\n      return (\n        (workInProgress.tag = 15),\n        (workInProgress.type = type),\n        updateSimpleMemoComponent(\n          current,\n          workInProgress,\n          type,\n          nextProps,\n          renderLanes\n        )\n      );\n    current = createFiberFromTypeAndProps(\n      Component.type,\n      null,\n      nextProps,\n      workInProgress,\n      workInProgress.mode,\n      renderLanes\n    );\n    current.ref = workInProgress.ref;\n    current.return = workInProgress;\n    return (workInProgress.child = current);\n  }\n  type = current.child;\n  if (!checkScheduledUpdateOrContext(current, renderLanes)) {\n    var prevProps = type.memoizedProps;\n    Component = Component.compare;\n    Component = null !== Component ? Component : shallowEqual;\n    if (Component(prevProps, nextProps) && current.ref === workInProgress.ref)\n      return bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes);\n  }\n  workInProgress.flags |= 1;\n  current = createWorkInProgress(type, nextProps);\n  current.ref = workInProgress.ref;\n  current.return = workInProgress;\n  return (workInProgress.child = current);\n}\nfunction updateSimpleMemoComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  if (null !== current) {\n    var prevProps = current.memoizedProps;\n    if (\n      shallowEqual(prevProps, nextProps) &&\n      current.ref === workInProgress.ref\n    )\n      if (\n        ((didReceiveUpdate = !1),\n        (workInProgress.pendingProps = nextProps = prevProps),\n        checkScheduledUpdateOrContext(current, renderLanes))\n      )\n        0 !== (current.flags & 131072) && (didReceiveUpdate = !0);\n      else\n        return (\n          (workInProgress.lanes = current.lanes),\n          bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n        );\n  }\n  return updateFunctionComponent(\n    current,\n    workInProgress,\n    Component,\n    nextProps,\n    renderLanes\n  );\n}\nfunction updateOffscreenComponent(current, workInProgress, renderLanes) {\n  var nextProps = workInProgress.pendingProps,\n    nextChildren = nextProps.children,\n    nextIsDetached = 0 !== (workInProgress.stateNode._pendingVisibility & 2),\n    prevState = null !== current ? current.memoizedState : null;\n  markRef(current, workInProgress);\n  if (\"hidden\" === nextProps.mode || nextIsDetached) {\n    if (0 !== (workInProgress.flags & 128)) {\n      nextProps =\n        null !== prevState ? prevState.baseLanes | renderLanes : renderLanes;\n      if (null !== current) {\n        nextChildren = workInProgress.child = current.child;\n        for (nextIsDetached = 0; null !== nextChildren; )\n          (nextIsDetached =\n            nextIsDetached | nextChildren.lanes | nextChildren.childLanes),\n            (nextChildren = nextChildren.sibling);\n        workInProgress.childLanes = nextIsDetached & ~nextProps;\n      } else (workInProgress.childLanes = 0), (workInProgress.child = null);\n      return deferHiddenOffscreenComponent(\n        current,\n        workInProgress,\n        nextProps,\n        renderLanes\n      );\n    }\n    if (0 !== (renderLanes & 536870912))\n      (workInProgress.memoizedState = { baseLanes: 0, cachePool: null }),\n        null !== current &&\n          pushTransition(\n            workInProgress,\n            null !== prevState ? prevState.cachePool : null\n          ),\n        null !== prevState\n          ? pushHiddenContext(workInProgress, prevState)\n          : reuseHiddenContextOnStack(),\n        pushOffscreenSuspenseHandler(workInProgress);\n    else\n      return (\n        (workInProgress.lanes = workInProgress.childLanes = 536870912),\n        deferHiddenOffscreenComponent(\n          current,\n          workInProgress,\n          null !== prevState ? prevState.baseLanes | renderLanes : renderLanes,\n          renderLanes\n        )\n      );\n  } else\n    null !== prevState\n      ? (pushTransition(workInProgress, prevState.cachePool),\n        pushHiddenContext(workInProgress, prevState),\n        reuseSuspenseHandlerOnStack(workInProgress),\n        (workInProgress.memoizedState = null))\n      : (null !== current && pushTransition(workInProgress, null),\n        reuseHiddenContextOnStack(),\n        reuseSuspenseHandlerOnStack(workInProgress));\n  reconcileChildren(current, workInProgress, nextChildren, renderLanes);\n  return workInProgress.child;\n}\nfunction deferHiddenOffscreenComponent(\n  current,\n  workInProgress,\n  nextBaseLanes,\n  renderLanes\n) {\n  var JSCompiler_inline_result = peekCacheFromPool();\n  JSCompiler_inline_result =\n    null === JSCompiler_inline_result\n      ? null\n      : { parent: CacheContext._currentValue, pool: JSCompiler_inline_result };\n  workInProgress.memoizedState = {\n    baseLanes: nextBaseLanes,\n    cachePool: JSCompiler_inline_result\n  };\n  null !== current && pushTransition(workInProgress, null);\n  reuseHiddenContextOnStack();\n  pushOffscreenSuspenseHandler(workInProgress);\n  null !== current &&\n    propagateParentContextChanges(current, workInProgress, renderLanes, !0);\n  return null;\n}\nfunction markRef(current, workInProgress) {\n  var ref = workInProgress.ref;\n  if (null === ref)\n    null !== current &&\n      null !== current.ref &&\n      (workInProgress.flags |= 2097664);\n  else {\n    if (\"function\" !== typeof ref && \"object\" !== typeof ref)\n      throw Error(formatProdErrorMessage(284));\n    if (null === current || current.ref !== ref)\n      workInProgress.flags |= 2097664;\n  }\n}\nfunction updateFunctionComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  prepareToReadContext(workInProgress);\n  Component = renderWithHooks(\n    current,\n    workInProgress,\n    Component,\n    nextProps,\n    void 0,\n    renderLanes\n  );\n  nextProps = checkDidRenderIdHook();\n  if (null !== current && !didReceiveUpdate)\n    return (\n      bailoutHooks(current, workInProgress, renderLanes),\n      bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n    );\n  isHydrating && nextProps && pushMaterializedTreeId(workInProgress);\n  workInProgress.flags |= 1;\n  reconcileChildren(current, workInProgress, Component, renderLanes);\n  return workInProgress.child;\n}\nfunction replayFunctionComponent(\n  current,\n  workInProgress,\n  nextProps,\n  Component,\n  secondArg,\n  renderLanes\n) {\n  prepareToReadContext(workInProgress);\n  workInProgress.updateQueue = null;\n  nextProps = renderWithHooksAgain(\n    workInProgress,\n    Component,\n    nextProps,\n    secondArg\n  );\n  finishRenderingHooks(current);\n  Component = checkDidRenderIdHook();\n  if (null !== current && !didReceiveUpdate)\n    return (\n      bailoutHooks(current, workInProgress, renderLanes),\n      bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n    );\n  isHydrating && Component && pushMaterializedTreeId(workInProgress);\n  workInProgress.flags |= 1;\n  reconcileChildren(current, workInProgress, nextProps, renderLanes);\n  return workInProgress.child;\n}\nfunction updateClassComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  prepareToReadContext(workInProgress);\n  if (null === workInProgress.stateNode) {\n    var context = emptyContextObject,\n      contextType = Component.contextType;\n    \"object\" === typeof contextType &&\n      null !== contextType &&\n      (context = readContext(contextType));\n    context = new Component(nextProps, context);\n    workInProgress.memoizedState =\n      null !== context.state && void 0 !== context.state ? context.state : null;\n    context.updater = classComponentUpdater;\n    workInProgress.stateNode = context;\n    context._reactInternals = workInProgress;\n    context = workInProgress.stateNode;\n    context.props = nextProps;\n    context.state = workInProgress.memoizedState;\n    context.refs = {};\n    initializeUpdateQueue(workInProgress);\n    contextType = Component.contextType;\n    context.context =\n      \"object\" === typeof contextType && null !== contextType\n        ? readContext(contextType)\n        : emptyContextObject;\n    context.state = workInProgress.memoizedState;\n    contextType = Component.getDerivedStateFromProps;\n    \"function\" === typeof contextType &&\n      (applyDerivedStateFromProps(\n        workInProgress,\n        Component,\n        contextType,\n        nextProps\n      ),\n      (context.state = workInProgress.memoizedState));\n    \"function\" === typeof Component.getDerivedStateFromProps ||\n      \"function\" === typeof context.getSnapshotBeforeUpdate ||\n      (\"function\" !== typeof context.UNSAFE_componentWillMount &&\n        \"function\" !== typeof context.componentWillMount) ||\n      ((contextType = context.state),\n      \"function\" === typeof context.componentWillMount &&\n        context.componentWillMount(),\n      \"function\" === typeof context.UNSAFE_componentWillMount &&\n        context.UNSAFE_componentWillMount(),\n      contextType !== context.state &&\n        classComponentUpdater.enqueueReplaceState(context, context.state, null),\n      processUpdateQueue(workInProgress, nextProps, context, renderLanes),\n      suspendIfUpdateReadFromEntangledAsyncAction(),\n      (context.state = workInProgress.memoizedState));\n    \"function\" === typeof context.componentDidMount &&\n      (workInProgress.flags |= 4194308);\n    nextProps = !0;\n  } else if (null === current) {\n    context = workInProgress.stateNode;\n    var unresolvedOldProps = workInProgress.memoizedProps,\n      oldProps = resolveClassComponentProps(Component, unresolvedOldProps);\n    context.props = oldProps;\n    var oldContext = context.context,\n      contextType$jscomp$0 = Component.contextType;\n    contextType = emptyContextObject;\n    \"object\" === typeof contextType$jscomp$0 &&\n      null !== contextType$jscomp$0 &&\n      (contextType = readContext(contextType$jscomp$0));\n    var getDerivedStateFromProps = Component.getDerivedStateFromProps;\n    contextType$jscomp$0 =\n      \"function\" === typeof getDerivedStateFromProps ||\n      \"function\" === typeof context.getSnapshotBeforeUpdate;\n    unresolvedOldProps = workInProgress.pendingProps !== unresolvedOldProps;\n    contextType$jscomp$0 ||\n      (\"function\" !== typeof context.UNSAFE_componentWillReceiveProps &&\n        \"function\" !== typeof context.componentWillReceiveProps) ||\n      ((unresolvedOldProps || oldContext !== contextType) &&\n        callComponentWillReceiveProps(\n          workInProgress,\n          context,\n          nextProps,\n          contextType\n        ));\n    hasForceUpdate = !1;\n    var oldState = workInProgress.memoizedState;\n    context.state = oldState;\n    processUpdateQueue(workInProgress, nextProps, context, renderLanes);\n    suspendIfUpdateReadFromEntangledAsyncAction();\n    oldContext = workInProgress.memoizedState;\n    unresolvedOldProps || oldState !== oldContext || hasForceUpdate\n      ? (\"function\" === typeof getDerivedStateFromProps &&\n          (applyDerivedStateFromProps(\n            workInProgress,\n            Component,\n            getDerivedStateFromProps,\n            nextProps\n          ),\n          (oldContext = workInProgress.memoizedState)),\n        (oldProps =\n          hasForceUpdate ||\n          checkShouldComponentUpdate(\n            workInProgress,\n            Component,\n            oldProps,\n            nextProps,\n            oldState,\n            oldContext,\n            contextType\n          ))\n          ? (contextType$jscomp$0 ||\n              (\"function\" !== typeof context.UNSAFE_componentWillMount &&\n                \"function\" !== typeof context.componentWillMount) ||\n              (\"function\" === typeof context.componentWillMount &&\n                context.componentWillMount(),\n              \"function\" === typeof context.UNSAFE_componentWillMount &&\n                context.UNSAFE_componentWillMount()),\n            \"function\" === typeof context.componentDidMount &&\n              (workInProgress.flags |= 4194308))\n          : (\"function\" === typeof context.componentDidMount &&\n              (workInProgress.flags |= 4194308),\n            (workInProgress.memoizedProps = nextProps),\n            (workInProgress.memoizedState = oldContext)),\n        (context.props = nextProps),\n        (context.state = oldContext),\n        (context.context = contextType),\n        (nextProps = oldProps))\n      : (\"function\" === typeof context.componentDidMount &&\n          (workInProgress.flags |= 4194308),\n        (nextProps = !1));\n  } else {\n    context = workInProgress.stateNode;\n    cloneUpdateQueue(current, workInProgress);\n    contextType = workInProgress.memoizedProps;\n    contextType$jscomp$0 = resolveClassComponentProps(Component, contextType);\n    context.props = contextType$jscomp$0;\n    getDerivedStateFromProps = workInProgress.pendingProps;\n    oldState = context.context;\n    oldContext = Component.contextType;\n    oldProps = emptyContextObject;\n    \"object\" === typeof oldContext &&\n      null !== oldContext &&\n      (oldProps = readContext(oldContext));\n    unresolvedOldProps = Component.getDerivedStateFromProps;\n    (oldContext =\n      \"function\" === typeof unresolvedOldProps ||\n      \"function\" === typeof context.getSnapshotBeforeUpdate) ||\n      (\"function\" !== typeof context.UNSAFE_componentWillReceiveProps &&\n        \"function\" !== typeof context.componentWillReceiveProps) ||\n      ((contextType !== getDerivedStateFromProps || oldState !== oldProps) &&\n        callComponentWillReceiveProps(\n          workInProgress,\n          context,\n          nextProps,\n          oldProps\n        ));\n    hasForceUpdate = !1;\n    oldState = workInProgress.memoizedState;\n    context.state = oldState;\n    processUpdateQueue(workInProgress, nextProps, context, renderLanes);\n    suspendIfUpdateReadFromEntangledAsyncAction();\n    var newState = workInProgress.memoizedState;\n    contextType !== getDerivedStateFromProps ||\n    oldState !== newState ||\n    hasForceUpdate ||\n    (null !== current &&\n      null !== current.dependencies &&\n      checkIfContextChanged(current.dependencies))\n      ? (\"function\" === typeof unresolvedOldProps &&\n          (applyDerivedStateFromProps(\n            workInProgress,\n            Component,\n            unresolvedOldProps,\n            nextProps\n          ),\n          (newState = workInProgress.memoizedState)),\n        (contextType$jscomp$0 =\n          hasForceUpdate ||\n          checkShouldComponentUpdate(\n            workInProgress,\n            Component,\n            contextType$jscomp$0,\n            nextProps,\n            oldState,\n            newState,\n            oldProps\n          ) ||\n          (null !== current &&\n            null !== current.dependencies &&\n            checkIfContextChanged(current.dependencies)))\n          ? (oldContext ||\n              (\"function\" !== typeof context.UNSAFE_componentWillUpdate &&\n                \"function\" !== typeof context.componentWillUpdate) ||\n              (\"function\" === typeof context.componentWillUpdate &&\n                context.componentWillUpdate(nextProps, newState, oldProps),\n              \"function\" === typeof context.UNSAFE_componentWillUpdate &&\n                context.UNSAFE_componentWillUpdate(\n                  nextProps,\n                  newState,\n                  oldProps\n                )),\n            \"function\" === typeof context.componentDidUpdate &&\n              (workInProgress.flags |= 4),\n            \"function\" === typeof context.getSnapshotBeforeUpdate &&\n              (workInProgress.flags |= 1024))\n          : (\"function\" !== typeof context.componentDidUpdate ||\n              (contextType === current.memoizedProps &&\n                oldState === current.memoizedState) ||\n              (workInProgress.flags |= 4),\n            \"function\" !== typeof context.getSnapshotBeforeUpdate ||\n              (contextType === current.memoizedProps &&\n                oldState === current.memoizedState) ||\n              (workInProgress.flags |= 1024),\n            (workInProgress.memoizedProps = nextProps),\n            (workInProgress.memoizedState = newState)),\n        (context.props = nextProps),\n        (context.state = newState),\n        (context.context = oldProps),\n        (nextProps = contextType$jscomp$0))\n      : (\"function\" !== typeof context.componentDidUpdate ||\n          (contextType === current.memoizedProps &&\n            oldState === current.memoizedState) ||\n          (workInProgress.flags |= 4),\n        \"function\" !== typeof context.getSnapshotBeforeUpdate ||\n          (contextType === current.memoizedProps &&\n            oldState === current.memoizedState) ||\n          (workInProgress.flags |= 1024),\n        (nextProps = !1));\n  }\n  context = nextProps;\n  markRef(current, workInProgress);\n  nextProps = 0 !== (workInProgress.flags & 128);\n  context || nextProps\n    ? ((context = workInProgress.stateNode),\n      (Component =\n        nextProps && \"function\" !== typeof Component.getDerivedStateFromError\n          ? null\n          : context.render()),\n      (workInProgress.flags |= 1),\n      null !== current && nextProps\n        ? ((workInProgress.child = reconcileChildFibers(\n            workInProgress,\n            current.child,\n            null,\n            renderLanes\n          )),\n          (workInProgress.child = reconcileChildFibers(\n            workInProgress,\n            null,\n            Component,\n            renderLanes\n          )))\n        : reconcileChildren(current, workInProgress, Component, renderLanes),\n      (workInProgress.memoizedState = context.state),\n      (current = workInProgress.child))\n    : (current = bailoutOnAlreadyFinishedWork(\n        current,\n        workInProgress,\n        renderLanes\n      ));\n  return current;\n}\nfunction mountHostRootWithoutHydrating(\n  current,\n  workInProgress,\n  nextChildren,\n  renderLanes\n) {\n  resetHydrationState();\n  workInProgress.flags |= 256;\n  reconcileChildren(current, workInProgress, nextChildren, renderLanes);\n  return workInProgress.child;\n}\nvar SUSPENDED_MARKER = { dehydrated: null, treeContext: null, retryLane: 0 };\nfunction mountSuspenseOffscreenState(renderLanes) {\n  return { baseLanes: renderLanes, cachePool: getSuspendedCache() };\n}\nfunction getRemainingWorkInPrimaryTree(\n  current,\n  primaryTreeDidDefer,\n  renderLanes\n) {\n  current = null !== current ? current.childLanes & ~renderLanes : 0;\n  primaryTreeDidDefer && (current |= workInProgressDeferredLane);\n  return current;\n}\nfunction updateSuspenseComponent(current, workInProgress, renderLanes) {\n  var nextProps = workInProgress.pendingProps,\n    showFallback = !1,\n    didSuspend = 0 !== (workInProgress.flags & 128),\n    JSCompiler_temp;\n  (JSCompiler_temp = didSuspend) ||\n    (JSCompiler_temp =\n      null !== current && null === current.memoizedState\n        ? !1\n        : 0 !== (suspenseStackCursor.current & 2));\n  JSCompiler_temp && ((showFallback = !0), (workInProgress.flags &= -129));\n  JSCompiler_temp = 0 !== (workInProgress.flags & 32);\n  workInProgress.flags &= -33;\n  if (null === current) {\n    if (isHydrating) {\n      showFallback\n        ? pushPrimaryTreeSuspenseHandler(workInProgress)\n        : reuseSuspenseHandlerOnStack(workInProgress);\n      if (isHydrating) {\n        var nextInstance = nextHydratableInstance,\n          JSCompiler_temp$jscomp$0;\n        if ((JSCompiler_temp$jscomp$0 = nextInstance)) {\n          c: {\n            JSCompiler_temp$jscomp$0 = nextInstance;\n            for (\n              nextInstance = rootOrSingletonContext;\n              8 !== JSCompiler_temp$jscomp$0.nodeType;\n\n            ) {\n              if (!nextInstance) {\n                nextInstance = null;\n                break c;\n              }\n              JSCompiler_temp$jscomp$0 = getNextHydratable(\n                JSCompiler_temp$jscomp$0.nextSibling\n              );\n              if (null === JSCompiler_temp$jscomp$0) {\n                nextInstance = null;\n                break c;\n              }\n            }\n            nextInstance = JSCompiler_temp$jscomp$0;\n          }\n          null !== nextInstance\n            ? ((workInProgress.memoizedState = {\n                dehydrated: nextInstance,\n                treeContext:\n                  null !== treeContextProvider\n                    ? { id: treeContextId, overflow: treeContextOverflow }\n                    : null,\n                retryLane: 536870912\n              }),\n              (JSCompiler_temp$jscomp$0 = createFiberImplClass(\n                18,\n                null,\n                null,\n                0\n              )),\n              (JSCompiler_temp$jscomp$0.stateNode = nextInstance),\n              (JSCompiler_temp$jscomp$0.return = workInProgress),\n              (workInProgress.child = JSCompiler_temp$jscomp$0),\n              (hydrationParentFiber = workInProgress),\n              (nextHydratableInstance = null),\n              (JSCompiler_temp$jscomp$0 = !0))\n            : (JSCompiler_temp$jscomp$0 = !1);\n        }\n        JSCompiler_temp$jscomp$0 || throwOnHydrationMismatch(workInProgress);\n      }\n      nextInstance = workInProgress.memoizedState;\n      if (\n        null !== nextInstance &&\n        ((nextInstance = nextInstance.dehydrated), null !== nextInstance)\n      )\n        return (\n          \"$!\" === nextInstance.data\n            ? (workInProgress.lanes = 16)\n            : (workInProgress.lanes = 536870912),\n          null\n        );\n      popSuspenseHandler(workInProgress);\n    }\n    nextInstance = nextProps.children;\n    nextProps = nextProps.fallback;\n    if (showFallback)\n      return (\n        reuseSuspenseHandlerOnStack(workInProgress),\n        (showFallback = workInProgress.mode),\n        (nextInstance = mountWorkInProgressOffscreenFiber(\n          { mode: \"hidden\", children: nextInstance },\n          showFallback\n        )),\n        (nextProps = createFiberFromFragment(\n          nextProps,\n          showFallback,\n          renderLanes,\n          null\n        )),\n        (nextInstance.return = workInProgress),\n        (nextProps.return = workInProgress),\n        (nextInstance.sibling = nextProps),\n        (workInProgress.child = nextInstance),\n        (showFallback = workInProgress.child),\n        (showFallback.memoizedState = mountSuspenseOffscreenState(renderLanes)),\n        (showFallback.childLanes = getRemainingWorkInPrimaryTree(\n          current,\n          JSCompiler_temp,\n          renderLanes\n        )),\n        (workInProgress.memoizedState = SUSPENDED_MARKER),\n        nextProps\n      );\n    pushPrimaryTreeSuspenseHandler(workInProgress);\n    return mountSuspensePrimaryChildren(workInProgress, nextInstance);\n  }\n  JSCompiler_temp$jscomp$0 = current.memoizedState;\n  if (\n    null !== JSCompiler_temp$jscomp$0 &&\n    ((nextInstance = JSCompiler_temp$jscomp$0.dehydrated),\n    null !== nextInstance)\n  ) {\n    if (didSuspend)\n      workInProgress.flags & 256\n        ? (pushPrimaryTreeSuspenseHandler(workInProgress),\n          (workInProgress.flags &= -257),\n          (workInProgress = retrySuspenseComponentWithoutHydrating(\n            current,\n            workInProgress,\n            renderLanes\n          )))\n        : null !== workInProgress.memoizedState\n          ? (reuseSuspenseHandlerOnStack(workInProgress),\n            (workInProgress.child = current.child),\n            (workInProgress.flags |= 128),\n            (workInProgress = null))\n          : (reuseSuspenseHandlerOnStack(workInProgress),\n            (showFallback = nextProps.fallback),\n            (nextInstance = workInProgress.mode),\n            (nextProps = mountWorkInProgressOffscreenFiber(\n              { mode: \"visible\", children: nextProps.children },\n              nextInstance\n            )),\n            (showFallback = createFiberFromFragment(\n              showFallback,\n              nextInstance,\n              renderLanes,\n              null\n            )),\n            (showFallback.flags |= 2),\n            (nextProps.return = workInProgress),\n            (showFallback.return = workInProgress),\n            (nextProps.sibling = showFallback),\n            (workInProgress.child = nextProps),\n            reconcileChildFibers(\n              workInProgress,\n              current.child,\n              null,\n              renderLanes\n            ),\n            (nextProps = workInProgress.child),\n            (nextProps.memoizedState =\n              mountSuspenseOffscreenState(renderLanes)),\n            (nextProps.childLanes = getRemainingWorkInPrimaryTree(\n              current,\n              JSCompiler_temp,\n              renderLanes\n            )),\n            (workInProgress.memoizedState = SUSPENDED_MARKER),\n            (workInProgress = showFallback));\n    else if (\n      (pushPrimaryTreeSuspenseHandler(workInProgress),\n      \"$!\" === nextInstance.data)\n    ) {\n      JSCompiler_temp =\n        nextInstance.nextSibling && nextInstance.nextSibling.dataset;\n      if (JSCompiler_temp) var digest = JSCompiler_temp.dgst;\n      JSCompiler_temp = digest;\n      nextProps = Error(formatProdErrorMessage(419));\n      nextProps.stack = \"\";\n      nextProps.digest = JSCompiler_temp;\n      queueHydrationError({ value: nextProps, source: null, stack: null });\n      workInProgress = retrySuspenseComponentWithoutHydrating(\n        current,\n        workInProgress,\n        renderLanes\n      );\n    } else if (\n      (didReceiveUpdate ||\n        propagateParentContextChanges(current, workInProgress, renderLanes, !1),\n      (JSCompiler_temp = 0 !== (renderLanes & current.childLanes)),\n      didReceiveUpdate || JSCompiler_temp)\n    ) {\n      JSCompiler_temp = workInProgressRoot;\n      if (null !== JSCompiler_temp) {\n        nextProps = renderLanes & -renderLanes;\n        if (0 !== (nextProps & 42)) nextProps = 1;\n        else\n          switch (nextProps) {\n            case 2:\n              nextProps = 1;\n              break;\n            case 8:\n              nextProps = 4;\n              break;\n            case 32:\n              nextProps = 16;\n              break;\n            case 128:\n            case 256:\n            case 512:\n            case 1024:\n            case 2048:\n            case 4096:\n            case 8192:\n            case 16384:\n            case 32768:\n            case 65536:\n            case 131072:\n            case 262144:\n            case 524288:\n            case 1048576:\n            case 2097152:\n            case 4194304:\n            case 8388608:\n            case 16777216:\n            case 33554432:\n              nextProps = 64;\n              break;\n            case 268435456:\n              nextProps = 134217728;\n              break;\n            default:\n              nextProps = 0;\n          }\n        nextProps =\n          0 !== (nextProps & (JSCompiler_temp.suspendedLanes | renderLanes))\n            ? 0\n            : nextProps;\n        if (0 !== nextProps && nextProps !== JSCompiler_temp$jscomp$0.retryLane)\n          throw (\n            ((JSCompiler_temp$jscomp$0.retryLane = nextProps),\n            enqueueConcurrentRenderForLane(current, nextProps),\n            scheduleUpdateOnFiber(JSCompiler_temp, current, nextProps),\n            SelectiveHydrationException)\n          );\n      }\n      \"$?\" === nextInstance.data || renderDidSuspendDelayIfPossible();\n      workInProgress = retrySuspenseComponentWithoutHydrating(\n        current,\n        workInProgress,\n        renderLanes\n      );\n    } else\n      \"$?\" === nextInstance.data\n        ? ((workInProgress.flags |= 128),\n          (workInProgress.child = current.child),\n          (workInProgress = retryDehydratedSuspenseBoundary.bind(\n            null,\n            current\n          )),\n          (nextInstance._reactRetry = workInProgress),\n          (workInProgress = null))\n        : ((current = JSCompiler_temp$jscomp$0.treeContext),\n          (nextHydratableInstance = getNextHydratable(\n            nextInstance.nextSibling\n          )),\n          (hydrationParentFiber = workInProgress),\n          (isHydrating = !0),\n          (hydrationErrors = null),\n          (rootOrSingletonContext = !1),\n          null !== current &&\n            ((idStack[idStackIndex++] = treeContextId),\n            (idStack[idStackIndex++] = treeContextOverflow),\n            (idStack[idStackIndex++] = treeContextProvider),\n            (treeContextId = current.id),\n            (treeContextOverflow = current.overflow),\n            (treeContextProvider = workInProgress)),\n          (workInProgress = mountSuspensePrimaryChildren(\n            workInProgress,\n            nextProps.children\n          )),\n          (workInProgress.flags |= 4096));\n    return workInProgress;\n  }\n  if (showFallback)\n    return (\n      reuseSuspenseHandlerOnStack(workInProgress),\n      (showFallback = nextProps.fallback),\n      (nextInstance = workInProgress.mode),\n      (JSCompiler_temp$jscomp$0 = current.child),\n      (digest = JSCompiler_temp$jscomp$0.sibling),\n      (nextProps = createWorkInProgress(JSCompiler_temp$jscomp$0, {\n        mode: \"hidden\",\n        children: nextProps.children\n      })),\n      (nextProps.subtreeFlags =\n        JSCompiler_temp$jscomp$0.subtreeFlags & 31457280),\n      null !== digest\n        ? (showFallback = createWorkInProgress(digest, showFallback))\n        : ((showFallback = createFiberFromFragment(\n            showFallback,\n            nextInstance,\n            renderLanes,\n            null\n          )),\n          (showFallback.flags |= 2)),\n      (showFallback.return = workInProgress),\n      (nextProps.return = workInProgress),\n      (nextProps.sibling = showFallback),\n      (workInProgress.child = nextProps),\n      (nextProps = showFallback),\n      (showFallback = workInProgress.child),\n      (nextInstance = current.child.memoizedState),\n      null === nextInstance\n        ? (nextInstance = mountSuspenseOffscreenState(renderLanes))\n        : ((JSCompiler_temp$jscomp$0 = nextInstance.cachePool),\n          null !== JSCompiler_temp$jscomp$0\n            ? ((digest = CacheContext._currentValue),\n              (JSCompiler_temp$jscomp$0 =\n                JSCompiler_temp$jscomp$0.parent !== digest\n                  ? { parent: digest, pool: digest }\n                  : JSCompiler_temp$jscomp$0))\n            : (JSCompiler_temp$jscomp$0 = getSuspendedCache()),\n          (nextInstance = {\n            baseLanes: nextInstance.baseLanes | renderLanes,\n            cachePool: JSCompiler_temp$jscomp$0\n          })),\n      (showFallback.memoizedState = nextInstance),\n      (showFallback.childLanes = getRemainingWorkInPrimaryTree(\n        current,\n        JSCompiler_temp,\n        renderLanes\n      )),\n      (workInProgress.memoizedState = SUSPENDED_MARKER),\n      nextProps\n    );\n  pushPrimaryTreeSuspenseHandler(workInProgress);\n  renderLanes = current.child;\n  current = renderLanes.sibling;\n  renderLanes = createWorkInProgress(renderLanes, {\n    mode: \"visible\",\n    children: nextProps.children\n  });\n  renderLanes.return = workInProgress;\n  renderLanes.sibling = null;\n  null !== current &&\n    ((JSCompiler_temp = workInProgress.deletions),\n    null === JSCompiler_temp\n      ? ((workInProgress.deletions = [current]), (workInProgress.flags |= 16))\n      : JSCompiler_temp.push(current));\n  workInProgress.child = renderLanes;\n  workInProgress.memoizedState = null;\n  return renderLanes;\n}\nfunction mountSuspensePrimaryChildren(workInProgress, primaryChildren) {\n  primaryChildren = mountWorkInProgressOffscreenFiber(\n    { mode: \"visible\", children: primaryChildren },\n    workInProgress.mode\n  );\n  primaryChildren.return = workInProgress;\n  return (workInProgress.child = primaryChildren);\n}\nfunction mountWorkInProgressOffscreenFiber(offscreenProps, mode) {\n  return createFiberFromOffscreen(offscreenProps, mode, 0, null);\n}\nfunction retrySuspenseComponentWithoutHydrating(\n  current,\n  workInProgress,\n  renderLanes\n) {\n  reconcileChildFibers(workInProgress, current.child, null, renderLanes);\n  current = mountSuspensePrimaryChildren(\n    workInProgress,\n    workInProgress.pendingProps.children\n  );\n  current.flags |= 2;\n  workInProgress.memoizedState = null;\n  return current;\n}\nfunction scheduleSuspenseWorkOnFiber(fiber, renderLanes, propagationRoot) {\n  fiber.lanes |= renderLanes;\n  var alternate = fiber.alternate;\n  null !== alternate && (alternate.lanes |= renderLanes);\n  scheduleContextWorkOnParentPath(fiber.return, renderLanes, propagationRoot);\n}\nfunction initSuspenseListRenderState(\n  workInProgress,\n  isBackwards,\n  tail,\n  lastContentRow,\n  tailMode\n) {\n  var renderState = workInProgress.memoizedState;\n  null === renderState\n    ? (workInProgress.memoizedState = {\n        isBackwards: isBackwards,\n        rendering: null,\n        renderingStartTime: 0,\n        last: lastContentRow,\n        tail: tail,\n        tailMode: tailMode\n      })\n    : ((renderState.isBackwards = isBackwards),\n      (renderState.rendering = null),\n      (renderState.renderingStartTime = 0),\n      (renderState.last = lastContentRow),\n      (renderState.tail = tail),\n      (renderState.tailMode = tailMode));\n}\nfunction updateSuspenseListComponent(current, workInProgress, renderLanes) {\n  var nextProps = workInProgress.pendingProps,\n    revealOrder = nextProps.revealOrder,\n    tailMode = nextProps.tail;\n  reconcileChildren(current, workInProgress, nextProps.children, renderLanes);\n  nextProps = suspenseStackCursor.current;\n  if (0 !== (nextProps & 2))\n    (nextProps = (nextProps & 1) | 2), (workInProgress.flags |= 128);\n  else {\n    if (null !== current && 0 !== (current.flags & 128))\n      a: for (current = workInProgress.child; null !== current; ) {\n        if (13 === current.tag)\n          null !== current.memoizedState &&\n            scheduleSuspenseWorkOnFiber(current, renderLanes, workInProgress);\n        else if (19 === current.tag)\n          scheduleSuspenseWorkOnFiber(current, renderLanes, workInProgress);\n        else if (null !== current.child) {\n          current.child.return = current;\n          current = current.child;\n          continue;\n        }\n        if (current === workInProgress) break a;\n        for (; null === current.sibling; ) {\n          if (null === current.return || current.return === workInProgress)\n            break a;\n          current = current.return;\n        }\n        current.sibling.return = current.return;\n        current = current.sibling;\n      }\n    nextProps &= 1;\n  }\n  push(suspenseStackCursor, nextProps);\n  switch (revealOrder) {\n    case \"forwards\":\n      renderLanes = workInProgress.child;\n      for (revealOrder = null; null !== renderLanes; )\n        (current = renderLanes.alternate),\n          null !== current &&\n            null === findFirstSuspended(current) &&\n            (revealOrder = renderLanes),\n          (renderLanes = renderLanes.sibling);\n      renderLanes = revealOrder;\n      null === renderLanes\n        ? ((revealOrder = workInProgress.child), (workInProgress.child = null))\n        : ((revealOrder = renderLanes.sibling), (renderLanes.sibling = null));\n      initSuspenseListRenderState(\n        workInProgress,\n        !1,\n        revealOrder,\n        renderLanes,\n        tailMode\n      );\n      break;\n    case \"backwards\":\n      renderLanes = null;\n      revealOrder = workInProgress.child;\n      for (workInProgress.child = null; null !== revealOrder; ) {\n        current = revealOrder.alternate;\n        if (null !== current && null === findFirstSuspended(current)) {\n          workInProgress.child = revealOrder;\n          break;\n        }\n        current = revealOrder.sibling;\n        revealOrder.sibling = renderLanes;\n        renderLanes = revealOrder;\n        revealOrder = current;\n      }\n      initSuspenseListRenderState(\n        workInProgress,\n        !0,\n        renderLanes,\n        null,\n        tailMode\n      );\n      break;\n    case \"together\":\n      initSuspenseListRenderState(workInProgress, !1, null, null, void 0);\n      break;\n    default:\n      workInProgress.memoizedState = null;\n  }\n  return workInProgress.child;\n}\nfunction bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes) {\n  null !== current && (workInProgress.dependencies = current.dependencies);\n  workInProgressRootSkippedLanes |= workInProgress.lanes;\n  if (0 === (renderLanes & workInProgress.childLanes))\n    if (null !== current) {\n      if (\n        (propagateParentContextChanges(\n          current,\n          workInProgress,\n          renderLanes,\n          !1\n        ),\n        0 === (renderLanes & workInProgress.childLanes))\n      )\n        return null;\n    } else return null;\n  if (null !== current && workInProgress.child !== current.child)\n    throw Error(formatProdErrorMessage(153));\n  if (null !== workInProgress.child) {\n    current = workInProgress.child;\n    renderLanes = createWorkInProgress(current, current.pendingProps);\n    workInProgress.child = renderLanes;\n    for (renderLanes.return = workInProgress; null !== current.sibling; )\n      (current = current.sibling),\n        (renderLanes = renderLanes.sibling =\n          createWorkInProgress(current, current.pendingProps)),\n        (renderLanes.return = workInProgress);\n    renderLanes.sibling = null;\n  }\n  return workInProgress.child;\n}\nfunction checkScheduledUpdateOrContext(current, renderLanes) {\n  if (0 !== (current.lanes & renderLanes)) return !0;\n  current = current.dependencies;\n  return null !== current && checkIfContextChanged(current) ? !0 : !1;\n}\nfunction attemptEarlyBailoutIfNoScheduledUpdate(\n  current,\n  workInProgress,\n  renderLanes\n) {\n  switch (workInProgress.tag) {\n    case 3:\n      pushHostContainer(workInProgress, workInProgress.stateNode.containerInfo);\n      pushProvider(workInProgress, CacheContext, current.memoizedState.cache);\n      resetHydrationState();\n      break;\n    case 27:\n    case 5:\n      pushHostContext(workInProgress);\n      break;\n    case 4:\n      pushHostContainer(workInProgress, workInProgress.stateNode.containerInfo);\n      break;\n    case 10:\n      pushProvider(\n        workInProgress,\n        workInProgress.type,\n        workInProgress.memoizedProps.value\n      );\n      break;\n    case 13:\n      var state = workInProgress.memoizedState;\n      if (null !== state) {\n        if (null !== state.dehydrated)\n          return (\n            pushPrimaryTreeSuspenseHandler(workInProgress),\n            (workInProgress.flags |= 128),\n            null\n          );\n        if (0 !== (renderLanes & workInProgress.child.childLanes))\n          return updateSuspenseComponent(current, workInProgress, renderLanes);\n        pushPrimaryTreeSuspenseHandler(workInProgress);\n        current = bailoutOnAlreadyFinishedWork(\n          current,\n          workInProgress,\n          renderLanes\n        );\n        return null !== current ? current.sibling : null;\n      }\n      pushPrimaryTreeSuspenseHandler(workInProgress);\n      break;\n    case 19:\n      var didSuspendBefore = 0 !== (current.flags & 128);\n      state = 0 !== (renderLanes & workInProgress.childLanes);\n      state ||\n        (propagateParentContextChanges(\n          current,\n          workInProgress,\n          renderLanes,\n          !1\n        ),\n        (state = 0 !== (renderLanes & workInProgress.childLanes)));\n      if (didSuspendBefore) {\n        if (state)\n          return updateSuspenseListComponent(\n            current,\n            workInProgress,\n            renderLanes\n          );\n        workInProgress.flags |= 128;\n      }\n      didSuspendBefore = workInProgress.memoizedState;\n      null !== didSuspendBefore &&\n        ((didSuspendBefore.rendering = null),\n        (didSuspendBefore.tail = null),\n        (didSuspendBefore.lastEffect = null));\n      push(suspenseStackCursor, suspenseStackCursor.current);\n      if (state) break;\n      else return null;\n    case 22:\n    case 23:\n      return (\n        (workInProgress.lanes = 0),\n        updateOffscreenComponent(current, workInProgress, renderLanes)\n      );\n    case 24:\n      pushProvider(workInProgress, CacheContext, current.memoizedState.cache);\n  }\n  return bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes);\n}\nfunction beginWork(current, workInProgress, renderLanes) {\n  if (null !== current)\n    if (current.memoizedProps !== workInProgress.pendingProps)\n      didReceiveUpdate = !0;\n    else {\n      if (\n        !checkScheduledUpdateOrContext(current, renderLanes) &&\n        0 === (workInProgress.flags & 128)\n      )\n        return (\n          (didReceiveUpdate = !1),\n          attemptEarlyBailoutIfNoScheduledUpdate(\n            current,\n            workInProgress,\n            renderLanes\n          )\n        );\n      didReceiveUpdate = 0 !== (current.flags & 131072) ? !0 : !1;\n    }\n  else\n    (didReceiveUpdate = !1),\n      isHydrating &&\n        0 !== (workInProgress.flags & 1048576) &&\n        pushTreeId(workInProgress, treeForkCount, workInProgress.index);\n  workInProgress.lanes = 0;\n  switch (workInProgress.tag) {\n    case 16:\n      a: {\n        current = workInProgress.pendingProps;\n        var lazyComponent = workInProgress.elementType,\n          init = lazyComponent._init;\n        lazyComponent = init(lazyComponent._payload);\n        workInProgress.type = lazyComponent;\n        if (\"function\" === typeof lazyComponent)\n          shouldConstruct(lazyComponent)\n            ? ((current = resolveClassComponentProps(lazyComponent, current)),\n              (workInProgress.tag = 1),\n              (workInProgress = updateClassComponent(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              )))\n            : ((workInProgress.tag = 0),\n              (workInProgress = updateFunctionComponent(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              )));\n        else {\n          if (void 0 !== lazyComponent && null !== lazyComponent)\n            if (\n              ((init = lazyComponent.$$typeof), init === REACT_FORWARD_REF_TYPE)\n            ) {\n              workInProgress.tag = 11;\n              workInProgress = updateForwardRef(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              );\n              break a;\n            } else if (init === REACT_MEMO_TYPE) {\n              workInProgress.tag = 14;\n              workInProgress = updateMemoComponent(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              );\n              break a;\n            }\n          workInProgress =\n            getComponentNameFromType(lazyComponent) || lazyComponent;\n          throw Error(formatProdErrorMessage(306, workInProgress, \"\"));\n        }\n      }\n      return workInProgress;\n    case 0:\n      return updateFunctionComponent(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 1:\n      return (\n        (lazyComponent = workInProgress.type),\n        (init = resolveClassComponentProps(\n          lazyComponent,\n          workInProgress.pendingProps\n        )),\n        updateClassComponent(\n          current,\n          workInProgress,\n          lazyComponent,\n          init,\n          renderLanes\n        )\n      );\n    case 3:\n      a: {\n        pushHostContainer(\n          workInProgress,\n          workInProgress.stateNode.containerInfo\n        );\n        if (null === current) throw Error(formatProdErrorMessage(387));\n        var nextProps = workInProgress.pendingProps;\n        init = workInProgress.memoizedState;\n        lazyComponent = init.element;\n        cloneUpdateQueue(current, workInProgress);\n        processUpdateQueue(workInProgress, nextProps, null, renderLanes);\n        var nextState = workInProgress.memoizedState;\n        nextProps = nextState.cache;\n        pushProvider(workInProgress, CacheContext, nextProps);\n        nextProps !== init.cache &&\n          propagateContextChanges(\n            workInProgress,\n            [CacheContext],\n            renderLanes,\n            !0\n          );\n        suspendIfUpdateReadFromEntangledAsyncAction();\n        nextProps = nextState.element;\n        if (init.isDehydrated)\n          if (\n            ((init = {\n              element: nextProps,\n              isDehydrated: !1,\n              cache: nextState.cache\n            }),\n            (workInProgress.updateQueue.baseState = init),\n            (workInProgress.memoizedState = init),\n            workInProgress.flags & 256)\n          ) {\n            workInProgress = mountHostRootWithoutHydrating(\n              current,\n              workInProgress,\n              nextProps,\n              renderLanes\n            );\n            break a;\n          } else if (nextProps !== lazyComponent) {\n            lazyComponent = createCapturedValueAtFiber(\n              Error(formatProdErrorMessage(424)),\n              workInProgress\n            );\n            queueHydrationError(lazyComponent);\n            workInProgress = mountHostRootWithoutHydrating(\n              current,\n              workInProgress,\n              nextProps,\n              renderLanes\n            );\n            break a;\n          } else\n            for (\n              nextHydratableInstance = getNextHydratable(\n                workInProgress.stateNode.containerInfo.firstChild\n              ),\n                hydrationParentFiber = workInProgress,\n                isHydrating = !0,\n                hydrationErrors = null,\n                rootOrSingletonContext = !0,\n                renderLanes = mountChildFibers(\n                  workInProgress,\n                  null,\n                  nextProps,\n                  renderLanes\n                ),\n                workInProgress.child = renderLanes;\n              renderLanes;\n\n            )\n              (renderLanes.flags = (renderLanes.flags & -3) | 4096),\n                (renderLanes = renderLanes.sibling);\n        else {\n          resetHydrationState();\n          if (nextProps === lazyComponent) {\n            workInProgress = bailoutOnAlreadyFinishedWork(\n              current,\n              workInProgress,\n              renderLanes\n            );\n            break a;\n          }\n          reconcileChildren(current, workInProgress, nextProps, renderLanes);\n        }\n        workInProgress = workInProgress.child;\n      }\n      return workInProgress;\n    case 26:\n      return (\n        markRef(current, workInProgress),\n        null === current\n          ? (renderLanes = getResource(\n              workInProgress.type,\n              null,\n              workInProgress.pendingProps,\n              null\n            ))\n            ? (workInProgress.memoizedState = renderLanes)\n            : isHydrating ||\n              ((renderLanes = workInProgress.type),\n              (current = workInProgress.pendingProps),\n              (lazyComponent = getOwnerDocumentFromRootContainer(\n                rootInstanceStackCursor.current\n              ).createElement(renderLanes)),\n              (lazyComponent[internalInstanceKey] = workInProgress),\n              (lazyComponent[internalPropsKey] = current),\n              setInitialProperties(lazyComponent, renderLanes, current),\n              markNodeAsHoistable(lazyComponent),\n              (workInProgress.stateNode = lazyComponent))\n          : (workInProgress.memoizedState = getResource(\n              workInProgress.type,\n              current.memoizedProps,\n              workInProgress.pendingProps,\n              current.memoizedState\n            )),\n        null\n      );\n    case 27:\n      return (\n        pushHostContext(workInProgress),\n        null === current &&\n          isHydrating &&\n          ((lazyComponent = workInProgress.stateNode =\n            resolveSingletonInstance(\n              workInProgress.type,\n              workInProgress.pendingProps,\n              rootInstanceStackCursor.current\n            )),\n          (hydrationParentFiber = workInProgress),\n          (rootOrSingletonContext = !0),\n          (nextHydratableInstance = getNextHydratable(\n            lazyComponent.firstChild\n          ))),\n        (lazyComponent = workInProgress.pendingProps.children),\n        null !== current || isHydrating\n          ? reconcileChildren(\n              current,\n              workInProgress,\n              lazyComponent,\n              renderLanes\n            )\n          : (workInProgress.child = reconcileChildFibers(\n              workInProgress,\n              null,\n              lazyComponent,\n              renderLanes\n            )),\n        markRef(current, workInProgress),\n        workInProgress.child\n      );\n    case 5:\n      if (null === current && isHydrating) {\n        if ((init = lazyComponent = nextHydratableInstance))\n          (lazyComponent = canHydrateInstance(\n            lazyComponent,\n            workInProgress.type,\n            workInProgress.pendingProps,\n            rootOrSingletonContext\n          )),\n            null !== lazyComponent\n              ? ((workInProgress.stateNode = lazyComponent),\n                (hydrationParentFiber = workInProgress),\n                (nextHydratableInstance = getNextHydratable(\n                  lazyComponent.firstChild\n                )),\n                (rootOrSingletonContext = !1),\n                (init = !0))\n              : (init = !1);\n        init || throwOnHydrationMismatch(workInProgress);\n      }\n      pushHostContext(workInProgress);\n      init = workInProgress.type;\n      nextProps = workInProgress.pendingProps;\n      nextState = null !== current ? current.memoizedProps : null;\n      lazyComponent = nextProps.children;\n      shouldSetTextContent(init, nextProps)\n        ? (lazyComponent = null)\n        : null !== nextState &&\n          shouldSetTextContent(init, nextState) &&\n          (workInProgress.flags |= 32);\n      null !== workInProgress.memoizedState &&\n        ((init = renderWithHooks(\n          current,\n          workInProgress,\n          TransitionAwareHostComponent,\n          null,\n          null,\n          renderLanes\n        )),\n        (HostTransitionContext._currentValue = init));\n      markRef(current, workInProgress);\n      reconcileChildren(current, workInProgress, lazyComponent, renderLanes);\n      return workInProgress.child;\n    case 6:\n      if (null === current && isHydrating) {\n        if ((current = renderLanes = nextHydratableInstance))\n          (renderLanes = canHydrateTextInstance(\n            renderLanes,\n            workInProgress.pendingProps,\n            rootOrSingletonContext\n          )),\n            null !== renderLanes\n              ? ((workInProgress.stateNode = renderLanes),\n                (hydrationParentFiber = workInProgress),\n                (nextHydratableInstance = null),\n                (current = !0))\n              : (current = !1);\n        current || throwOnHydrationMismatch(workInProgress);\n      }\n      return null;\n    case 13:\n      return updateSuspenseComponent(current, workInProgress, renderLanes);\n    case 4:\n      return (\n        pushHostContainer(\n          workInProgress,\n          workInProgress.stateNode.containerInfo\n        ),\n        (lazyComponent = workInProgress.pendingProps),\n        null === current\n          ? (workInProgress.child = reconcileChildFibers(\n              workInProgress,\n              null,\n              lazyComponent,\n              renderLanes\n            ))\n          : reconcileChildren(\n              current,\n              workInProgress,\n              lazyComponent,\n              renderLanes\n            ),\n        workInProgress.child\n      );\n    case 11:\n      return updateForwardRef(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 7:\n      return (\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 8:\n      return (\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 12:\n      return (\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 10:\n      return (\n        (lazyComponent = workInProgress.pendingProps),\n        pushProvider(workInProgress, workInProgress.type, lazyComponent.value),\n        reconcileChildren(\n          current,\n          workInProgress,\n          lazyComponent.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 9:\n      return (\n        (init = workInProgress.type._context),\n        (lazyComponent = workInProgress.pendingProps.children),\n        prepareToReadContext(workInProgress),\n        (init = readContext(init)),\n        (lazyComponent = lazyComponent(init)),\n        (workInProgress.flags |= 1),\n        reconcileChildren(current, workInProgress, lazyComponent, renderLanes),\n        workInProgress.child\n      );\n    case 14:\n      return updateMemoComponent(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 15:\n      return updateSimpleMemoComponent(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 19:\n      return updateSuspenseListComponent(current, workInProgress, renderLanes);\n    case 22:\n      return updateOffscreenComponent(current, workInProgress, renderLanes);\n    case 24:\n      return (\n        prepareToReadContext(workInProgress),\n        (lazyComponent = readContext(CacheContext)),\n        null === current\n          ? ((init = peekCacheFromPool()),\n            null === init &&\n              ((init = workInProgressRoot),\n              (nextProps = createCache()),\n              (init.pooledCache = nextProps),\n              nextProps.refCount++,\n              null !== nextProps && (init.pooledCacheLanes |= renderLanes),\n              (init = nextProps)),\n            (workInProgress.memoizedState = {\n              parent: lazyComponent,\n              cache: init\n            }),\n            initializeUpdateQueue(workInProgress),\n            pushProvider(workInProgress, CacheContext, init))\n          : (0 !== (current.lanes & renderLanes) &&\n              (cloneUpdateQueue(current, workInProgress),\n              processUpdateQueue(workInProgress, null, null, renderLanes),\n              suspendIfUpdateReadFromEntangledAsyncAction()),\n            (init = current.memoizedState),\n            (nextProps = workInProgress.memoizedState),\n            init.parent !== lazyComponent\n              ? ((init = { parent: lazyComponent, cache: lazyComponent }),\n                (workInProgress.memoizedState = init),\n                0 === workInProgress.lanes &&\n                  (workInProgress.memoizedState =\n                    workInProgress.updateQueue.baseState =\n                      init),\n                pushProvider(workInProgress, CacheContext, lazyComponent))\n              : ((lazyComponent = nextProps.cache),\n                pushProvider(workInProgress, CacheContext, lazyComponent),\n                lazyComponent !== init.cache &&\n                  propagateContextChanges(\n                    workInProgress,\n                    [CacheContext],\n                    renderLanes,\n                    !0\n                  ))),\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 29:\n      throw workInProgress.pendingProps;\n  }\n  throw Error(formatProdErrorMessage(156, workInProgress.tag));\n}\nvar valueCursor = createCursor(null),\n  currentlyRenderingFiber = null,\n  lastContextDependency = null;\nfunction pushProvider(providerFiber, context, nextValue) {\n  push(valueCursor, context._currentValue);\n  context._currentValue = nextValue;\n}\nfunction popProvider(context) {\n  context._currentValue = valueCursor.current;\n  pop(valueCursor);\n}\nfunction scheduleContextWorkOnParentPath(parent, renderLanes, propagationRoot) {\n  for (; null !== parent; ) {\n    var alternate = parent.alternate;\n    (parent.childLanes & renderLanes) !== renderLanes\n      ? ((parent.childLanes |= renderLanes),\n        null !== alternate && (alternate.childLanes |= renderLanes))\n      : null !== alternate &&\n        (alternate.childLanes & renderLanes) !== renderLanes &&\n        (alternate.childLanes |= renderLanes);\n    if (parent === propagationRoot) break;\n    parent = parent.return;\n  }\n}\nfunction propagateContextChanges(\n  workInProgress,\n  contexts,\n  renderLanes,\n  forcePropagateEntireTree\n) {\n  var fiber = workInProgress.child;\n  null !== fiber && (fiber.return = workInProgress);\n  for (; null !== fiber; ) {\n    var list = fiber.dependencies;\n    if (null !== list) {\n      var nextFiber = fiber.child;\n      list = list.firstContext;\n      a: for (; null !== list; ) {\n        var dependency = list;\n        list = fiber;\n        for (var i = 0; i < contexts.length; i++)\n          if (dependency.context === contexts[i]) {\n            list.lanes |= renderLanes;\n            dependency = list.alternate;\n            null !== dependency && (dependency.lanes |= renderLanes);\n            scheduleContextWorkOnParentPath(\n              list.return,\n              renderLanes,\n              workInProgress\n            );\n            forcePropagateEntireTree || (nextFiber = null);\n            break a;\n          }\n        list = dependency.next;\n      }\n    } else if (18 === fiber.tag) {\n      nextFiber = fiber.return;\n      if (null === nextFiber) throw Error(formatProdErrorMessage(341));\n      nextFiber.lanes |= renderLanes;\n      list = nextFiber.alternate;\n      null !== list && (list.lanes |= renderLanes);\n      scheduleContextWorkOnParentPath(nextFiber, renderLanes, workInProgress);\n      nextFiber = null;\n    } else nextFiber = fiber.child;\n    if (null !== nextFiber) nextFiber.return = fiber;\n    else\n      for (nextFiber = fiber; null !== nextFiber; ) {\n        if (nextFiber === workInProgress) {\n          nextFiber = null;\n          break;\n        }\n        fiber = nextFiber.sibling;\n        if (null !== fiber) {\n          fiber.return = nextFiber.return;\n          nextFiber = fiber;\n          break;\n        }\n        nextFiber = nextFiber.return;\n      }\n    fiber = nextFiber;\n  }\n}\nfunction propagateParentContextChanges(\n  current,\n  workInProgress,\n  renderLanes,\n  forcePropagateEntireTree\n) {\n  current = null;\n  for (\n    var parent = workInProgress, isInsidePropagationBailout = !1;\n    null !== parent;\n\n  ) {\n    if (!isInsidePropagationBailout)\n      if (0 !== (parent.flags & 524288)) isInsidePropagationBailout = !0;\n      else if (0 !== (parent.flags & 262144)) break;\n    if (10 === parent.tag) {\n      var currentParent = parent.alternate;\n      if (null === currentParent) throw Error(formatProdErrorMessage(387));\n      currentParent = currentParent.memoizedProps;\n      if (null !== currentParent) {\n        var context = parent.type;\n        objectIs(parent.pendingProps.value, currentParent.value) ||\n          (null !== current ? current.push(context) : (current = [context]));\n      }\n    } else if (parent === hostTransitionProviderCursor.current) {\n      currentParent = parent.alternate;\n      if (null === currentParent) throw Error(formatProdErrorMessage(387));\n      currentParent.memoizedState.memoizedState !==\n        parent.memoizedState.memoizedState &&\n        (null !== current\n          ? current.push(HostTransitionContext)\n          : (current = [HostTransitionContext]));\n    }\n    parent = parent.return;\n  }\n  null !== current &&\n    propagateContextChanges(\n      workInProgress,\n      current,\n      renderLanes,\n      forcePropagateEntireTree\n    );\n  workInProgress.flags |= 262144;\n}\nfunction checkIfContextChanged(currentDependencies) {\n  for (\n    currentDependencies = currentDependencies.firstContext;\n    null !== currentDependencies;\n\n  ) {\n    if (\n      !objectIs(\n        currentDependencies.context._currentValue,\n        currentDependencies.memoizedValue\n      )\n    )\n      return !0;\n    currentDependencies = currentDependencies.next;\n  }\n  return !1;\n}\nfunction prepareToReadContext(workInProgress) {\n  currentlyRenderingFiber = workInProgress;\n  lastContextDependency = null;\n  workInProgress = workInProgress.dependencies;\n  null !== workInProgress && (workInProgress.firstContext = null);\n}\nfunction readContext(context) {\n  return readContextForConsumer(currentlyRenderingFiber, context);\n}\nfunction readContextDuringReconciliation(consumer, context) {\n  null === currentlyRenderingFiber && prepareToReadContext(consumer);\n  return readContextForConsumer(consumer, context);\n}\nfunction readContextForConsumer(consumer, context) {\n  var value = context._currentValue;\n  context = { context: context, memoizedValue: value, next: null };\n  if (null === lastContextDependency) {\n    if (null === consumer) throw Error(formatProdErrorMessage(308));\n    lastContextDependency = context;\n    consumer.dependencies = { lanes: 0, firstContext: context };\n    consumer.flags |= 524288;\n  } else lastContextDependency = lastContextDependency.next = context;\n  return value;\n}\nvar hasForceUpdate = !1;\nfunction initializeUpdateQueue(fiber) {\n  fiber.updateQueue = {\n    baseState: fiber.memoizedState,\n    firstBaseUpdate: null,\n    lastBaseUpdate: null,\n    shared: { pending: null, lanes: 0, hiddenCallbacks: null },\n    callbacks: null\n  };\n}\nfunction cloneUpdateQueue(current, workInProgress) {\n  current = current.updateQueue;\n  workInProgress.updateQueue === current &&\n    (workInProgress.updateQueue = {\n      baseState: current.baseState,\n      firstBaseUpdate: current.firstBaseUpdate,\n      lastBaseUpdate: current.lastBaseUpdate,\n      shared: current.shared,\n      callbacks: null\n    });\n}\nfunction createUpdate(lane) {\n  return { lane: lane, tag: 0, payload: null, callback: null, next: null };\n}\nfunction enqueueUpdate(fiber, update, lane) {\n  var updateQueue = fiber.updateQueue;\n  if (null === updateQueue) return null;\n  updateQueue = updateQueue.shared;\n  if (0 !== (executionContext & 2)) {\n    var pending = updateQueue.pending;\n    null === pending\n      ? (update.next = update)\n      : ((update.next = pending.next), (pending.next = update));\n    updateQueue.pending = update;\n    update = getRootForUpdatedFiber(fiber);\n    markUpdateLaneFromFiberToRoot(fiber, null, lane);\n    return update;\n  }\n  enqueueUpdate$1(fiber, updateQueue, update, lane);\n  return getRootForUpdatedFiber(fiber);\n}\nfunction entangleTransitions(root, fiber, lane) {\n  fiber = fiber.updateQueue;\n  if (null !== fiber && ((fiber = fiber.shared), 0 !== (lane & 4194176))) {\n    var queueLanes = fiber.lanes;\n    queueLanes &= root.pendingLanes;\n    lane |= queueLanes;\n    fiber.lanes = lane;\n    markRootEntangled(root, lane);\n  }\n}\nfunction enqueueCapturedUpdate(workInProgress, capturedUpdate) {\n  var queue = workInProgress.updateQueue,\n    current = workInProgress.alternate;\n  if (\n    null !== current &&\n    ((current = current.updateQueue), queue === current)\n  ) {\n    var newFirst = null,\n      newLast = null;\n    queue = queue.firstBaseUpdate;\n    if (null !== queue) {\n      do {\n        var clone = {\n          lane: queue.lane,\n          tag: queue.tag,\n          payload: queue.payload,\n          callback: null,\n          next: null\n        };\n        null === newLast\n          ? (newFirst = newLast = clone)\n          : (newLast = newLast.next = clone);\n        queue = queue.next;\n      } while (null !== queue);\n      null === newLast\n        ? (newFirst = newLast = capturedUpdate)\n        : (newLast = newLast.next = capturedUpdate);\n    } else newFirst = newLast = capturedUpdate;\n    queue = {\n      baseState: current.baseState,\n      firstBaseUpdate: newFirst,\n      lastBaseUpdate: newLast,\n      shared: current.shared,\n      callbacks: current.callbacks\n    };\n    workInProgress.updateQueue = queue;\n    return;\n  }\n  workInProgress = queue.lastBaseUpdate;\n  null === workInProgress\n    ? (queue.firstBaseUpdate = capturedUpdate)\n    : (workInProgress.next = capturedUpdate);\n  queue.lastBaseUpdate = capturedUpdate;\n}\nvar didReadFromEntangledAsyncAction = !1;\nfunction suspendIfUpdateReadFromEntangledAsyncAction() {\n  if (didReadFromEntangledAsyncAction) {\n    var entangledActionThenable = currentEntangledActionThenable;\n    if (null !== entangledActionThenable) throw entangledActionThenable;\n  }\n}\nfunction processUpdateQueue(\n  workInProgress$jscomp$0,\n  props,\n  instance$jscomp$0,\n  renderLanes\n) {\n  didReadFromEntangledAsyncAction = !1;\n  var queue = workInProgress$jscomp$0.updateQueue;\n  hasForceUpdate = !1;\n  var firstBaseUpdate = queue.firstBaseUpdate,\n    lastBaseUpdate = queue.lastBaseUpdate,\n    pendingQueue = queue.shared.pending;\n  if (null !== pendingQueue) {\n    queue.shared.pending = null;\n    var lastPendingUpdate = pendingQueue,\n      firstPendingUpdate = lastPendingUpdate.next;\n    lastPendingUpdate.next = null;\n    null === lastBaseUpdate\n      ? (firstBaseUpdate = firstPendingUpdate)\n      : (lastBaseUpdate.next = firstPendingUpdate);\n    lastBaseUpdate = lastPendingUpdate;\n    var current = workInProgress$jscomp$0.alternate;\n    null !== current &&\n      ((current = current.updateQueue),\n      (pendingQueue = current.lastBaseUpdate),\n      pendingQueue !== lastBaseUpdate &&\n        (null === pendingQueue\n          ? (current.firstBaseUpdate = firstPendingUpdate)\n          : (pendingQueue.next = firstPendingUpdate),\n        (current.lastBaseUpdate = lastPendingUpdate)));\n  }\n  if (null !== firstBaseUpdate) {\n    var newState = queue.baseState;\n    lastBaseUpdate = 0;\n    current = firstPendingUpdate = lastPendingUpdate = null;\n    pendingQueue = firstBaseUpdate;\n    do {\n      var updateLane = pendingQueue.lane & -536870913,\n        isHiddenUpdate = updateLane !== pendingQueue.lane;\n      if (\n        isHiddenUpdate\n          ? (workInProgressRootRenderLanes & updateLane) === updateLane\n          : (renderLanes & updateLane) === updateLane\n      ) {\n        0 !== updateLane &&\n          updateLane === currentEntangledLane &&\n          (didReadFromEntangledAsyncAction = !0);\n        null !== current &&\n          (current = current.next =\n            {\n              lane: 0,\n              tag: pendingQueue.tag,\n              payload: pendingQueue.payload,\n              callback: null,\n              next: null\n            });\n        a: {\n          var workInProgress = workInProgress$jscomp$0,\n            update = pendingQueue;\n          updateLane = props;\n          var instance = instance$jscomp$0;\n          switch (update.tag) {\n            case 1:\n              workInProgress = update.payload;\n              if (\"function\" === typeof workInProgress) {\n                newState = workInProgress.call(instance, newState, updateLane);\n                break a;\n              }\n              newState = workInProgress;\n              break a;\n            case 3:\n              workInProgress.flags = (workInProgress.flags & -65537) | 128;\n            case 0:\n              workInProgress = update.payload;\n              updateLane =\n                \"function\" === typeof workInProgress\n                  ? workInProgress.call(instance, newState, updateLane)\n                  : workInProgress;\n              if (null === updateLane || void 0 === updateLane) break a;\n              newState = assign({}, newState, updateLane);\n              break a;\n            case 2:\n              hasForceUpdate = !0;\n          }\n        }\n        updateLane = pendingQueue.callback;\n        null !== updateLane &&\n          ((workInProgress$jscomp$0.flags |= 64),\n          isHiddenUpdate && (workInProgress$jscomp$0.flags |= 8192),\n          (isHiddenUpdate = queue.callbacks),\n          null === isHiddenUpdate\n            ? (queue.callbacks = [updateLane])\n            : isHiddenUpdate.push(updateLane));\n      } else\n        (isHiddenUpdate = {\n          lane: updateLane,\n          tag: pendingQueue.tag,\n          payload: pendingQueue.payload,\n          callback: pendingQueue.callback,\n          next: null\n        }),\n          null === current\n            ? ((firstPendingUpdate = current = isHiddenUpdate),\n              (lastPendingUpdate = newState))\n            : (current = current.next = isHiddenUpdate),\n          (lastBaseUpdate |= updateLane);\n      pendingQueue = pendingQueue.next;\n      if (null === pendingQueue)\n        if (((pendingQueue = queue.shared.pending), null === pendingQueue))\n          break;\n        else\n          (isHiddenUpdate = pendingQueue),\n            (pendingQueue = isHiddenUpdate.next),\n            (isHiddenUpdate.next = null),\n            (queue.lastBaseUpdate = isHiddenUpdate),\n            (queue.shared.pending = null);\n    } while (1);\n    null === current && (lastPendingUpdate = newState);\n    queue.baseState = lastPendingUpdate;\n    queue.firstBaseUpdate = firstPendingUpdate;\n    queue.lastBaseUpdate = current;\n    null === firstBaseUpdate && (queue.shared.lanes = 0);\n    workInProgressRootSkippedLanes |= lastBaseUpdate;\n    workInProgress$jscomp$0.lanes = lastBaseUpdate;\n    workInProgress$jscomp$0.memoizedState = newState;\n  }\n}\nfunction callCallback(callback, context) {\n  if (\"function\" !== typeof callback)\n    throw Error(formatProdErrorMessage(191, callback));\n  callback.call(context);\n}\nfunction commitCallbacks(updateQueue, context) {\n  var callbacks = updateQueue.callbacks;\n  if (null !== callbacks)\n    for (\n      updateQueue.callbacks = null, updateQueue = 0;\n      updateQueue < callbacks.length;\n      updateQueue++\n    )\n      callCallback(callbacks[updateQueue], context);\n}\nfunction commitHookEffectListMount(flags, finishedWork) {\n  try {\n    var updateQueue = finishedWork.updateQueue,\n      lastEffect = null !== updateQueue ? updateQueue.lastEffect : null;\n    if (null !== lastEffect) {\n      var firstEffect = lastEffect.next;\n      updateQueue = firstEffect;\n      do {\n        if ((updateQueue.tag & flags) === flags) {\n          lastEffect = void 0;\n          var create = updateQueue.create,\n            inst = updateQueue.inst;\n          lastEffect = create();\n          inst.destroy = lastEffect;\n        }\n        updateQueue = updateQueue.next;\n      } while (updateQueue !== firstEffect);\n    }\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction commitHookEffectListUnmount(\n  flags,\n  finishedWork,\n  nearestMountedAncestor$jscomp$0\n) {\n  try {\n    var updateQueue = finishedWork.updateQueue,\n      lastEffect = null !== updateQueue ? updateQueue.lastEffect : null;\n    if (null !== lastEffect) {\n      var firstEffect = lastEffect.next;\n      updateQueue = firstEffect;\n      do {\n        if ((updateQueue.tag & flags) === flags) {\n          var inst = updateQueue.inst,\n            destroy = inst.destroy;\n          if (void 0 !== destroy) {\n            inst.destroy = void 0;\n            lastEffect = finishedWork;\n            var nearestMountedAncestor = nearestMountedAncestor$jscomp$0;\n            try {\n              destroy();\n            } catch (error) {\n              captureCommitPhaseError(\n                lastEffect,\n                nearestMountedAncestor,\n                error\n              );\n            }\n          }\n        }\n        updateQueue = updateQueue.next;\n      } while (updateQueue !== firstEffect);\n    }\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction commitClassCallbacks(finishedWork) {\n  var updateQueue = finishedWork.updateQueue;\n  if (null !== updateQueue) {\n    var instance = finishedWork.stateNode;\n    try {\n      commitCallbacks(updateQueue, instance);\n    } catch (error) {\n      captureCommitPhaseError(finishedWork, finishedWork.return, error);\n    }\n  }\n}\nfunction safelyCallComponentWillUnmount(\n  current,\n  nearestMountedAncestor,\n  instance\n) {\n  instance.props = resolveClassComponentProps(\n    current.type,\n    current.memoizedProps\n  );\n  instance.state = current.memoizedState;\n  try {\n    instance.componentWillUnmount();\n  } catch (error) {\n    captureCommitPhaseError(current, nearestMountedAncestor, error);\n  }\n}\nfunction safelyAttachRef(current, nearestMountedAncestor) {\n  try {\n    var ref = current.ref;\n    if (null !== ref) {\n      var instance = current.stateNode;\n      switch (current.tag) {\n        case 26:\n        case 27:\n        case 5:\n          var instanceToUse = instance;\n          break;\n        default:\n          instanceToUse = instance;\n      }\n      \"function\" === typeof ref\n        ? (current.refCleanup = ref(instanceToUse))\n        : (ref.current = instanceToUse);\n    }\n  } catch (error) {\n    captureCommitPhaseError(current, nearestMountedAncestor, error);\n  }\n}\nfunction safelyDetachRef(current, nearestMountedAncestor) {\n  var ref = current.ref,\n    refCleanup = current.refCleanup;\n  if (null !== ref)\n    if (\"function\" === typeof refCleanup)\n      try {\n        refCleanup();\n      } catch (error) {\n        captureCommitPhaseError(current, nearestMountedAncestor, error);\n      } finally {\n        (current.refCleanup = null),\n          (current = current.alternate),\n          null != current && (current.refCleanup = null);\n      }\n    else if (\"function\" === typeof ref)\n      try {\n        ref(null);\n      } catch (error$112) {\n        captureCommitPhaseError(current, nearestMountedAncestor, error$112);\n      }\n    else ref.current = null;\n}\nfunction commitHostMount(finishedWork) {\n  var type = finishedWork.type,\n    props = finishedWork.memoizedProps,\n    instance = finishedWork.stateNode;\n  try {\n    a: switch (type) {\n      case \"button\":\n      case \"input\":\n      case \"select\":\n      case \"textarea\":\n        props.autoFocus && instance.focus();\n        break a;\n      case \"img\":\n        props.src\n          ? (instance.src = props.src)\n          : props.srcSet && (instance.srcset = props.srcSet);\n    }\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction commitHostUpdate(finishedWork, newProps, oldProps) {\n  try {\n    var domElement = finishedWork.stateNode;\n    updateProperties(domElement, finishedWork.type, oldProps, newProps);\n    domElement[internalPropsKey] = newProps;\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction isHostParent(fiber) {\n  return (\n    5 === fiber.tag ||\n    3 === fiber.tag ||\n    26 === fiber.tag ||\n    27 === fiber.tag ||\n    4 === fiber.tag\n  );\n}\nfunction getHostSibling(fiber) {\n  a: for (;;) {\n    for (; null === fiber.sibling; ) {\n      if (null === fiber.return || isHostParent(fiber.return)) return null;\n      fiber = fiber.return;\n    }\n    fiber.sibling.return = fiber.return;\n    for (\n      fiber = fiber.sibling;\n      5 !== fiber.tag &&\n      6 !== fiber.tag &&\n      27 !== fiber.tag &&\n      18 !== fiber.tag;\n\n    ) {\n      if (fiber.flags & 2) continue a;\n      if (null === fiber.child || 4 === fiber.tag) continue a;\n      else (fiber.child.return = fiber), (fiber = fiber.child);\n    }\n    if (!(fiber.flags & 2)) return fiber.stateNode;\n  }\n}\nfunction insertOrAppendPlacementNodeIntoContainer(node, before, parent) {\n  var tag = node.tag;\n  if (5 === tag || 6 === tag)\n    (node = node.stateNode),\n      before\n        ? 8 === parent.nodeType\n          ? parent.parentNode.insertBefore(node, before)\n          : parent.insertBefore(node, before)\n        : (8 === parent.nodeType\n            ? ((before = parent.parentNode), before.insertBefore(node, parent))\n            : ((before = parent), before.appendChild(node)),\n          (parent = parent._reactRootContainer),\n          (null !== parent && void 0 !== parent) ||\n            null !== before.onclick ||\n            (before.onclick = noop$1));\n  else if (4 !== tag && 27 !== tag && ((node = node.child), null !== node))\n    for (\n      insertOrAppendPlacementNodeIntoContainer(node, before, parent),\n        node = node.sibling;\n      null !== node;\n\n    )\n      insertOrAppendPlacementNodeIntoContainer(node, before, parent),\n        (node = node.sibling);\n}\nfunction insertOrAppendPlacementNode(node, before, parent) {\n  var tag = node.tag;\n  if (5 === tag || 6 === tag)\n    (node = node.stateNode),\n      before ? parent.insertBefore(node, before) : parent.appendChild(node);\n  else if (4 !== tag && 27 !== tag && ((node = node.child), null !== node))\n    for (\n      insertOrAppendPlacementNode(node, before, parent), node = node.sibling;\n      null !== node;\n\n    )\n      insertOrAppendPlacementNode(node, before, parent), (node = node.sibling);\n}\nvar offscreenSubtreeIsHidden = !1,\n  offscreenSubtreeWasHidden = !1,\n  needsFormReset = !1,\n  PossiblyWeakSet = \"function\" === typeof WeakSet ? WeakSet : Set,\n  nextEffect = null,\n  shouldFireAfterActiveInstanceBlur = !1;\nfunction commitBeforeMutationEffects(root, firstChild) {\n  root = root.containerInfo;\n  eventsEnabled = _enabled;\n  root = getActiveElementDeep(root);\n  if (hasSelectionCapabilities(root)) {\n    if (\"selectionStart\" in root)\n      var JSCompiler_temp = {\n        start: root.selectionStart,\n        end: root.selectionEnd\n      };\n    else\n      a: {\n        JSCompiler_temp =\n          ((JSCompiler_temp = root.ownerDocument) &&\n            JSCompiler_temp.defaultView) ||\n          window;\n        var selection =\n          JSCompiler_temp.getSelection && JSCompiler_temp.getSelection();\n        if (selection && 0 !== selection.rangeCount) {\n          JSCompiler_temp = selection.anchorNode;\n          var anchorOffset = selection.anchorOffset,\n            focusNode = selection.focusNode;\n          selection = selection.focusOffset;\n          try {\n            JSCompiler_temp.nodeType, focusNode.nodeType;\n          } catch (e$20) {\n            JSCompiler_temp = null;\n            break a;\n          }\n          var length = 0,\n            start = -1,\n            end = -1,\n            indexWithinAnchor = 0,\n            indexWithinFocus = 0,\n            node = root,\n            parentNode = null;\n          b: for (;;) {\n            for (var next; ; ) {\n              node !== JSCompiler_temp ||\n                (0 !== anchorOffset && 3 !== node.nodeType) ||\n                (start = length + anchorOffset);\n              node !== focusNode ||\n                (0 !== selection && 3 !== node.nodeType) ||\n                (end = length + selection);\n              3 === node.nodeType && (length += node.nodeValue.length);\n              if (null === (next = node.firstChild)) break;\n              parentNode = node;\n              node = next;\n            }\n            for (;;) {\n              if (node === root) break b;\n              parentNode === JSCompiler_temp &&\n                ++indexWithinAnchor === anchorOffset &&\n                (start = length);\n              parentNode === focusNode &&\n                ++indexWithinFocus === selection &&\n                (end = length);\n              if (null !== (next = node.nextSibling)) break;\n              node = parentNode;\n              parentNode = node.parentNode;\n            }\n            node = next;\n          }\n          JSCompiler_temp =\n            -1 === start || -1 === end ? null : { start: start, end: end };\n        } else JSCompiler_temp = null;\n      }\n    JSCompiler_temp = JSCompiler_temp || { start: 0, end: 0 };\n  } else JSCompiler_temp = null;\n  selectionInformation = { focusedElem: root, selectionRange: JSCompiler_temp };\n  _enabled = !1;\n  for (nextEffect = firstChild; null !== nextEffect; )\n    if (\n      ((firstChild = nextEffect),\n      (root = firstChild.child),\n      0 !== (firstChild.subtreeFlags & 1028) && null !== root)\n    )\n      (root.return = firstChild), (nextEffect = root);\n    else\n      for (; null !== nextEffect; ) {\n        firstChild = nextEffect;\n        focusNode = firstChild.alternate;\n        root = firstChild.flags;\n        switch (firstChild.tag) {\n          case 0:\n            break;\n          case 11:\n          case 15:\n            break;\n          case 1:\n            if (0 !== (root & 1024) && null !== focusNode) {\n              root = void 0;\n              JSCompiler_temp = firstChild;\n              anchorOffset = focusNode.memoizedProps;\n              focusNode = focusNode.memoizedState;\n              selection = JSCompiler_temp.stateNode;\n              try {\n                var resolvedPrevProps = resolveClassComponentProps(\n                  JSCompiler_temp.type,\n                  anchorOffset,\n                  JSCompiler_temp.elementType === JSCompiler_temp.type\n                );\n                root = selection.getSnapshotBeforeUpdate(\n                  resolvedPrevProps,\n                  focusNode\n                );\n                selection.__reactInternalSnapshotBeforeUpdate = root;\n              } catch (error) {\n                captureCommitPhaseError(\n                  JSCompiler_temp,\n                  JSCompiler_temp.return,\n                  error\n                );\n              }\n            }\n            break;\n          case 3:\n            if (0 !== (root & 1024))\n              if (\n                ((root = firstChild.stateNode.containerInfo),\n                (JSCompiler_temp = root.nodeType),\n                9 === JSCompiler_temp)\n              )\n                clearContainerSparingly(root);\n              else if (1 === JSCompiler_temp)\n                switch (root.nodeName) {\n                  case \"HEAD\":\n                  case \"HTML\":\n                  case \"BODY\":\n                    clearContainerSparingly(root);\n                    break;\n                  default:\n                    root.textContent = \"\";\n                }\n            break;\n          case 5:\n          case 26:\n          case 27:\n          case 6:\n          case 4:\n          case 17:\n            break;\n          default:\n            if (0 !== (root & 1024)) throw Error(formatProdErrorMessage(163));\n        }\n        root = firstChild.sibling;\n        if (null !== root) {\n          root.return = firstChild.return;\n          nextEffect = root;\n          break;\n        }\n        nextEffect = firstChild.return;\n      }\n  resolvedPrevProps = shouldFireAfterActiveInstanceBlur;\n  shouldFireAfterActiveInstanceBlur = !1;\n  return resolvedPrevProps;\n}\nfunction commitLayoutEffectOnFiber(finishedRoot, current, finishedWork) {\n  var flags = finishedWork.flags;\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 15:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      flags & 4 && commitHookEffectListMount(5, finishedWork);\n      break;\n    case 1:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      if (flags & 4)\n        if (((finishedRoot = finishedWork.stateNode), null === current))\n          try {\n            finishedRoot.componentDidMount();\n          } catch (error) {\n            captureCommitPhaseError(finishedWork, finishedWork.return, error);\n          }\n        else {\n          var prevProps = resolveClassComponentProps(\n            finishedWork.type,\n            current.memoizedProps\n          );\n          current = current.memoizedState;\n          try {\n            finishedRoot.componentDidUpdate(\n              prevProps,\n              current,\n              finishedRoot.__reactInternalSnapshotBeforeUpdate\n            );\n          } catch (error$111) {\n            captureCommitPhaseError(\n              finishedWork,\n              finishedWork.return,\n              error$111\n            );\n          }\n        }\n      flags & 64 && commitClassCallbacks(finishedWork);\n      flags & 512 && safelyAttachRef(finishedWork, finishedWork.return);\n      break;\n    case 3:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      if (flags & 64 && ((flags = finishedWork.updateQueue), null !== flags)) {\n        finishedRoot = null;\n        if (null !== finishedWork.child)\n          switch (finishedWork.child.tag) {\n            case 27:\n            case 5:\n              finishedRoot = finishedWork.child.stateNode;\n              break;\n            case 1:\n              finishedRoot = finishedWork.child.stateNode;\n          }\n        try {\n          commitCallbacks(flags, finishedRoot);\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n      break;\n    case 26:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      flags & 512 && safelyAttachRef(finishedWork, finishedWork.return);\n      break;\n    case 27:\n    case 5:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      null === current && flags & 4 && commitHostMount(finishedWork);\n      flags & 512 && safelyAttachRef(finishedWork, finishedWork.return);\n      break;\n    case 12:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      break;\n    case 13:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      flags & 4 && commitSuspenseHydrationCallbacks(finishedRoot, finishedWork);\n      break;\n    case 22:\n      prevProps =\n        null !== finishedWork.memoizedState || offscreenSubtreeIsHidden;\n      if (!prevProps) {\n        current =\n          (null !== current && null !== current.memoizedState) ||\n          offscreenSubtreeWasHidden;\n        var prevOffscreenSubtreeIsHidden = offscreenSubtreeIsHidden,\n          prevOffscreenSubtreeWasHidden = offscreenSubtreeWasHidden;\n        offscreenSubtreeIsHidden = prevProps;\n        (offscreenSubtreeWasHidden = current) && !prevOffscreenSubtreeWasHidden\n          ? recursivelyTraverseReappearLayoutEffects(\n              finishedRoot,\n              finishedWork,\n              0 !== (finishedWork.subtreeFlags & 8772)\n            )\n          : recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n        offscreenSubtreeIsHidden = prevOffscreenSubtreeIsHidden;\n        offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden;\n      }\n      flags & 512 &&\n        (\"manual\" === finishedWork.memoizedProps.mode\n          ? safelyAttachRef(finishedWork, finishedWork.return)\n          : safelyDetachRef(finishedWork, finishedWork.return));\n      break;\n    default:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n  }\n}\nfunction detachFiberAfterEffects(fiber) {\n  var alternate = fiber.alternate;\n  null !== alternate &&\n    ((fiber.alternate = null), detachFiberAfterEffects(alternate));\n  fiber.child = null;\n  fiber.deletions = null;\n  fiber.sibling = null;\n  5 === fiber.tag &&\n    ((alternate = fiber.stateNode),\n    null !== alternate && detachDeletedInstance(alternate));\n  fiber.stateNode = null;\n  fiber.return = null;\n  fiber.dependencies = null;\n  fiber.memoizedProps = null;\n  fiber.memoizedState = null;\n  fiber.pendingProps = null;\n  fiber.stateNode = null;\n  fiber.updateQueue = null;\n}\nvar hostParent = null,\n  hostParentIsContainer = !1;\nfunction recursivelyTraverseDeletionEffects(\n  finishedRoot,\n  nearestMountedAncestor,\n  parent\n) {\n  for (parent = parent.child; null !== parent; )\n    commitDeletionEffectsOnFiber(finishedRoot, nearestMountedAncestor, parent),\n      (parent = parent.sibling);\n}\nfunction commitDeletionEffectsOnFiber(\n  finishedRoot,\n  nearestMountedAncestor,\n  deletedFiber\n) {\n  if (injectedHook && \"function\" === typeof injectedHook.onCommitFiberUnmount)\n    try {\n      injectedHook.onCommitFiberUnmount(rendererID, deletedFiber);\n    } catch (err) {}\n  switch (deletedFiber.tag) {\n    case 26:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      deletedFiber.memoizedState\n        ? deletedFiber.memoizedState.count--\n        : deletedFiber.stateNode &&\n          ((deletedFiber = deletedFiber.stateNode),\n          deletedFiber.parentNode.removeChild(deletedFiber));\n      break;\n    case 27:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n      var prevHostParent = hostParent,\n        prevHostParentIsContainer = hostParentIsContainer;\n      hostParent = deletedFiber.stateNode;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      deletedFiber = deletedFiber.stateNode;\n      for (\n        nearestMountedAncestor = deletedFiber.attributes;\n        nearestMountedAncestor.length;\n\n      )\n        deletedFiber.removeAttributeNode(nearestMountedAncestor[0]);\n      detachDeletedInstance(deletedFiber);\n      hostParent = prevHostParent;\n      hostParentIsContainer = prevHostParentIsContainer;\n      break;\n    case 5:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n    case 6:\n      prevHostParentIsContainer = hostParent;\n      var prevHostParentIsContainer$119 = hostParentIsContainer;\n      hostParent = null;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      hostParent = prevHostParentIsContainer;\n      hostParentIsContainer = prevHostParentIsContainer$119;\n      if (null !== hostParent)\n        if (hostParentIsContainer)\n          try {\n            (finishedRoot = hostParent),\n              (prevHostParent = deletedFiber.stateNode),\n              8 === finishedRoot.nodeType\n                ? finishedRoot.parentNode.removeChild(prevHostParent)\n                : finishedRoot.removeChild(prevHostParent);\n          } catch (error) {\n            captureCommitPhaseError(\n              deletedFiber,\n              nearestMountedAncestor,\n              error\n            );\n          }\n        else\n          try {\n            hostParent.removeChild(deletedFiber.stateNode);\n          } catch (error) {\n            captureCommitPhaseError(\n              deletedFiber,\n              nearestMountedAncestor,\n              error\n            );\n          }\n      break;\n    case 18:\n      null !== hostParent &&\n        (hostParentIsContainer\n          ? ((nearestMountedAncestor = hostParent),\n            (deletedFiber = deletedFiber.stateNode),\n            8 === nearestMountedAncestor.nodeType\n              ? clearSuspenseBoundary(\n                  nearestMountedAncestor.parentNode,\n                  deletedFiber\n                )\n              : 1 === nearestMountedAncestor.nodeType &&\n                clearSuspenseBoundary(nearestMountedAncestor, deletedFiber),\n            retryIfBlockedOn(nearestMountedAncestor))\n          : clearSuspenseBoundary(hostParent, deletedFiber.stateNode));\n      break;\n    case 4:\n      prevHostParent = hostParent;\n      prevHostParentIsContainer = hostParentIsContainer;\n      hostParent = deletedFiber.stateNode.containerInfo;\n      hostParentIsContainer = !0;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      hostParent = prevHostParent;\n      hostParentIsContainer = prevHostParentIsContainer;\n      break;\n    case 0:\n    case 11:\n    case 14:\n    case 15:\n      offscreenSubtreeWasHidden ||\n        commitHookEffectListUnmount(2, deletedFiber, nearestMountedAncestor);\n      offscreenSubtreeWasHidden ||\n        commitHookEffectListUnmount(4, deletedFiber, nearestMountedAncestor);\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      break;\n    case 1:\n      offscreenSubtreeWasHidden ||\n        (safelyDetachRef(deletedFiber, nearestMountedAncestor),\n        (prevHostParent = deletedFiber.stateNode),\n        \"function\" === typeof prevHostParent.componentWillUnmount &&\n          safelyCallComponentWillUnmount(\n            deletedFiber,\n            nearestMountedAncestor,\n            prevHostParent\n          ));\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      break;\n    case 21:\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      break;\n    case 22:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n      offscreenSubtreeWasHidden =\n        (prevHostParent = offscreenSubtreeWasHidden) ||\n        null !== deletedFiber.memoizedState;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      offscreenSubtreeWasHidden = prevHostParent;\n      break;\n    default:\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n  }\n}\nfunction commitSuspenseHydrationCallbacks(finishedRoot, finishedWork) {\n  if (\n    null === finishedWork.memoizedState &&\n    ((finishedRoot = finishedWork.alternate),\n    null !== finishedRoot &&\n      ((finishedRoot = finishedRoot.memoizedState),\n      null !== finishedRoot &&\n        ((finishedRoot = finishedRoot.dehydrated), null !== finishedRoot)))\n  )\n    try {\n      retryIfBlockedOn(finishedRoot);\n    } catch (error) {\n      captureCommitPhaseError(finishedWork, finishedWork.return, error);\n    }\n}\nfunction getRetryCache(finishedWork) {\n  switch (finishedWork.tag) {\n    case 13:\n    case 19:\n      var retryCache = finishedWork.stateNode;\n      null === retryCache &&\n        (retryCache = finishedWork.stateNode = new PossiblyWeakSet());\n      return retryCache;\n    case 22:\n      return (\n        (finishedWork = finishedWork.stateNode),\n        (retryCache = finishedWork._retryCache),\n        null === retryCache &&\n          (retryCache = finishedWork._retryCache = new PossiblyWeakSet()),\n        retryCache\n      );\n    default:\n      throw Error(formatProdErrorMessage(435, finishedWork.tag));\n  }\n}\nfunction attachSuspenseRetryListeners(finishedWork, wakeables) {\n  var retryCache = getRetryCache(finishedWork);\n  wakeables.forEach(function (wakeable) {\n    var retry = resolveRetryWakeable.bind(null, finishedWork, wakeable);\n    retryCache.has(wakeable) ||\n      (retryCache.add(wakeable), wakeable.then(retry, retry));\n  });\n}\nfunction recursivelyTraverseMutationEffects(root$jscomp$0, parentFiber) {\n  var deletions = parentFiber.deletions;\n  if (null !== deletions)\n    for (var i = 0; i < deletions.length; i++) {\n      var childToDelete = deletions[i],\n        root = root$jscomp$0,\n        returnFiber = parentFiber,\n        parent = returnFiber;\n      a: for (; null !== parent; ) {\n        switch (parent.tag) {\n          case 27:\n          case 5:\n            hostParent = parent.stateNode;\n            hostParentIsContainer = !1;\n            break a;\n          case 3:\n            hostParent = parent.stateNode.containerInfo;\n            hostParentIsContainer = !0;\n            break a;\n          case 4:\n            hostParent = parent.stateNode.containerInfo;\n            hostParentIsContainer = !0;\n            break a;\n        }\n        parent = parent.return;\n      }\n      if (null === hostParent) throw Error(formatProdErrorMessage(160));\n      commitDeletionEffectsOnFiber(root, returnFiber, childToDelete);\n      hostParent = null;\n      hostParentIsContainer = !1;\n      root = childToDelete.alternate;\n      null !== root && (root.return = null);\n      childToDelete.return = null;\n    }\n  if (parentFiber.subtreeFlags & 13878)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitMutationEffectsOnFiber(parentFiber, root$jscomp$0),\n        (parentFiber = parentFiber.sibling);\n}\nvar currentHoistableRoot = null;\nfunction commitMutationEffectsOnFiber(finishedWork, root) {\n  var current = finishedWork.alternate,\n    flags = finishedWork.flags;\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 14:\n    case 15:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 4 &&\n        (commitHookEffectListUnmount(3, finishedWork, finishedWork.return),\n        commitHookEffectListMount(3, finishedWork),\n        commitHookEffectListUnmount(5, finishedWork, finishedWork.return));\n      break;\n    case 1:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      flags & 64 &&\n        offscreenSubtreeIsHidden &&\n        ((finishedWork = finishedWork.updateQueue),\n        null !== finishedWork &&\n          ((flags = finishedWork.callbacks),\n          null !== flags &&\n            ((current = finishedWork.shared.hiddenCallbacks),\n            (finishedWork.shared.hiddenCallbacks =\n              null === current ? flags : current.concat(flags)))));\n      break;\n    case 26:\n      var hoistableRoot = currentHoistableRoot;\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      if (flags & 4) {\n        var currentResource = null !== current ? current.memoizedState : null;\n        flags = finishedWork.memoizedState;\n        if (null === current)\n          if (null === flags)\n            if (null === finishedWork.stateNode) {\n              a: {\n                flags = finishedWork.type;\n                current = finishedWork.memoizedProps;\n                hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;\n                b: switch (flags) {\n                  case \"title\":\n                    currentResource =\n                      hoistableRoot.getElementsByTagName(\"title\")[0];\n                    if (\n                      !currentResource ||\n                      currentResource[internalHoistableMarker] ||\n                      currentResource[internalInstanceKey] ||\n                      \"http://www.w3.org/2000/svg\" ===\n                        currentResource.namespaceURI ||\n                      currentResource.hasAttribute(\"itemprop\")\n                    )\n                      (currentResource = hoistableRoot.createElement(flags)),\n                        hoistableRoot.head.insertBefore(\n                          currentResource,\n                          hoistableRoot.querySelector(\"head > title\")\n                        );\n                    setInitialProperties(currentResource, flags, current);\n                    currentResource[internalInstanceKey] = finishedWork;\n                    markNodeAsHoistable(currentResource);\n                    flags = currentResource;\n                    break a;\n                  case \"link\":\n                    var maybeNodes = getHydratableHoistableCache(\n                      \"link\",\n                      \"href\",\n                      hoistableRoot\n                    ).get(flags + (current.href || \"\"));\n                    if (maybeNodes)\n                      for (var i = 0; i < maybeNodes.length; i++)\n                        if (\n                          ((currentResource = maybeNodes[i]),\n                          currentResource.getAttribute(\"href\") ===\n                            (null == current.href ? null : current.href) &&\n                            currentResource.getAttribute(\"rel\") ===\n                              (null == current.rel ? null : current.rel) &&\n                            currentResource.getAttribute(\"title\") ===\n                              (null == current.title ? null : current.title) &&\n                            currentResource.getAttribute(\"crossorigin\") ===\n                              (null == current.crossOrigin\n                                ? null\n                                : current.crossOrigin))\n                        ) {\n                          maybeNodes.splice(i, 1);\n                          break b;\n                        }\n                    currentResource = hoistableRoot.createElement(flags);\n                    setInitialProperties(currentResource, flags, current);\n                    hoistableRoot.head.appendChild(currentResource);\n                    break;\n                  case \"meta\":\n                    if (\n                      (maybeNodes = getHydratableHoistableCache(\n                        \"meta\",\n                        \"content\",\n                        hoistableRoot\n                      ).get(flags + (current.content || \"\")))\n                    )\n                      for (i = 0; i < maybeNodes.length; i++)\n                        if (\n                          ((currentResource = maybeNodes[i]),\n                          currentResource.getAttribute(\"content\") ===\n                            (null == current.content\n                              ? null\n                              : \"\" + current.content) &&\n                            currentResource.getAttribute(\"name\") ===\n                              (null == current.name ? null : current.name) &&\n                            currentResource.getAttribute(\"property\") ===\n                              (null == current.property\n                                ? null\n                                : current.property) &&\n                            currentResource.getAttribute(\"http-equiv\") ===\n                              (null == current.httpEquiv\n                                ? null\n                                : current.httpEquiv) &&\n                            currentResource.getAttribute(\"charset\") ===\n                              (null == current.charSet\n                                ? null\n                                : current.charSet))\n                        ) {\n                          maybeNodes.splice(i, 1);\n                          break b;\n                        }\n                    currentResource = hoistableRoot.createElement(flags);\n                    setInitialProperties(currentResource, flags, current);\n                    hoistableRoot.head.appendChild(currentResource);\n                    break;\n                  default:\n                    throw Error(formatProdErrorMessage(468, flags));\n                }\n                currentResource[internalInstanceKey] = finishedWork;\n                markNodeAsHoistable(currentResource);\n                flags = currentResource;\n              }\n              finishedWork.stateNode = flags;\n            } else\n              mountHoistable(\n                hoistableRoot,\n                finishedWork.type,\n                finishedWork.stateNode\n              );\n          else\n            finishedWork.stateNode = acquireResource(\n              hoistableRoot,\n              flags,\n              finishedWork.memoizedProps\n            );\n        else\n          currentResource !== flags\n            ? (null === currentResource\n                ? null !== current.stateNode &&\n                  ((current = current.stateNode),\n                  current.parentNode.removeChild(current))\n                : currentResource.count--,\n              null === flags\n                ? mountHoistable(\n                    hoistableRoot,\n                    finishedWork.type,\n                    finishedWork.stateNode\n                  )\n                : acquireResource(\n                    hoistableRoot,\n                    flags,\n                    finishedWork.memoizedProps\n                  ))\n            : null === flags &&\n              null !== finishedWork.stateNode &&\n              commitHostUpdate(\n                finishedWork,\n                finishedWork.memoizedProps,\n                current.memoizedProps\n              );\n      }\n      break;\n    case 27:\n      if (flags & 4 && null === finishedWork.alternate) {\n        hoistableRoot = finishedWork.stateNode;\n        currentResource = finishedWork.memoizedProps;\n        try {\n          for (var node = hoistableRoot.firstChild; node; ) {\n            var nextNode = node.nextSibling,\n              nodeName = node.nodeName;\n            node[internalHoistableMarker] ||\n              \"HEAD\" === nodeName ||\n              \"BODY\" === nodeName ||\n              \"SCRIPT\" === nodeName ||\n              \"STYLE\" === nodeName ||\n              (\"LINK\" === nodeName &&\n                \"stylesheet\" === node.rel.toLowerCase()) ||\n              hoistableRoot.removeChild(node);\n            node = nextNode;\n          }\n          for (\n            var type = finishedWork.type, attributes = hoistableRoot.attributes;\n            attributes.length;\n\n          )\n            hoistableRoot.removeAttributeNode(attributes[0]);\n          setInitialProperties(hoistableRoot, type, currentResource);\n          hoistableRoot[internalInstanceKey] = finishedWork;\n          hoistableRoot[internalPropsKey] = currentResource;\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n    case 5:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      if (finishedWork.flags & 32) {\n        hoistableRoot = finishedWork.stateNode;\n        try {\n          setTextContent(hoistableRoot, \"\");\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n      flags & 4 &&\n        null != finishedWork.stateNode &&\n        ((hoistableRoot = finishedWork.memoizedProps),\n        commitHostUpdate(\n          finishedWork,\n          hoistableRoot,\n          null !== current ? current.memoizedProps : hoistableRoot\n        ));\n      flags & 1024 && (needsFormReset = !0);\n      break;\n    case 6:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      if (flags & 4) {\n        if (null === finishedWork.stateNode)\n          throw Error(formatProdErrorMessage(162));\n        flags = finishedWork.memoizedProps;\n        current = finishedWork.stateNode;\n        try {\n          current.nodeValue = flags;\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n      break;\n    case 3:\n      tagCaches = null;\n      hoistableRoot = currentHoistableRoot;\n      currentHoistableRoot = getHoistableRoot(root.containerInfo);\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      currentHoistableRoot = hoistableRoot;\n      commitReconciliationEffects(finishedWork);\n      if (flags & 4 && null !== current && current.memoizedState.isDehydrated)\n        try {\n          retryIfBlockedOn(root.containerInfo);\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      needsFormReset &&\n        ((needsFormReset = !1), recursivelyResetForms(finishedWork));\n      break;\n    case 4:\n      flags = currentHoistableRoot;\n      currentHoistableRoot = getHoistableRoot(\n        finishedWork.stateNode.containerInfo\n      );\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      currentHoistableRoot = flags;\n      break;\n    case 12:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      break;\n    case 13:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      finishedWork.child.flags & 8192 &&\n        (null !== finishedWork.memoizedState) !==\n          (null !== current && null !== current.memoizedState) &&\n        (globalMostRecentFallbackTime = now());\n      flags & 4 &&\n        ((flags = finishedWork.updateQueue),\n        null !== flags &&\n          ((finishedWork.updateQueue = null),\n          attachSuspenseRetryListeners(finishedWork, flags)));\n      break;\n    case 22:\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      node = null !== finishedWork.memoizedState;\n      nextNode = null !== current && null !== current.memoizedState;\n      nodeName = offscreenSubtreeIsHidden;\n      type = offscreenSubtreeWasHidden;\n      offscreenSubtreeIsHidden = nodeName || node;\n      offscreenSubtreeWasHidden = type || nextNode;\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      offscreenSubtreeWasHidden = type;\n      offscreenSubtreeIsHidden = nodeName;\n      commitReconciliationEffects(finishedWork);\n      root = finishedWork.stateNode;\n      root._current = finishedWork;\n      root._visibility &= -3;\n      root._visibility |= root._pendingVisibility & 2;\n      if (\n        flags & 8192 &&\n        ((root._visibility = node\n          ? root._visibility & -2\n          : root._visibility | 1),\n        node &&\n          ((root = offscreenSubtreeIsHidden || offscreenSubtreeWasHidden),\n          null === current ||\n            nextNode ||\n            root ||\n            recursivelyTraverseDisappearLayoutEffects(finishedWork)),\n        null === finishedWork.memoizedProps ||\n          \"manual\" !== finishedWork.memoizedProps.mode)\n      )\n        a: for (current = null, root = finishedWork; ; ) {\n          if (5 === root.tag || 26 === root.tag || 27 === root.tag) {\n            if (null === current) {\n              nextNode = current = root;\n              try {\n                if (((hoistableRoot = nextNode.stateNode), node))\n                  (currentResource = hoistableRoot.style),\n                    \"function\" === typeof currentResource.setProperty\n                      ? currentResource.setProperty(\n                          \"display\",\n                          \"none\",\n                          \"important\"\n                        )\n                      : (currentResource.display = \"none\");\n                else {\n                  maybeNodes = nextNode.stateNode;\n                  i = nextNode.memoizedProps.style;\n                  var display =\n                    void 0 !== i && null !== i && i.hasOwnProperty(\"display\")\n                      ? i.display\n                      : null;\n                  maybeNodes.style.display =\n                    null == display || \"boolean\" === typeof display\n                      ? \"\"\n                      : (\"\" + display).trim();\n                }\n              } catch (error) {\n                captureCommitPhaseError(nextNode, nextNode.return, error);\n              }\n            }\n          } else if (6 === root.tag) {\n            if (null === current) {\n              nextNode = root;\n              try {\n                nextNode.stateNode.nodeValue = node\n                  ? \"\"\n                  : nextNode.memoizedProps;\n              } catch (error) {\n                captureCommitPhaseError(nextNode, nextNode.return, error);\n              }\n            }\n          } else if (\n            ((22 !== root.tag && 23 !== root.tag) ||\n              null === root.memoizedState ||\n              root === finishedWork) &&\n            null !== root.child\n          ) {\n            root.child.return = root;\n            root = root.child;\n            continue;\n          }\n          if (root === finishedWork) break a;\n          for (; null === root.sibling; ) {\n            if (null === root.return || root.return === finishedWork) break a;\n            current === root && (current = null);\n            root = root.return;\n          }\n          current === root && (current = null);\n          root.sibling.return = root.return;\n          root = root.sibling;\n        }\n      flags & 4 &&\n        ((flags = finishedWork.updateQueue),\n        null !== flags &&\n          ((current = flags.retryQueue),\n          null !== current &&\n            ((flags.retryQueue = null),\n            attachSuspenseRetryListeners(finishedWork, current))));\n      break;\n    case 19:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 4 &&\n        ((flags = finishedWork.updateQueue),\n        null !== flags &&\n          ((finishedWork.updateQueue = null),\n          attachSuspenseRetryListeners(finishedWork, flags)));\n      break;\n    case 21:\n      break;\n    default:\n      recursivelyTraverseMutationEffects(root, finishedWork),\n        commitReconciliationEffects(finishedWork);\n  }\n}\nfunction commitReconciliationEffects(finishedWork) {\n  var flags = finishedWork.flags;\n  if (flags & 2) {\n    try {\n      if (27 !== finishedWork.tag) {\n        a: {\n          for (var parent = finishedWork.return; null !== parent; ) {\n            if (isHostParent(parent)) {\n              var JSCompiler_inline_result = parent;\n              break a;\n            }\n            parent = parent.return;\n          }\n          throw Error(formatProdErrorMessage(160));\n        }\n        switch (JSCompiler_inline_result.tag) {\n          case 27:\n            var parent$jscomp$0 = JSCompiler_inline_result.stateNode,\n              before = getHostSibling(finishedWork);\n            insertOrAppendPlacementNode(finishedWork, before, parent$jscomp$0);\n            break;\n          case 5:\n            var parent$113 = JSCompiler_inline_result.stateNode;\n            JSCompiler_inline_result.flags & 32 &&\n              (setTextContent(parent$113, \"\"),\n              (JSCompiler_inline_result.flags &= -33));\n            var before$114 = getHostSibling(finishedWork);\n            insertOrAppendPlacementNode(finishedWork, before$114, parent$113);\n            break;\n          case 3:\n          case 4:\n            var parent$115 = JSCompiler_inline_result.stateNode.containerInfo,\n              before$116 = getHostSibling(finishedWork);\n            insertOrAppendPlacementNodeIntoContainer(\n              finishedWork,\n              before$116,\n              parent$115\n            );\n            break;\n          default:\n            throw Error(formatProdErrorMessage(161));\n        }\n      }\n    } catch (error) {\n      captureCommitPhaseError(finishedWork, finishedWork.return, error);\n    }\n    finishedWork.flags &= -3;\n  }\n  flags & 4096 && (finishedWork.flags &= -4097);\n}\nfunction recursivelyResetForms(parentFiber) {\n  if (parentFiber.subtreeFlags & 1024)\n    for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n      var fiber = parentFiber;\n      recursivelyResetForms(fiber);\n      5 === fiber.tag && fiber.flags & 1024 && fiber.stateNode.reset();\n      parentFiber = parentFiber.sibling;\n    }\n}\nfunction recursivelyTraverseLayoutEffects(root, parentFiber) {\n  if (parentFiber.subtreeFlags & 8772)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitLayoutEffectOnFiber(root, parentFiber.alternate, parentFiber),\n        (parentFiber = parentFiber.sibling);\n}\nfunction recursivelyTraverseDisappearLayoutEffects(parentFiber) {\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    var finishedWork = parentFiber;\n    switch (finishedWork.tag) {\n      case 0:\n      case 11:\n      case 14:\n      case 15:\n        commitHookEffectListUnmount(4, finishedWork, finishedWork.return);\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 1:\n        safelyDetachRef(finishedWork, finishedWork.return);\n        var instance = finishedWork.stateNode;\n        \"function\" === typeof instance.componentWillUnmount &&\n          safelyCallComponentWillUnmount(\n            finishedWork,\n            finishedWork.return,\n            instance\n          );\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 26:\n      case 27:\n      case 5:\n        safelyDetachRef(finishedWork, finishedWork.return);\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 22:\n        safelyDetachRef(finishedWork, finishedWork.return);\n        null === finishedWork.memoizedState &&\n          recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      default:\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction recursivelyTraverseReappearLayoutEffects(\n  finishedRoot$jscomp$0,\n  parentFiber,\n  includeWorkInProgressEffects\n) {\n  includeWorkInProgressEffects =\n    includeWorkInProgressEffects && 0 !== (parentFiber.subtreeFlags & 8772);\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    var current = parentFiber.alternate,\n      finishedRoot = finishedRoot$jscomp$0,\n      finishedWork = parentFiber,\n      flags = finishedWork.flags;\n    switch (finishedWork.tag) {\n      case 0:\n      case 11:\n      case 15:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        commitHookEffectListMount(4, finishedWork);\n        break;\n      case 1:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        current = finishedWork;\n        finishedRoot = current.stateNode;\n        if (\"function\" === typeof finishedRoot.componentDidMount)\n          try {\n            finishedRoot.componentDidMount();\n          } catch (error) {\n            captureCommitPhaseError(current, current.return, error);\n          }\n        current = finishedWork;\n        finishedRoot = current.updateQueue;\n        if (null !== finishedRoot) {\n          var instance = current.stateNode;\n          try {\n            var hiddenCallbacks = finishedRoot.shared.hiddenCallbacks;\n            if (null !== hiddenCallbacks)\n              for (\n                finishedRoot.shared.hiddenCallbacks = null, finishedRoot = 0;\n                finishedRoot < hiddenCallbacks.length;\n                finishedRoot++\n              )\n                callCallback(hiddenCallbacks[finishedRoot], instance);\n          } catch (error) {\n            captureCommitPhaseError(current, current.return, error);\n          }\n        }\n        includeWorkInProgressEffects &&\n          flags & 64 &&\n          commitClassCallbacks(finishedWork);\n        safelyAttachRef(finishedWork, finishedWork.return);\n        break;\n      case 26:\n      case 27:\n      case 5:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        includeWorkInProgressEffects &&\n          null === current &&\n          flags & 4 &&\n          commitHostMount(finishedWork);\n        safelyAttachRef(finishedWork, finishedWork.return);\n        break;\n      case 12:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        break;\n      case 13:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        includeWorkInProgressEffects &&\n          flags & 4 &&\n          commitSuspenseHydrationCallbacks(finishedRoot, finishedWork);\n        break;\n      case 22:\n        null === finishedWork.memoizedState &&\n          recursivelyTraverseReappearLayoutEffects(\n            finishedRoot,\n            finishedWork,\n            includeWorkInProgressEffects\n          );\n        safelyAttachRef(finishedWork, finishedWork.return);\n        break;\n      default:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction commitOffscreenPassiveMountEffects(current, finishedWork) {\n  var previousCache = null;\n  null !== current &&\n    null !== current.memoizedState &&\n    null !== current.memoizedState.cachePool &&\n    (previousCache = current.memoizedState.cachePool.pool);\n  current = null;\n  null !== finishedWork.memoizedState &&\n    null !== finishedWork.memoizedState.cachePool &&\n    (current = finishedWork.memoizedState.cachePool.pool);\n  current !== previousCache &&\n    (null != current && current.refCount++,\n    null != previousCache && releaseCache(previousCache));\n}\nfunction commitCachePassiveMountEffect(current, finishedWork) {\n  current = null;\n  null !== finishedWork.alternate &&\n    (current = finishedWork.alternate.memoizedState.cache);\n  finishedWork = finishedWork.memoizedState.cache;\n  finishedWork !== current &&\n    (finishedWork.refCount++, null != current && releaseCache(current));\n}\nfunction recursivelyTraversePassiveMountEffects(\n  root,\n  parentFiber,\n  committedLanes,\n  committedTransitions\n) {\n  if (parentFiber.subtreeFlags & 10256)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitPassiveMountOnFiber(\n        root,\n        parentFiber,\n        committedLanes,\n        committedTransitions\n      ),\n        (parentFiber = parentFiber.sibling);\n}\nfunction commitPassiveMountOnFiber(\n  finishedRoot,\n  finishedWork,\n  committedLanes,\n  committedTransitions\n) {\n  var flags = finishedWork.flags;\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 15:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      flags & 2048 && commitHookEffectListMount(9, finishedWork);\n      break;\n    case 3:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      flags & 2048 &&\n        ((finishedRoot = null),\n        null !== finishedWork.alternate &&\n          (finishedRoot = finishedWork.alternate.memoizedState.cache),\n        (finishedWork = finishedWork.memoizedState.cache),\n        finishedWork !== finishedRoot &&\n          (finishedWork.refCount++,\n          null != finishedRoot && releaseCache(finishedRoot)));\n      break;\n    case 12:\n      if (flags & 2048) {\n        recursivelyTraversePassiveMountEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions\n        );\n        finishedRoot = finishedWork.stateNode;\n        try {\n          var _finishedWork$memoize2 = finishedWork.memoizedProps,\n            id = _finishedWork$memoize2.id,\n            onPostCommit = _finishedWork$memoize2.onPostCommit;\n          \"function\" === typeof onPostCommit &&\n            onPostCommit(\n              id,\n              null === finishedWork.alternate ? \"mount\" : \"update\",\n              finishedRoot.passiveEffectDuration,\n              -0\n            );\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      } else\n        recursivelyTraversePassiveMountEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions\n        );\n      break;\n    case 23:\n      break;\n    case 22:\n      _finishedWork$memoize2 = finishedWork.stateNode;\n      null !== finishedWork.memoizedState\n        ? _finishedWork$memoize2._visibility & 4\n          ? recursivelyTraversePassiveMountEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions\n            )\n          : recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork)\n        : _finishedWork$memoize2._visibility & 4\n          ? recursivelyTraversePassiveMountEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions\n            )\n          : ((_finishedWork$memoize2._visibility |= 4),\n            recursivelyTraverseReconnectPassiveEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions,\n              0 !== (finishedWork.subtreeFlags & 10256)\n            ));\n      flags & 2048 &&\n        commitOffscreenPassiveMountEffects(\n          finishedWork.alternate,\n          finishedWork\n        );\n      break;\n    case 24:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      flags & 2048 &&\n        commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);\n      break;\n    default:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n  }\n}\nfunction recursivelyTraverseReconnectPassiveEffects(\n  finishedRoot$jscomp$0,\n  parentFiber,\n  committedLanes$jscomp$0,\n  committedTransitions$jscomp$0,\n  includeWorkInProgressEffects\n) {\n  includeWorkInProgressEffects =\n    includeWorkInProgressEffects && 0 !== (parentFiber.subtreeFlags & 10256);\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    var finishedRoot = finishedRoot$jscomp$0,\n      finishedWork = parentFiber,\n      committedLanes = committedLanes$jscomp$0,\n      committedTransitions = committedTransitions$jscomp$0,\n      flags = finishedWork.flags;\n    switch (finishedWork.tag) {\n      case 0:\n      case 11:\n      case 15:\n        recursivelyTraverseReconnectPassiveEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions,\n          includeWorkInProgressEffects\n        );\n        commitHookEffectListMount(8, finishedWork);\n        break;\n      case 23:\n        break;\n      case 22:\n        var instance = finishedWork.stateNode;\n        null !== finishedWork.memoizedState\n          ? instance._visibility & 4\n            ? recursivelyTraverseReconnectPassiveEffects(\n                finishedRoot,\n                finishedWork,\n                committedLanes,\n                committedTransitions,\n                includeWorkInProgressEffects\n              )\n            : recursivelyTraverseAtomicPassiveEffects(\n                finishedRoot,\n                finishedWork\n              )\n          : ((instance._visibility |= 4),\n            recursivelyTraverseReconnectPassiveEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions,\n              includeWorkInProgressEffects\n            ));\n        includeWorkInProgressEffects &&\n          flags & 2048 &&\n          commitOffscreenPassiveMountEffects(\n            finishedWork.alternate,\n            finishedWork\n          );\n        break;\n      case 24:\n        recursivelyTraverseReconnectPassiveEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions,\n          includeWorkInProgressEffects\n        );\n        includeWorkInProgressEffects &&\n          flags & 2048 &&\n          commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);\n        break;\n      default:\n        recursivelyTraverseReconnectPassiveEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions,\n          includeWorkInProgressEffects\n        );\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction recursivelyTraverseAtomicPassiveEffects(\n  finishedRoot$jscomp$0,\n  parentFiber\n) {\n  if (parentFiber.subtreeFlags & 10256)\n    for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n      var finishedRoot = finishedRoot$jscomp$0,\n        finishedWork = parentFiber,\n        flags = finishedWork.flags;\n      switch (finishedWork.tag) {\n        case 22:\n          recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork);\n          flags & 2048 &&\n            commitOffscreenPassiveMountEffects(\n              finishedWork.alternate,\n              finishedWork\n            );\n          break;\n        case 24:\n          recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork);\n          flags & 2048 &&\n            commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);\n          break;\n        default:\n          recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork);\n      }\n      parentFiber = parentFiber.sibling;\n    }\n}\nvar suspenseyCommitFlag = 8192;\nfunction recursivelyAccumulateSuspenseyCommit(parentFiber) {\n  if (parentFiber.subtreeFlags & suspenseyCommitFlag)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      accumulateSuspenseyCommitOnFiber(parentFiber),\n        (parentFiber = parentFiber.sibling);\n}\nfunction accumulateSuspenseyCommitOnFiber(fiber) {\n  switch (fiber.tag) {\n    case 26:\n      recursivelyAccumulateSuspenseyCommit(fiber);\n      fiber.flags & suspenseyCommitFlag &&\n        null !== fiber.memoizedState &&\n        suspendResource(\n          currentHoistableRoot,\n          fiber.memoizedState,\n          fiber.memoizedProps\n        );\n      break;\n    case 5:\n      recursivelyAccumulateSuspenseyCommit(fiber);\n      break;\n    case 3:\n    case 4:\n      var previousHoistableRoot = currentHoistableRoot;\n      currentHoistableRoot = getHoistableRoot(fiber.stateNode.containerInfo);\n      recursivelyAccumulateSuspenseyCommit(fiber);\n      currentHoistableRoot = previousHoistableRoot;\n      break;\n    case 22:\n      null === fiber.memoizedState &&\n        ((previousHoistableRoot = fiber.alternate),\n        null !== previousHoistableRoot &&\n        null !== previousHoistableRoot.memoizedState\n          ? ((previousHoistableRoot = suspenseyCommitFlag),\n            (suspenseyCommitFlag = 16777216),\n            recursivelyAccumulateSuspenseyCommit(fiber),\n            (suspenseyCommitFlag = previousHoistableRoot))\n          : recursivelyAccumulateSuspenseyCommit(fiber));\n      break;\n    default:\n      recursivelyAccumulateSuspenseyCommit(fiber);\n  }\n}\nfunction detachAlternateSiblings(parentFiber) {\n  var previousFiber = parentFiber.alternate;\n  if (\n    null !== previousFiber &&\n    ((parentFiber = previousFiber.child), null !== parentFiber)\n  ) {\n    previousFiber.child = null;\n    do\n      (previousFiber = parentFiber.sibling),\n        (parentFiber.sibling = null),\n        (parentFiber = previousFiber);\n    while (null !== parentFiber);\n  }\n}\nfunction recursivelyTraversePassiveUnmountEffects(parentFiber) {\n  var deletions = parentFiber.deletions;\n  if (0 !== (parentFiber.flags & 16)) {\n    if (null !== deletions)\n      for (var i = 0; i < deletions.length; i++) {\n        var childToDelete = deletions[i];\n        nextEffect = childToDelete;\n        commitPassiveUnmountEffectsInsideOfDeletedTree_begin(\n          childToDelete,\n          parentFiber\n        );\n      }\n    detachAlternateSiblings(parentFiber);\n  }\n  if (parentFiber.subtreeFlags & 10256)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitPassiveUnmountOnFiber(parentFiber),\n        (parentFiber = parentFiber.sibling);\n}\nfunction commitPassiveUnmountOnFiber(finishedWork) {\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 15:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n      finishedWork.flags & 2048 &&\n        commitHookEffectListUnmount(9, finishedWork, finishedWork.return);\n      break;\n    case 3:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n      break;\n    case 12:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n      break;\n    case 22:\n      var instance = finishedWork.stateNode;\n      null !== finishedWork.memoizedState &&\n      instance._visibility & 4 &&\n      (null === finishedWork.return || 13 !== finishedWork.return.tag)\n        ? ((instance._visibility &= -5),\n          recursivelyTraverseDisconnectPassiveEffects(finishedWork))\n        : recursivelyTraversePassiveUnmountEffects(finishedWork);\n      break;\n    default:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n  }\n}\nfunction recursivelyTraverseDisconnectPassiveEffects(parentFiber) {\n  var deletions = parentFiber.deletions;\n  if (0 !== (parentFiber.flags & 16)) {\n    if (null !== deletions)\n      for (var i = 0; i < deletions.length; i++) {\n        var childToDelete = deletions[i];\n        nextEffect = childToDelete;\n        commitPassiveUnmountEffectsInsideOfDeletedTree_begin(\n          childToDelete,\n          parentFiber\n        );\n      }\n    detachAlternateSiblings(parentFiber);\n  }\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    deletions = parentFiber;\n    switch (deletions.tag) {\n      case 0:\n      case 11:\n      case 15:\n        commitHookEffectListUnmount(8, deletions, deletions.return);\n        recursivelyTraverseDisconnectPassiveEffects(deletions);\n        break;\n      case 22:\n        i = deletions.stateNode;\n        i._visibility & 4 &&\n          ((i._visibility &= -5),\n          recursivelyTraverseDisconnectPassiveEffects(deletions));\n        break;\n      default:\n        recursivelyTraverseDisconnectPassiveEffects(deletions);\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction commitPassiveUnmountEffectsInsideOfDeletedTree_begin(\n  deletedSubtreeRoot,\n  nearestMountedAncestor\n) {\n  for (; null !== nextEffect; ) {\n    var fiber = nextEffect;\n    switch (fiber.tag) {\n      case 0:\n      case 11:\n      case 15:\n        commitHookEffectListUnmount(8, fiber, nearestMountedAncestor);\n        break;\n      case 23:\n      case 22:\n        if (\n          null !== fiber.memoizedState &&\n          null !== fiber.memoizedState.cachePool\n        ) {\n          var cache = fiber.memoizedState.cachePool.pool;\n          null != cache && cache.refCount++;\n        }\n        break;\n      case 24:\n        releaseCache(fiber.memoizedState.cache);\n    }\n    cache = fiber.child;\n    if (null !== cache) (cache.return = fiber), (nextEffect = cache);\n    else\n      a: for (fiber = deletedSubtreeRoot; null !== nextEffect; ) {\n        cache = nextEffect;\n        var sibling = cache.sibling,\n          returnFiber = cache.return;\n        detachFiberAfterEffects(cache);\n        if (cache === fiber) {\n          nextEffect = null;\n          break a;\n        }\n        if (null !== sibling) {\n          sibling.return = returnFiber;\n          nextEffect = sibling;\n          break a;\n        }\n        nextEffect = returnFiber;\n      }\n  }\n}\nfunction FiberNode(tag, pendingProps, key, mode) {\n  this.tag = tag;\n  this.key = key;\n  this.sibling =\n    this.child =\n    this.return =\n    this.stateNode =\n    this.type =\n    this.elementType =\n      null;\n  this.index = 0;\n  this.refCleanup = this.ref = null;\n  this.pendingProps = pendingProps;\n  this.dependencies =\n    this.memoizedState =\n    this.updateQueue =\n    this.memoizedProps =\n      null;\n  this.mode = mode;\n  this.subtreeFlags = this.flags = 0;\n  this.deletions = null;\n  this.childLanes = this.lanes = 0;\n  this.alternate = null;\n}\nfunction createFiberImplClass(tag, pendingProps, key, mode) {\n  return new FiberNode(tag, pendingProps, key, mode);\n}\nfunction shouldConstruct(Component) {\n  Component = Component.prototype;\n  return !(!Component || !Component.isReactComponent);\n}\nfunction createWorkInProgress(current, pendingProps) {\n  var workInProgress = current.alternate;\n  null === workInProgress\n    ? ((workInProgress = createFiberImplClass(\n        current.tag,\n        pendingProps,\n        current.key,\n        current.mode\n      )),\n      (workInProgress.elementType = current.elementType),\n      (workInProgress.type = current.type),\n      (workInProgress.stateNode = current.stateNode),\n      (workInProgress.alternate = current),\n      (current.alternate = workInProgress))\n    : ((workInProgress.pendingProps = pendingProps),\n      (workInProgress.type = current.type),\n      (workInProgress.flags = 0),\n      (workInProgress.subtreeFlags = 0),\n      (workInProgress.deletions = null));\n  workInProgress.flags = current.flags & 31457280;\n  workInProgress.childLanes = current.childLanes;\n  workInProgress.lanes = current.lanes;\n  workInProgress.child = current.child;\n  workInProgress.memoizedProps = current.memoizedProps;\n  workInProgress.memoizedState = current.memoizedState;\n  workInProgress.updateQueue = current.updateQueue;\n  pendingProps = current.dependencies;\n  workInProgress.dependencies =\n    null === pendingProps\n      ? null\n      : { lanes: pendingProps.lanes, firstContext: pendingProps.firstContext };\n  workInProgress.sibling = current.sibling;\n  workInProgress.index = current.index;\n  workInProgress.ref = current.ref;\n  workInProgress.refCleanup = current.refCleanup;\n  return workInProgress;\n}\nfunction resetWorkInProgress(workInProgress, renderLanes) {\n  workInProgress.flags &= 31457282;\n  var current = workInProgress.alternate;\n  null === current\n    ? ((workInProgress.childLanes = 0),\n      (workInProgress.lanes = renderLanes),\n      (workInProgress.child = null),\n      (workInProgress.subtreeFlags = 0),\n      (workInProgress.memoizedProps = null),\n      (workInProgress.memoizedState = null),\n      (workInProgress.updateQueue = null),\n      (workInProgress.dependencies = null),\n      (workInProgress.stateNode = null))\n    : ((workInProgress.childLanes = current.childLanes),\n      (workInProgress.lanes = current.lanes),\n      (workInProgress.child = current.child),\n      (workInProgress.subtreeFlags = 0),\n      (workInProgress.deletions = null),\n      (workInProgress.memoizedProps = current.memoizedProps),\n      (workInProgress.memoizedState = current.memoizedState),\n      (workInProgress.updateQueue = current.updateQueue),\n      (workInProgress.type = current.type),\n      (renderLanes = current.dependencies),\n      (workInProgress.dependencies =\n        null === renderLanes\n          ? null\n          : {\n              lanes: renderLanes.lanes,\n              firstContext: renderLanes.firstContext\n            }));\n  return workInProgress;\n}\nfunction createFiberFromTypeAndProps(\n  type,\n  key,\n  pendingProps,\n  owner,\n  mode,\n  lanes\n) {\n  var fiberTag = 0;\n  owner = type;\n  if (\"function\" === typeof type) shouldConstruct(type) && (fiberTag = 1);\n  else if (\"string\" === typeof type)\n    fiberTag = isHostHoistableType(\n      type,\n      pendingProps,\n      contextStackCursor.current\n    )\n      ? 26\n      : \"html\" === type || \"head\" === type || \"body\" === type\n        ? 27\n        : 5;\n  else\n    a: switch (type) {\n      case REACT_FRAGMENT_TYPE:\n        return createFiberFromFragment(pendingProps.children, mode, lanes, key);\n      case REACT_STRICT_MODE_TYPE:\n        fiberTag = 8;\n        mode |= 24;\n        break;\n      case REACT_PROFILER_TYPE:\n        return (\n          (type = createFiberImplClass(12, pendingProps, key, mode | 2)),\n          (type.elementType = REACT_PROFILER_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      case REACT_SUSPENSE_TYPE:\n        return (\n          (type = createFiberImplClass(13, pendingProps, key, mode)),\n          (type.elementType = REACT_SUSPENSE_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      case REACT_SUSPENSE_LIST_TYPE:\n        return (\n          (type = createFiberImplClass(19, pendingProps, key, mode)),\n          (type.elementType = REACT_SUSPENSE_LIST_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      case REACT_OFFSCREEN_TYPE:\n        return createFiberFromOffscreen(pendingProps, mode, lanes, key);\n      default:\n        if (\"object\" === typeof type && null !== type)\n          switch (type.$$typeof) {\n            case REACT_PROVIDER_TYPE:\n            case REACT_CONTEXT_TYPE:\n              fiberTag = 10;\n              break a;\n            case REACT_CONSUMER_TYPE:\n              fiberTag = 9;\n              break a;\n            case REACT_FORWARD_REF_TYPE:\n              fiberTag = 11;\n              break a;\n            case REACT_MEMO_TYPE:\n              fiberTag = 14;\n              break a;\n            case REACT_LAZY_TYPE:\n              fiberTag = 16;\n              owner = null;\n              break a;\n          }\n        fiberTag = 29;\n        pendingProps = Error(\n          formatProdErrorMessage(130, null === type ? \"null\" : typeof type, \"\")\n        );\n        owner = null;\n    }\n  key = createFiberImplClass(fiberTag, pendingProps, key, mode);\n  key.elementType = type;\n  key.type = owner;\n  key.lanes = lanes;\n  return key;\n}\nfunction createFiberFromFragment(elements, mode, lanes, key) {\n  elements = createFiberImplClass(7, elements, key, mode);\n  elements.lanes = lanes;\n  return elements;\n}\nfunction createFiberFromOffscreen(pendingProps, mode, lanes, key) {\n  pendingProps = createFiberImplClass(22, pendingProps, key, mode);\n  pendingProps.elementType = REACT_OFFSCREEN_TYPE;\n  pendingProps.lanes = lanes;\n  var primaryChildInstance = {\n    _visibility: 1,\n    _pendingVisibility: 1,\n    _pendingMarkers: null,\n    _retryCache: null,\n    _transitions: null,\n    _current: null,\n    detach: function () {\n      var fiber = primaryChildInstance._current;\n      if (null === fiber) throw Error(formatProdErrorMessage(456));\n      if (0 === (primaryChildInstance._pendingVisibility & 2)) {\n        var root = enqueueConcurrentRenderForLane(fiber, 2);\n        null !== root &&\n          ((primaryChildInstance._pendingVisibility |= 2),\n          scheduleUpdateOnFiber(root, fiber, 2));\n      }\n    },\n    attach: function () {\n      var fiber = primaryChildInstance._current;\n      if (null === fiber) throw Error(formatProdErrorMessage(456));\n      if (0 !== (primaryChildInstance._pendingVisibility & 2)) {\n        var root = enqueueConcurrentRenderForLane(fiber, 2);\n        null !== root &&\n          ((primaryChildInstance._pendingVisibility &= -3),\n          scheduleUpdateOnFiber(root, fiber, 2));\n      }\n    }\n  };\n  pendingProps.stateNode = primaryChildInstance;\n  return pendingProps;\n}\nfunction createFiberFromText(content, mode, lanes) {\n  content = createFiberImplClass(6, content, null, mode);\n  content.lanes = lanes;\n  return content;\n}\nfunction createFiberFromPortal(portal, mode, lanes) {\n  mode = createFiberImplClass(\n    4,\n    null !== portal.children ? portal.children : [],\n    portal.key,\n    mode\n  );\n  mode.lanes = lanes;\n  mode.stateNode = {\n    containerInfo: portal.containerInfo,\n    pendingChildren: null,\n    implementation: portal.implementation\n  };\n  return mode;\n}\nfunction markUpdate(workInProgress) {\n  workInProgress.flags |= 4;\n}\nfunction preloadResourceAndSuspendIfNeeded(workInProgress, resource) {\n  if (\"stylesheet\" !== resource.type || 0 !== (resource.state.loading & 4))\n    workInProgress.flags &= -16777217;\n  else if (((workInProgress.flags |= 16777216), !preloadResource(resource))) {\n    resource = suspenseHandlerStackCursor.current;\n    if (\n      null !== resource &&\n      ((workInProgressRootRenderLanes & 4194176) ===\n      workInProgressRootRenderLanes\n        ? null !== shellBoundary\n        : ((workInProgressRootRenderLanes & 62914560) !==\n            workInProgressRootRenderLanes &&\n            0 === (workInProgressRootRenderLanes & 536870912)) ||\n          resource !== shellBoundary)\n    )\n      throw (\n        ((suspendedThenable = noopSuspenseyCommitThenable),\n        SuspenseyCommitException)\n      );\n    workInProgress.flags |= 8192;\n  }\n}\nfunction scheduleRetryEffect(workInProgress, retryQueue) {\n  null !== retryQueue && (workInProgress.flags |= 4);\n  workInProgress.flags & 16384 &&\n    ((retryQueue =\n      22 !== workInProgress.tag ? claimNextRetryLane() : 536870912),\n    (workInProgress.lanes |= retryQueue),\n    (workInProgressSuspendedRetryLanes |= retryQueue));\n}\nfunction cutOffTailIfNeeded(renderState, hasRenderedATailFallback) {\n  if (!isHydrating)\n    switch (renderState.tailMode) {\n      case \"hidden\":\n        hasRenderedATailFallback = renderState.tail;\n        for (var lastTailNode = null; null !== hasRenderedATailFallback; )\n          null !== hasRenderedATailFallback.alternate &&\n            (lastTailNode = hasRenderedATailFallback),\n            (hasRenderedATailFallback = hasRenderedATailFallback.sibling);\n        null === lastTailNode\n          ? (renderState.tail = null)\n          : (lastTailNode.sibling = null);\n        break;\n      case \"collapsed\":\n        lastTailNode = renderState.tail;\n        for (var lastTailNode$131 = null; null !== lastTailNode; )\n          null !== lastTailNode.alternate && (lastTailNode$131 = lastTailNode),\n            (lastTailNode = lastTailNode.sibling);\n        null === lastTailNode$131\n          ? hasRenderedATailFallback || null === renderState.tail\n            ? (renderState.tail = null)\n            : (renderState.tail.sibling = null)\n          : (lastTailNode$131.sibling = null);\n    }\n}\nfunction bubbleProperties(completedWork) {\n  var didBailout =\n      null !== completedWork.alternate &&\n      completedWork.alternate.child === completedWork.child,\n    newChildLanes = 0,\n    subtreeFlags = 0;\n  if (didBailout)\n    for (var child$132 = completedWork.child; null !== child$132; )\n      (newChildLanes |= child$132.lanes | child$132.childLanes),\n        (subtreeFlags |= child$132.subtreeFlags & 31457280),\n        (subtreeFlags |= child$132.flags & 31457280),\n        (child$132.return = completedWork),\n        (child$132 = child$132.sibling);\n  else\n    for (child$132 = completedWork.child; null !== child$132; )\n      (newChildLanes |= child$132.lanes | child$132.childLanes),\n        (subtreeFlags |= child$132.subtreeFlags),\n        (subtreeFlags |= child$132.flags),\n        (child$132.return = completedWork),\n        (child$132 = child$132.sibling);\n  completedWork.subtreeFlags |= subtreeFlags;\n  completedWork.childLanes = newChildLanes;\n  return didBailout;\n}\nfunction completeWork(current, workInProgress, renderLanes) {\n  var newProps = workInProgress.pendingProps;\n  popTreeContext(workInProgress);\n  switch (workInProgress.tag) {\n    case 16:\n    case 15:\n    case 0:\n    case 11:\n    case 7:\n    case 8:\n    case 12:\n    case 9:\n    case 14:\n      return bubbleProperties(workInProgress), null;\n    case 1:\n      return bubbleProperties(workInProgress), null;\n    case 3:\n      renderLanes = workInProgress.stateNode;\n      newProps = null;\n      null !== current && (newProps = current.memoizedState.cache);\n      workInProgress.memoizedState.cache !== newProps &&\n        (workInProgress.flags |= 2048);\n      popProvider(CacheContext);\n      popHostContainer();\n      renderLanes.pendingContext &&\n        ((renderLanes.context = renderLanes.pendingContext),\n        (renderLanes.pendingContext = null));\n      if (null === current || null === current.child)\n        popHydrationState(workInProgress)\n          ? markUpdate(workInProgress)\n          : null === current ||\n            (current.memoizedState.isDehydrated &&\n              0 === (workInProgress.flags & 256)) ||\n            ((workInProgress.flags |= 1024),\n            null !== hydrationErrors &&\n              (queueRecoverableErrors(hydrationErrors),\n              (hydrationErrors = null)));\n      bubbleProperties(workInProgress);\n      return null;\n    case 26:\n      return (\n        (renderLanes = workInProgress.memoizedState),\n        null === current\n          ? (markUpdate(workInProgress),\n            null !== renderLanes\n              ? (bubbleProperties(workInProgress),\n                preloadResourceAndSuspendIfNeeded(workInProgress, renderLanes))\n              : (bubbleProperties(workInProgress),\n                (workInProgress.flags &= -16777217)))\n          : renderLanes\n            ? renderLanes !== current.memoizedState\n              ? (markUpdate(workInProgress),\n                bubbleProperties(workInProgress),\n                preloadResourceAndSuspendIfNeeded(workInProgress, renderLanes))\n              : (bubbleProperties(workInProgress),\n                (workInProgress.flags &= -16777217))\n            : (current.memoizedProps !== newProps && markUpdate(workInProgress),\n              bubbleProperties(workInProgress),\n              (workInProgress.flags &= -16777217)),\n        null\n      );\n    case 27:\n      popHostContext(workInProgress);\n      renderLanes = rootInstanceStackCursor.current;\n      var type = workInProgress.type;\n      if (null !== current && null != workInProgress.stateNode)\n        current.memoizedProps !== newProps && markUpdate(workInProgress);\n      else {\n        if (!newProps) {\n          if (null === workInProgress.stateNode)\n            throw Error(formatProdErrorMessage(166));\n          bubbleProperties(workInProgress);\n          return null;\n        }\n        current = contextStackCursor.current;\n        popHydrationState(workInProgress)\n          ? prepareToHydrateHostInstance(workInProgress, current)\n          : ((current = resolveSingletonInstance(type, newProps, renderLanes)),\n            (workInProgress.stateNode = current),\n            markUpdate(workInProgress));\n      }\n      bubbleProperties(workInProgress);\n      return null;\n    case 5:\n      popHostContext(workInProgress);\n      renderLanes = workInProgress.type;\n      if (null !== current && null != workInProgress.stateNode)\n        current.memoizedProps !== newProps && markUpdate(workInProgress);\n      else {\n        if (!newProps) {\n          if (null === workInProgress.stateNode)\n            throw Error(formatProdErrorMessage(166));\n          bubbleProperties(workInProgress);\n          return null;\n        }\n        current = contextStackCursor.current;\n        if (popHydrationState(workInProgress))\n          prepareToHydrateHostInstance(workInProgress, current);\n        else {\n          type = getOwnerDocumentFromRootContainer(\n            rootInstanceStackCursor.current\n          );\n          switch (current) {\n            case 1:\n              current = type.createElementNS(\n                \"http://www.w3.org/2000/svg\",\n                renderLanes\n              );\n              break;\n            case 2:\n              current = type.createElementNS(\n                \"http://www.w3.org/1998/Math/MathML\",\n                renderLanes\n              );\n              break;\n            default:\n              switch (renderLanes) {\n                case \"svg\":\n                  current = type.createElementNS(\n                    \"http://www.w3.org/2000/svg\",\n                    renderLanes\n                  );\n                  break;\n                case \"math\":\n                  current = type.createElementNS(\n                    \"http://www.w3.org/1998/Math/MathML\",\n                    renderLanes\n                  );\n                  break;\n                case \"script\":\n                  current = type.createElement(\"div\");\n                  current.innerHTML = \"<script>\\x3c/script>\";\n                  current = current.removeChild(current.firstChild);\n                  break;\n                case \"select\":\n                  current =\n                    \"string\" === typeof newProps.is\n                      ? type.createElement(\"select\", { is: newProps.is })\n                      : type.createElement(\"select\");\n                  newProps.multiple\n                    ? (current.multiple = !0)\n                    : newProps.size && (current.size = newProps.size);\n                  break;\n                default:\n                  current =\n                    \"string\" === typeof newProps.is\n                      ? type.createElement(renderLanes, { is: newProps.is })\n                      : type.createElement(renderLanes);\n              }\n          }\n          current[internalInstanceKey] = workInProgress;\n          current[internalPropsKey] = newProps;\n          a: for (type = workInProgress.child; null !== type; ) {\n            if (5 === type.tag || 6 === type.tag)\n              current.appendChild(type.stateNode);\n            else if (4 !== type.tag && 27 !== type.tag && null !== type.child) {\n              type.child.return = type;\n              type = type.child;\n              continue;\n            }\n            if (type === workInProgress) break a;\n            for (; null === type.sibling; ) {\n              if (null === type.return || type.return === workInProgress)\n                break a;\n              type = type.return;\n            }\n            type.sibling.return = type.return;\n            type = type.sibling;\n          }\n          workInProgress.stateNode = current;\n          a: switch (\n            (setInitialProperties(current, renderLanes, newProps), renderLanes)\n          ) {\n            case \"button\":\n            case \"input\":\n            case \"select\":\n            case \"textarea\":\n              current = !!newProps.autoFocus;\n              break a;\n            case \"img\":\n              current = !0;\n              break a;\n            default:\n              current = !1;\n          }\n          current && markUpdate(workInProgress);\n        }\n      }\n      bubbleProperties(workInProgress);\n      workInProgress.flags &= -16777217;\n      return null;\n    case 6:\n      if (current && null != workInProgress.stateNode)\n        current.memoizedProps !== newProps && markUpdate(workInProgress);\n      else {\n        if (\"string\" !== typeof newProps && null === workInProgress.stateNode)\n          throw Error(formatProdErrorMessage(166));\n        current = rootInstanceStackCursor.current;\n        if (popHydrationState(workInProgress)) {\n          current = workInProgress.stateNode;\n          renderLanes = workInProgress.memoizedProps;\n          newProps = null;\n          type = hydrationParentFiber;\n          if (null !== type)\n            switch (type.tag) {\n              case 27:\n              case 5:\n                newProps = type.memoizedProps;\n            }\n          current[internalInstanceKey] = workInProgress;\n          current =\n            current.nodeValue === renderLanes ||\n            (null !== newProps && !0 === newProps.suppressHydrationWarning) ||\n            checkForUnmatchedText(current.nodeValue, renderLanes)\n              ? !0\n              : !1;\n          current || throwOnHydrationMismatch(workInProgress);\n        } else\n          (current =\n            getOwnerDocumentFromRootContainer(current).createTextNode(\n              newProps\n            )),\n            (current[internalInstanceKey] = workInProgress),\n            (workInProgress.stateNode = current);\n      }\n      bubbleProperties(workInProgress);\n      return null;\n    case 13:\n      newProps = workInProgress.memoizedState;\n      if (\n        null === current ||\n        (null !== current.memoizedState &&\n          null !== current.memoizedState.dehydrated)\n      ) {\n        type = popHydrationState(workInProgress);\n        if (null !== newProps && null !== newProps.dehydrated) {\n          if (null === current) {\n            if (!type) throw Error(formatProdErrorMessage(318));\n            type = workInProgress.memoizedState;\n            type = null !== type ? type.dehydrated : null;\n            if (!type) throw Error(formatProdErrorMessage(317));\n            type[internalInstanceKey] = workInProgress;\n          } else\n            resetHydrationState(),\n              0 === (workInProgress.flags & 128) &&\n                (workInProgress.memoizedState = null),\n              (workInProgress.flags |= 4);\n          bubbleProperties(workInProgress);\n          type = !1;\n        } else\n          null !== hydrationErrors &&\n            (queueRecoverableErrors(hydrationErrors), (hydrationErrors = null)),\n            (type = !0);\n        if (!type) {\n          if (workInProgress.flags & 256)\n            return popSuspenseHandler(workInProgress), workInProgress;\n          popSuspenseHandler(workInProgress);\n          return null;\n        }\n      }\n      popSuspenseHandler(workInProgress);\n      if (0 !== (workInProgress.flags & 128))\n        return (workInProgress.lanes = renderLanes), workInProgress;\n      renderLanes = null !== newProps;\n      current = null !== current && null !== current.memoizedState;\n      if (renderLanes) {\n        newProps = workInProgress.child;\n        type = null;\n        null !== newProps.alternate &&\n          null !== newProps.alternate.memoizedState &&\n          null !== newProps.alternate.memoizedState.cachePool &&\n          (type = newProps.alternate.memoizedState.cachePool.pool);\n        var cache$144 = null;\n        null !== newProps.memoizedState &&\n          null !== newProps.memoizedState.cachePool &&\n          (cache$144 = newProps.memoizedState.cachePool.pool);\n        cache$144 !== type && (newProps.flags |= 2048);\n      }\n      renderLanes !== current &&\n        renderLanes &&\n        (workInProgress.child.flags |= 8192);\n      scheduleRetryEffect(workInProgress, workInProgress.updateQueue);\n      bubbleProperties(workInProgress);\n      return null;\n    case 4:\n      return (\n        popHostContainer(),\n        null === current &&\n          listenToAllSupportedEvents(workInProgress.stateNode.containerInfo),\n        bubbleProperties(workInProgress),\n        null\n      );\n    case 10:\n      return (\n        popProvider(workInProgress.type), bubbleProperties(workInProgress), null\n      );\n    case 19:\n      pop(suspenseStackCursor);\n      type = workInProgress.memoizedState;\n      if (null === type) return bubbleProperties(workInProgress), null;\n      newProps = 0 !== (workInProgress.flags & 128);\n      cache$144 = type.rendering;\n      if (null === cache$144)\n        if (newProps) cutOffTailIfNeeded(type, !1);\n        else {\n          if (\n            0 !== workInProgressRootExitStatus ||\n            (null !== current && 0 !== (current.flags & 128))\n          )\n            for (current = workInProgress.child; null !== current; ) {\n              cache$144 = findFirstSuspended(current);\n              if (null !== cache$144) {\n                workInProgress.flags |= 128;\n                cutOffTailIfNeeded(type, !1);\n                current = cache$144.updateQueue;\n                workInProgress.updateQueue = current;\n                scheduleRetryEffect(workInProgress, current);\n                workInProgress.subtreeFlags = 0;\n                current = renderLanes;\n                for (renderLanes = workInProgress.child; null !== renderLanes; )\n                  resetWorkInProgress(renderLanes, current),\n                    (renderLanes = renderLanes.sibling);\n                push(\n                  suspenseStackCursor,\n                  (suspenseStackCursor.current & 1) | 2\n                );\n                return workInProgress.child;\n              }\n              current = current.sibling;\n            }\n          null !== type.tail &&\n            now() > workInProgressRootRenderTargetTime &&\n            ((workInProgress.flags |= 128),\n            (newProps = !0),\n            cutOffTailIfNeeded(type, !1),\n            (workInProgress.lanes = 4194304));\n        }\n      else {\n        if (!newProps)\n          if (((current = findFirstSuspended(cache$144)), null !== current)) {\n            if (\n              ((workInProgress.flags |= 128),\n              (newProps = !0),\n              (current = current.updateQueue),\n              (workInProgress.updateQueue = current),\n              scheduleRetryEffect(workInProgress, current),\n              cutOffTailIfNeeded(type, !0),\n              null === type.tail &&\n                \"hidden\" === type.tailMode &&\n                !cache$144.alternate &&\n                !isHydrating)\n            )\n              return bubbleProperties(workInProgress), null;\n          } else\n            2 * now() - type.renderingStartTime >\n              workInProgressRootRenderTargetTime &&\n              536870912 !== renderLanes &&\n              ((workInProgress.flags |= 128),\n              (newProps = !0),\n              cutOffTailIfNeeded(type, !1),\n              (workInProgress.lanes = 4194304));\n        type.isBackwards\n          ? ((cache$144.sibling = workInProgress.child),\n            (workInProgress.child = cache$144))\n          : ((current = type.last),\n            null !== current\n              ? (current.sibling = cache$144)\n              : (workInProgress.child = cache$144),\n            (type.last = cache$144));\n      }\n      if (null !== type.tail)\n        return (\n          (workInProgress = type.tail),\n          (type.rendering = workInProgress),\n          (type.tail = workInProgress.sibling),\n          (type.renderingStartTime = now()),\n          (workInProgress.sibling = null),\n          (current = suspenseStackCursor.current),\n          push(suspenseStackCursor, newProps ? (current & 1) | 2 : current & 1),\n          workInProgress\n        );\n      bubbleProperties(workInProgress);\n      return null;\n    case 22:\n    case 23:\n      return (\n        popSuspenseHandler(workInProgress),\n        popHiddenContext(),\n        (newProps = null !== workInProgress.memoizedState),\n        null !== current\n          ? (null !== current.memoizedState) !== newProps &&\n            (workInProgress.flags |= 8192)\n          : newProps && (workInProgress.flags |= 8192),\n        newProps\n          ? 0 !== (renderLanes & 536870912) &&\n            0 === (workInProgress.flags & 128) &&\n            (bubbleProperties(workInProgress),\n            workInProgress.subtreeFlags & 6 && (workInProgress.flags |= 8192))\n          : bubbleProperties(workInProgress),\n        (renderLanes = workInProgress.updateQueue),\n        null !== renderLanes &&\n          scheduleRetryEffect(workInProgress, renderLanes.retryQueue),\n        (renderLanes = null),\n        null !== current &&\n          null !== current.memoizedState &&\n          null !== current.memoizedState.cachePool &&\n          (renderLanes = current.memoizedState.cachePool.pool),\n        (newProps = null),\n        null !== workInProgress.memoizedState &&\n          null !== workInProgress.memoizedState.cachePool &&\n          (newProps = workInProgress.memoizedState.cachePool.pool),\n        newProps !== renderLanes && (workInProgress.flags |= 2048),\n        null !== current && pop(resumedCache),\n        null\n      );\n    case 24:\n      return (\n        (renderLanes = null),\n        null !== current && (renderLanes = current.memoizedState.cache),\n        workInProgress.memoizedState.cache !== renderLanes &&\n          (workInProgress.flags |= 2048),\n        popProvider(CacheContext),\n        bubbleProperties(workInProgress),\n        null\n      );\n    case 25:\n      return null;\n  }\n  throw Error(formatProdErrorMessage(156, workInProgress.tag));\n}\nfunction unwindWork(current, workInProgress) {\n  popTreeContext(workInProgress);\n  switch (workInProgress.tag) {\n    case 1:\n      return (\n        (current = workInProgress.flags),\n        current & 65536\n          ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n          : null\n      );\n    case 3:\n      return (\n        popProvider(CacheContext),\n        popHostContainer(),\n        (current = workInProgress.flags),\n        0 !== (current & 65536) && 0 === (current & 128)\n          ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n          : null\n      );\n    case 26:\n    case 27:\n    case 5:\n      return popHostContext(workInProgress), null;\n    case 13:\n      popSuspenseHandler(workInProgress);\n      current = workInProgress.memoizedState;\n      if (null !== current && null !== current.dehydrated) {\n        if (null === workInProgress.alternate)\n          throw Error(formatProdErrorMessage(340));\n        resetHydrationState();\n      }\n      current = workInProgress.flags;\n      return current & 65536\n        ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n        : null;\n    case 19:\n      return pop(suspenseStackCursor), null;\n    case 4:\n      return popHostContainer(), null;\n    case 10:\n      return popProvider(workInProgress.type), null;\n    case 22:\n    case 23:\n      return (\n        popSuspenseHandler(workInProgress),\n        popHiddenContext(),\n        null !== current && pop(resumedCache),\n        (current = workInProgress.flags),\n        current & 65536\n          ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n          : null\n      );\n    case 24:\n      return popProvider(CacheContext), null;\n    case 25:\n      return null;\n    default:\n      return null;\n  }\n}\nfunction unwindInterruptedWork(current, interruptedWork) {\n  popTreeContext(interruptedWork);\n  switch (interruptedWork.tag) {\n    case 3:\n      popProvider(CacheContext);\n      popHostContainer();\n      break;\n    case 26:\n    case 27:\n    case 5:\n      popHostContext(interruptedWork);\n      break;\n    case 4:\n      popHostContainer();\n      break;\n    case 13:\n      popSuspenseHandler(interruptedWork);\n      break;\n    case 19:\n      pop(suspenseStackCursor);\n      break;\n    case 10:\n      popProvider(interruptedWork.type);\n      break;\n    case 22:\n    case 23:\n      popSuspenseHandler(interruptedWork);\n      popHiddenContext();\n      null !== current && pop(resumedCache);\n      break;\n    case 24:\n      popProvider(CacheContext);\n  }\n}\nvar DefaultAsyncDispatcher = {\n    getCacheForType: function (resourceType) {\n      var cache = readContext(CacheContext),\n        cacheForType = cache.data.get(resourceType);\n      void 0 === cacheForType &&\n        ((cacheForType = resourceType()),\n        cache.data.set(resourceType, cacheForType));\n      return cacheForType;\n    }\n  },\n  PossiblyWeakMap = \"function\" === typeof WeakMap ? WeakMap : Map,\n  executionContext = 0,\n  workInProgressRoot = null,\n  workInProgress = null,\n  workInProgressRootRenderLanes = 0,\n  workInProgressSuspendedReason = 0,\n  workInProgressThrownValue = null,\n  workInProgressRootDidSkipSuspendedSiblings = !1,\n  workInProgressRootIsPrerendering = !1,\n  workInProgressRootDidAttachPingListener = !1,\n  entangledRenderLanes = 0,\n  workInProgressRootExitStatus = 0,\n  workInProgressRootSkippedLanes = 0,\n  workInProgressRootInterleavedUpdatedLanes = 0,\n  workInProgressRootPingedLanes = 0,\n  workInProgressDeferredLane = 0,\n  workInProgressSuspendedRetryLanes = 0,\n  workInProgressRootConcurrentErrors = null,\n  workInProgressRootRecoverableErrors = null,\n  workInProgressRootDidIncludeRecursiveRenderUpdate = !1,\n  globalMostRecentFallbackTime = 0,\n  workInProgressRootRenderTargetTime = Infinity,\n  workInProgressTransitions = null,\n  legacyErrorBoundariesThatAlreadyFailed = null,\n  rootDoesHavePassiveEffects = !1,\n  rootWithPendingPassiveEffects = null,\n  pendingPassiveEffectsLanes = 0,\n  pendingPassiveEffectsRemainingLanes = 0,\n  pendingPassiveTransitions = null,\n  nestedUpdateCount = 0,\n  rootWithNestedUpdates = null;\nfunction requestUpdateLane() {\n  if (0 !== (executionContext & 2) && 0 !== workInProgressRootRenderLanes)\n    return workInProgressRootRenderLanes & -workInProgressRootRenderLanes;\n  if (null !== ReactSharedInternals.T) {\n    var actionScopeLane = currentEntangledLane;\n    return 0 !== actionScopeLane ? actionScopeLane : requestTransitionLane();\n  }\n  return resolveUpdatePriority();\n}\nfunction requestDeferredLane() {\n  0 === workInProgressDeferredLane &&\n    (workInProgressDeferredLane =\n      0 === (workInProgressRootRenderLanes & 536870912) || isHydrating\n        ? claimNextTransitionLane()\n        : 536870912);\n  var suspenseHandler = suspenseHandlerStackCursor.current;\n  null !== suspenseHandler && (suspenseHandler.flags |= 32);\n  return workInProgressDeferredLane;\n}\nfunction scheduleUpdateOnFiber(root, fiber, lane) {\n  if (\n    (root === workInProgressRoot && 2 === workInProgressSuspendedReason) ||\n    null !== root.cancelPendingCommit\n  )\n    prepareFreshStack(root, 0),\n      markRootSuspended(\n        root,\n        workInProgressRootRenderLanes,\n        workInProgressDeferredLane,\n        !1\n      );\n  markRootUpdated$1(root, lane);\n  if (0 === (executionContext & 2) || root !== workInProgressRoot)\n    root === workInProgressRoot &&\n      (0 === (executionContext & 2) &&\n        (workInProgressRootInterleavedUpdatedLanes |= lane),\n      4 === workInProgressRootExitStatus &&\n        markRootSuspended(\n          root,\n          workInProgressRootRenderLanes,\n          workInProgressDeferredLane,\n          !1\n        )),\n      ensureRootIsScheduled(root);\n}\nfunction performWorkOnRoot(root$jscomp$0, lanes, forceSync) {\n  if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(327));\n  var shouldTimeSlice =\n      (!forceSync &&\n        0 === (lanes & 60) &&\n        0 === (lanes & root$jscomp$0.expiredLanes)) ||\n      checkIfRootIsPrerendering(root$jscomp$0, lanes),\n    exitStatus = shouldTimeSlice\n      ? renderRootConcurrent(root$jscomp$0, lanes)\n      : renderRootSync(root$jscomp$0, lanes, !0),\n    renderWasConcurrent = shouldTimeSlice;\n  do {\n    if (0 === exitStatus) {\n      workInProgressRootIsPrerendering &&\n        !shouldTimeSlice &&\n        markRootSuspended(root$jscomp$0, lanes, 0, !1);\n      break;\n    } else if (6 === exitStatus)\n      markRootSuspended(\n        root$jscomp$0,\n        lanes,\n        0,\n        !workInProgressRootDidSkipSuspendedSiblings\n      );\n    else {\n      forceSync = root$jscomp$0.current.alternate;\n      if (\n        renderWasConcurrent &&\n        !isRenderConsistentWithExternalStores(forceSync)\n      ) {\n        exitStatus = renderRootSync(root$jscomp$0, lanes, !1);\n        renderWasConcurrent = !1;\n        continue;\n      }\n      if (2 === exitStatus) {\n        renderWasConcurrent = lanes;\n        if (root$jscomp$0.errorRecoveryDisabledLanes & renderWasConcurrent)\n          var JSCompiler_inline_result = 0;\n        else\n          (JSCompiler_inline_result = root$jscomp$0.pendingLanes & -536870913),\n            (JSCompiler_inline_result =\n              0 !== JSCompiler_inline_result\n                ? JSCompiler_inline_result\n                : JSCompiler_inline_result & 536870912\n                  ? 536870912\n                  : 0);\n        if (0 !== JSCompiler_inline_result) {\n          lanes = JSCompiler_inline_result;\n          a: {\n            var root = root$jscomp$0;\n            exitStatus = workInProgressRootConcurrentErrors;\n            var wasRootDehydrated = root.current.memoizedState.isDehydrated;\n            wasRootDehydrated &&\n              (prepareFreshStack(root, JSCompiler_inline_result).flags |= 256);\n            JSCompiler_inline_result = renderRootSync(\n              root,\n              JSCompiler_inline_result,\n              !1\n            );\n            if (2 !== JSCompiler_inline_result) {\n              if (\n                workInProgressRootDidAttachPingListener &&\n                !wasRootDehydrated\n              ) {\n                root.errorRecoveryDisabledLanes |= renderWasConcurrent;\n                workInProgressRootInterleavedUpdatedLanes |=\n                  renderWasConcurrent;\n                exitStatus = 4;\n                break a;\n              }\n              renderWasConcurrent = workInProgressRootRecoverableErrors;\n              workInProgressRootRecoverableErrors = exitStatus;\n              null !== renderWasConcurrent &&\n                queueRecoverableErrors(renderWasConcurrent);\n            }\n            exitStatus = JSCompiler_inline_result;\n          }\n          renderWasConcurrent = !1;\n          if (2 !== exitStatus) continue;\n        }\n      }\n      if (1 === exitStatus) {\n        prepareFreshStack(root$jscomp$0, 0);\n        markRootSuspended(root$jscomp$0, lanes, 0, !0);\n        break;\n      }\n      a: {\n        shouldTimeSlice = root$jscomp$0;\n        switch (exitStatus) {\n          case 0:\n          case 1:\n            throw Error(formatProdErrorMessage(345));\n          case 4:\n            if ((lanes & 4194176) === lanes) {\n              markRootSuspended(\n                shouldTimeSlice,\n                lanes,\n                workInProgressDeferredLane,\n                !workInProgressRootDidSkipSuspendedSiblings\n              );\n              break a;\n            }\n            break;\n          case 2:\n            workInProgressRootRecoverableErrors = null;\n            break;\n          case 3:\n          case 5:\n            break;\n          default:\n            throw Error(formatProdErrorMessage(329));\n        }\n        shouldTimeSlice.finishedWork = forceSync;\n        shouldTimeSlice.finishedLanes = lanes;\n        if (\n          (lanes & 62914560) === lanes &&\n          ((renderWasConcurrent = globalMostRecentFallbackTime + 300 - now()),\n          10 < renderWasConcurrent)\n        ) {\n          markRootSuspended(\n            shouldTimeSlice,\n            lanes,\n            workInProgressDeferredLane,\n            !workInProgressRootDidSkipSuspendedSiblings\n          );\n          if (0 !== getNextLanes(shouldTimeSlice, 0)) break a;\n          shouldTimeSlice.timeoutHandle = scheduleTimeout(\n            commitRootWhenReady.bind(\n              null,\n              shouldTimeSlice,\n              forceSync,\n              workInProgressRootRecoverableErrors,\n              workInProgressTransitions,\n              workInProgressRootDidIncludeRecursiveRenderUpdate,\n              lanes,\n              workInProgressDeferredLane,\n              workInProgressRootInterleavedUpdatedLanes,\n              workInProgressSuspendedRetryLanes,\n              workInProgressRootDidSkipSuspendedSiblings,\n              2,\n              -0,\n              0\n            ),\n            renderWasConcurrent\n          );\n          break a;\n        }\n        commitRootWhenReady(\n          shouldTimeSlice,\n          forceSync,\n          workInProgressRootRecoverableErrors,\n          workInProgressTransitions,\n          workInProgressRootDidIncludeRecursiveRenderUpdate,\n          lanes,\n          workInProgressDeferredLane,\n          workInProgressRootInterleavedUpdatedLanes,\n          workInProgressSuspendedRetryLanes,\n          workInProgressRootDidSkipSuspendedSiblings,\n          0,\n          -0,\n          0\n        );\n      }\n    }\n    break;\n  } while (1);\n  ensureRootIsScheduled(root$jscomp$0);\n}\nfunction queueRecoverableErrors(errors) {\n  null === workInProgressRootRecoverableErrors\n    ? (workInProgressRootRecoverableErrors = errors)\n    : workInProgressRootRecoverableErrors.push.apply(\n        workInProgressRootRecoverableErrors,\n        errors\n      );\n}\nfunction commitRootWhenReady(\n  root,\n  finishedWork,\n  recoverableErrors,\n  transitions,\n  didIncludeRenderPhaseUpdate,\n  lanes,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes,\n  didSkipSuspendedSiblings,\n  suspendedCommitReason,\n  completedRenderStartTime,\n  completedRenderEndTime\n) {\n  var subtreeFlags = finishedWork.subtreeFlags;\n  if (subtreeFlags & 8192 || 16785408 === (subtreeFlags & 16785408))\n    if (\n      ((suspendedState = { stylesheets: null, count: 0, unsuspend: noop }),\n      accumulateSuspenseyCommitOnFiber(finishedWork),\n      (finishedWork = waitForCommitToBeReady()),\n      null !== finishedWork)\n    ) {\n      root.cancelPendingCommit = finishedWork(\n        commitRoot.bind(\n          null,\n          root,\n          recoverableErrors,\n          transitions,\n          didIncludeRenderPhaseUpdate,\n          spawnedLane,\n          updatedLanes,\n          suspendedRetryLanes,\n          1,\n          completedRenderStartTime,\n          completedRenderEndTime\n        )\n      );\n      markRootSuspended(root, lanes, spawnedLane, !didSkipSuspendedSiblings);\n      return;\n    }\n  commitRoot(\n    root,\n    recoverableErrors,\n    transitions,\n    didIncludeRenderPhaseUpdate,\n    spawnedLane,\n    updatedLanes,\n    suspendedRetryLanes,\n    suspendedCommitReason,\n    completedRenderStartTime,\n    completedRenderEndTime\n  );\n}\nfunction isRenderConsistentWithExternalStores(finishedWork) {\n  for (var node = finishedWork; ; ) {\n    var tag = node.tag;\n    if (\n      (0 === tag || 11 === tag || 15 === tag) &&\n      node.flags & 16384 &&\n      ((tag = node.updateQueue),\n      null !== tag && ((tag = tag.stores), null !== tag))\n    )\n      for (var i = 0; i < tag.length; i++) {\n        var check = tag[i],\n          getSnapshot = check.getSnapshot;\n        check = check.value;\n        try {\n          if (!objectIs(getSnapshot(), check)) return !1;\n        } catch (error) {\n          return !1;\n        }\n      }\n    tag = node.child;\n    if (node.subtreeFlags & 16384 && null !== tag)\n      (tag.return = node), (node = tag);\n    else {\n      if (node === finishedWork) break;\n      for (; null === node.sibling; ) {\n        if (null === node.return || node.return === finishedWork) return !0;\n        node = node.return;\n      }\n      node.sibling.return = node.return;\n      node = node.sibling;\n    }\n  }\n  return !0;\n}\nfunction markRootSuspended(\n  root,\n  suspendedLanes,\n  spawnedLane,\n  didAttemptEntireTree\n) {\n  suspendedLanes &= ~workInProgressRootPingedLanes;\n  suspendedLanes &= ~workInProgressRootInterleavedUpdatedLanes;\n  root.suspendedLanes |= suspendedLanes;\n  root.pingedLanes &= ~suspendedLanes;\n  didAttemptEntireTree && (root.warmLanes |= suspendedLanes);\n  didAttemptEntireTree = root.expirationTimes;\n  for (var lanes = suspendedLanes; 0 < lanes; ) {\n    var index$6 = 31 - clz32(lanes),\n      lane = 1 << index$6;\n    didAttemptEntireTree[index$6] = -1;\n    lanes &= ~lane;\n  }\n  0 !== spawnedLane &&\n    markSpawnedDeferredLane(root, spawnedLane, suspendedLanes);\n}\nfunction flushSyncWork$1() {\n  return 0 === (executionContext & 6)\n    ? (flushSyncWorkAcrossRoots_impl(0, !1), !1)\n    : !0;\n}\nfunction resetWorkInProgressStack() {\n  if (null !== workInProgress) {\n    if (0 === workInProgressSuspendedReason)\n      var interruptedWork = workInProgress.return;\n    else\n      (interruptedWork = workInProgress),\n        (lastContextDependency = currentlyRenderingFiber = null),\n        resetHooksOnUnwind(interruptedWork),\n        (thenableState$1 = null),\n        (thenableIndexCounter$1 = 0),\n        (interruptedWork = workInProgress);\n    for (; null !== interruptedWork; )\n      unwindInterruptedWork(interruptedWork.alternate, interruptedWork),\n        (interruptedWork = interruptedWork.return);\n    workInProgress = null;\n  }\n}\nfunction prepareFreshStack(root, lanes) {\n  root.finishedWork = null;\n  root.finishedLanes = 0;\n  var timeoutHandle = root.timeoutHandle;\n  -1 !== timeoutHandle &&\n    ((root.timeoutHandle = -1), cancelTimeout(timeoutHandle));\n  timeoutHandle = root.cancelPendingCommit;\n  null !== timeoutHandle &&\n    ((root.cancelPendingCommit = null), timeoutHandle());\n  resetWorkInProgressStack();\n  workInProgressRoot = root;\n  workInProgress = timeoutHandle = createWorkInProgress(root.current, null);\n  workInProgressRootRenderLanes = lanes;\n  workInProgressSuspendedReason = 0;\n  workInProgressThrownValue = null;\n  workInProgressRootDidSkipSuspendedSiblings = !1;\n  workInProgressRootIsPrerendering = checkIfRootIsPrerendering(root, lanes);\n  workInProgressRootDidAttachPingListener = !1;\n  workInProgressSuspendedRetryLanes =\n    workInProgressDeferredLane =\n    workInProgressRootPingedLanes =\n    workInProgressRootInterleavedUpdatedLanes =\n    workInProgressRootSkippedLanes =\n    workInProgressRootExitStatus =\n      0;\n  workInProgressRootRecoverableErrors = workInProgressRootConcurrentErrors =\n    null;\n  workInProgressRootDidIncludeRecursiveRenderUpdate = !1;\n  0 !== (lanes & 8) && (lanes |= lanes & 32);\n  var allEntangledLanes = root.entangledLanes;\n  if (0 !== allEntangledLanes)\n    for (\n      root = root.entanglements, allEntangledLanes &= lanes;\n      0 < allEntangledLanes;\n\n    ) {\n      var index$4 = 31 - clz32(allEntangledLanes),\n        lane = 1 << index$4;\n      lanes |= root[index$4];\n      allEntangledLanes &= ~lane;\n    }\n  entangledRenderLanes = lanes;\n  finishQueueingConcurrentUpdates();\n  return timeoutHandle;\n}\nfunction handleThrow(root, thrownValue) {\n  currentlyRenderingFiber$1 = null;\n  ReactSharedInternals.H = ContextOnlyDispatcher;\n  thrownValue === SuspenseException\n    ? ((thrownValue = getSuspendedThenable()),\n      (workInProgressSuspendedReason = 3))\n    : thrownValue === SuspenseyCommitException\n      ? ((thrownValue = getSuspendedThenable()),\n        (workInProgressSuspendedReason = 4))\n      : (workInProgressSuspendedReason =\n          thrownValue === SelectiveHydrationException\n            ? 8\n            : null !== thrownValue &&\n                \"object\" === typeof thrownValue &&\n                \"function\" === typeof thrownValue.then\n              ? 6\n              : 1);\n  workInProgressThrownValue = thrownValue;\n  null === workInProgress &&\n    ((workInProgressRootExitStatus = 1),\n    logUncaughtError(\n      root,\n      createCapturedValueAtFiber(thrownValue, root.current)\n    ));\n}\nfunction pushDispatcher() {\n  var prevDispatcher = ReactSharedInternals.H;\n  ReactSharedInternals.H = ContextOnlyDispatcher;\n  return null === prevDispatcher ? ContextOnlyDispatcher : prevDispatcher;\n}\nfunction pushAsyncDispatcher() {\n  var prevAsyncDispatcher = ReactSharedInternals.A;\n  ReactSharedInternals.A = DefaultAsyncDispatcher;\n  return prevAsyncDispatcher;\n}\nfunction renderDidSuspendDelayIfPossible() {\n  workInProgressRootExitStatus = 4;\n  workInProgressRootDidSkipSuspendedSiblings ||\n    ((workInProgressRootRenderLanes & 4194176) !==\n      workInProgressRootRenderLanes &&\n      null !== suspenseHandlerStackCursor.current) ||\n    (workInProgressRootIsPrerendering = !0);\n  (0 === (workInProgressRootSkippedLanes & 134217727) &&\n    0 === (workInProgressRootInterleavedUpdatedLanes & 134217727)) ||\n    null === workInProgressRoot ||\n    markRootSuspended(\n      workInProgressRoot,\n      workInProgressRootRenderLanes,\n      workInProgressDeferredLane,\n      !1\n    );\n}\nfunction renderRootSync(root, lanes, shouldYieldForPrerendering) {\n  var prevExecutionContext = executionContext;\n  executionContext |= 2;\n  var prevDispatcher = pushDispatcher(),\n    prevAsyncDispatcher = pushAsyncDispatcher();\n  if (workInProgressRoot !== root || workInProgressRootRenderLanes !== lanes)\n    (workInProgressTransitions = null), prepareFreshStack(root, lanes);\n  lanes = !1;\n  var exitStatus = workInProgressRootExitStatus;\n  a: do\n    try {\n      if (0 !== workInProgressSuspendedReason && null !== workInProgress) {\n        var unitOfWork = workInProgress,\n          thrownValue = workInProgressThrownValue;\n        switch (workInProgressSuspendedReason) {\n          case 8:\n            resetWorkInProgressStack();\n            exitStatus = 6;\n            break a;\n          case 3:\n          case 2:\n          case 6:\n            null === suspenseHandlerStackCursor.current && (lanes = !0);\n            var reason = workInProgressSuspendedReason;\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, unitOfWork, thrownValue, reason);\n            if (\n              shouldYieldForPrerendering &&\n              workInProgressRootIsPrerendering\n            ) {\n              exitStatus = 0;\n              break a;\n            }\n            break;\n          default:\n            (reason = workInProgressSuspendedReason),\n              (workInProgressSuspendedReason = 0),\n              (workInProgressThrownValue = null),\n              throwAndUnwindWorkLoop(root, unitOfWork, thrownValue, reason);\n        }\n      }\n      workLoopSync();\n      exitStatus = workInProgressRootExitStatus;\n      break;\n    } catch (thrownValue$164) {\n      handleThrow(root, thrownValue$164);\n    }\n  while (1);\n  lanes && root.shellSuspendCounter++;\n  lastContextDependency = currentlyRenderingFiber = null;\n  executionContext = prevExecutionContext;\n  ReactSharedInternals.H = prevDispatcher;\n  ReactSharedInternals.A = prevAsyncDispatcher;\n  null === workInProgress &&\n    ((workInProgressRoot = null),\n    (workInProgressRootRenderLanes = 0),\n    finishQueueingConcurrentUpdates());\n  return exitStatus;\n}\nfunction workLoopSync() {\n  for (; null !== workInProgress; ) performUnitOfWork(workInProgress);\n}\nfunction renderRootConcurrent(root, lanes) {\n  var prevExecutionContext = executionContext;\n  executionContext |= 2;\n  var prevDispatcher = pushDispatcher(),\n    prevAsyncDispatcher = pushAsyncDispatcher();\n  workInProgressRoot !== root || workInProgressRootRenderLanes !== lanes\n    ? ((workInProgressTransitions = null),\n      (workInProgressRootRenderTargetTime = now() + 500),\n      prepareFreshStack(root, lanes))\n    : (workInProgressRootIsPrerendering = checkIfRootIsPrerendering(\n        root,\n        lanes\n      ));\n  a: do\n    try {\n      if (0 !== workInProgressSuspendedReason && null !== workInProgress) {\n        lanes = workInProgress;\n        var thrownValue = workInProgressThrownValue;\n        b: switch (workInProgressSuspendedReason) {\n          case 1:\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, lanes, thrownValue, 1);\n            break;\n          case 2:\n            if (isThenableResolved(thrownValue)) {\n              workInProgressSuspendedReason = 0;\n              workInProgressThrownValue = null;\n              replaySuspendedUnitOfWork(lanes);\n              break;\n            }\n            lanes = function () {\n              2 === workInProgressSuspendedReason &&\n                workInProgressRoot === root &&\n                (workInProgressSuspendedReason = 7);\n              ensureRootIsScheduled(root);\n            };\n            thrownValue.then(lanes, lanes);\n            break a;\n          case 3:\n            workInProgressSuspendedReason = 7;\n            break a;\n          case 4:\n            workInProgressSuspendedReason = 5;\n            break a;\n          case 7:\n            isThenableResolved(thrownValue)\n              ? ((workInProgressSuspendedReason = 0),\n                (workInProgressThrownValue = null),\n                replaySuspendedUnitOfWork(lanes))\n              : ((workInProgressSuspendedReason = 0),\n                (workInProgressThrownValue = null),\n                throwAndUnwindWorkLoop(root, lanes, thrownValue, 7));\n            break;\n          case 5:\n            var resource = null;\n            switch (workInProgress.tag) {\n              case 26:\n                resource = workInProgress.memoizedState;\n              case 5:\n              case 27:\n                var hostFiber = workInProgress;\n                if (resource ? preloadResource(resource) : 1) {\n                  workInProgressSuspendedReason = 0;\n                  workInProgressThrownValue = null;\n                  var sibling = hostFiber.sibling;\n                  if (null !== sibling) workInProgress = sibling;\n                  else {\n                    var returnFiber = hostFiber.return;\n                    null !== returnFiber\n                      ? ((workInProgress = returnFiber),\n                        completeUnitOfWork(returnFiber))\n                      : (workInProgress = null);\n                  }\n                  break b;\n                }\n            }\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, lanes, thrownValue, 5);\n            break;\n          case 6:\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, lanes, thrownValue, 6);\n            break;\n          case 8:\n            resetWorkInProgressStack();\n            workInProgressRootExitStatus = 6;\n            break a;\n          default:\n            throw Error(formatProdErrorMessage(462));\n        }\n      }\n      workLoopConcurrent();\n      break;\n    } catch (thrownValue$166) {\n      handleThrow(root, thrownValue$166);\n    }\n  while (1);\n  lastContextDependency = currentlyRenderingFiber = null;\n  ReactSharedInternals.H = prevDispatcher;\n  ReactSharedInternals.A = prevAsyncDispatcher;\n  executionContext = prevExecutionContext;\n  if (null !== workInProgress) return 0;\n  workInProgressRoot = null;\n  workInProgressRootRenderLanes = 0;\n  finishQueueingConcurrentUpdates();\n  return workInProgressRootExitStatus;\n}\nfunction workLoopConcurrent() {\n  for (; null !== workInProgress && !shouldYield(); )\n    performUnitOfWork(workInProgress);\n}\nfunction performUnitOfWork(unitOfWork) {\n  var next = beginWork(unitOfWork.alternate, unitOfWork, entangledRenderLanes);\n  unitOfWork.memoizedProps = unitOfWork.pendingProps;\n  null === next ? completeUnitOfWork(unitOfWork) : (workInProgress = next);\n}\nfunction replaySuspendedUnitOfWork(unitOfWork) {\n  var next = unitOfWork;\n  var current = next.alternate;\n  switch (next.tag) {\n    case 15:\n    case 0:\n      next = replayFunctionComponent(\n        current,\n        next,\n        next.pendingProps,\n        next.type,\n        void 0,\n        workInProgressRootRenderLanes\n      );\n      break;\n    case 11:\n      next = replayFunctionComponent(\n        current,\n        next,\n        next.pendingProps,\n        next.type.render,\n        next.ref,\n        workInProgressRootRenderLanes\n      );\n      break;\n    case 5:\n      resetHooksOnUnwind(next);\n    default:\n      unwindInterruptedWork(current, next),\n        (next = workInProgress =\n          resetWorkInProgress(next, entangledRenderLanes)),\n        (next = beginWork(current, next, entangledRenderLanes));\n  }\n  unitOfWork.memoizedProps = unitOfWork.pendingProps;\n  null === next ? completeUnitOfWork(unitOfWork) : (workInProgress = next);\n}\nfunction throwAndUnwindWorkLoop(\n  root,\n  unitOfWork,\n  thrownValue,\n  suspendedReason\n) {\n  lastContextDependency = currentlyRenderingFiber = null;\n  resetHooksOnUnwind(unitOfWork);\n  thenableState$1 = null;\n  thenableIndexCounter$1 = 0;\n  var returnFiber = unitOfWork.return;\n  try {\n    if (\n      throwException(\n        root,\n        returnFiber,\n        unitOfWork,\n        thrownValue,\n        workInProgressRootRenderLanes\n      )\n    ) {\n      workInProgressRootExitStatus = 1;\n      logUncaughtError(\n        root,\n        createCapturedValueAtFiber(thrownValue, root.current)\n      );\n      workInProgress = null;\n      return;\n    }\n  } catch (error) {\n    if (null !== returnFiber) throw ((workInProgress = returnFiber), error);\n    workInProgressRootExitStatus = 1;\n    logUncaughtError(\n      root,\n      createCapturedValueAtFiber(thrownValue, root.current)\n    );\n    workInProgress = null;\n    return;\n  }\n  if (unitOfWork.flags & 32768) {\n    if (isHydrating || 1 === suspendedReason) root = !0;\n    else if (\n      workInProgressRootIsPrerendering ||\n      0 !== (workInProgressRootRenderLanes & 536870912)\n    )\n      root = !1;\n    else if (\n      ((workInProgressRootDidSkipSuspendedSiblings = root = !0),\n      2 === suspendedReason || 3 === suspendedReason || 6 === suspendedReason)\n    )\n      (suspendedReason = suspenseHandlerStackCursor.current),\n        null !== suspendedReason &&\n          13 === suspendedReason.tag &&\n          (suspendedReason.flags |= 16384);\n    unwindUnitOfWork(unitOfWork, root);\n  } else completeUnitOfWork(unitOfWork);\n}\nfunction completeUnitOfWork(unitOfWork) {\n  var completedWork = unitOfWork;\n  do {\n    if (0 !== (completedWork.flags & 32768)) {\n      unwindUnitOfWork(\n        completedWork,\n        workInProgressRootDidSkipSuspendedSiblings\n      );\n      return;\n    }\n    unitOfWork = completedWork.return;\n    var next = completeWork(\n      completedWork.alternate,\n      completedWork,\n      entangledRenderLanes\n    );\n    if (null !== next) {\n      workInProgress = next;\n      return;\n    }\n    completedWork = completedWork.sibling;\n    if (null !== completedWork) {\n      workInProgress = completedWork;\n      return;\n    }\n    workInProgress = completedWork = unitOfWork;\n  } while (null !== completedWork);\n  0 === workInProgressRootExitStatus && (workInProgressRootExitStatus = 5);\n}\nfunction unwindUnitOfWork(unitOfWork, skipSiblings) {\n  do {\n    var next = unwindWork(unitOfWork.alternate, unitOfWork);\n    if (null !== next) {\n      next.flags &= 32767;\n      workInProgress = next;\n      return;\n    }\n    next = unitOfWork.return;\n    null !== next &&\n      ((next.flags |= 32768), (next.subtreeFlags = 0), (next.deletions = null));\n    if (\n      !skipSiblings &&\n      ((unitOfWork = unitOfWork.sibling), null !== unitOfWork)\n    ) {\n      workInProgress = unitOfWork;\n      return;\n    }\n    workInProgress = unitOfWork = next;\n  } while (null !== unitOfWork);\n  workInProgressRootExitStatus = 6;\n  workInProgress = null;\n}\nfunction commitRoot(\n  root,\n  recoverableErrors,\n  transitions,\n  didIncludeRenderPhaseUpdate,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes,\n  suspendedCommitReason,\n  completedRenderStartTime,\n  completedRenderEndTime\n) {\n  var prevTransition = ReactSharedInternals.T,\n    previousUpdateLanePriority = ReactDOMSharedInternals.p;\n  try {\n    (ReactDOMSharedInternals.p = 2),\n      (ReactSharedInternals.T = null),\n      commitRootImpl(\n        root,\n        recoverableErrors,\n        transitions,\n        didIncludeRenderPhaseUpdate,\n        previousUpdateLanePriority,\n        spawnedLane,\n        updatedLanes,\n        suspendedRetryLanes,\n        suspendedCommitReason,\n        completedRenderStartTime,\n        completedRenderEndTime\n      );\n  } finally {\n    (ReactSharedInternals.T = prevTransition),\n      (ReactDOMSharedInternals.p = previousUpdateLanePriority);\n  }\n}\nfunction commitRootImpl(\n  root,\n  recoverableErrors,\n  transitions,\n  didIncludeRenderPhaseUpdate,\n  renderPriorityLevel,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes\n) {\n  do flushPassiveEffects();\n  while (null !== rootWithPendingPassiveEffects);\n  if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(327));\n  var finishedWork = root.finishedWork;\n  didIncludeRenderPhaseUpdate = root.finishedLanes;\n  if (null === finishedWork) return null;\n  root.finishedWork = null;\n  root.finishedLanes = 0;\n  if (finishedWork === root.current) throw Error(formatProdErrorMessage(177));\n  root.callbackNode = null;\n  root.callbackPriority = 0;\n  root.cancelPendingCommit = null;\n  var remainingLanes = finishedWork.lanes | finishedWork.childLanes;\n  remainingLanes |= concurrentlyUpdatedLanes;\n  markRootFinished(\n    root,\n    didIncludeRenderPhaseUpdate,\n    remainingLanes,\n    spawnedLane,\n    updatedLanes,\n    suspendedRetryLanes\n  );\n  root === workInProgressRoot &&\n    ((workInProgress = workInProgressRoot = null),\n    (workInProgressRootRenderLanes = 0));\n  (0 === (finishedWork.subtreeFlags & 10256) &&\n    0 === (finishedWork.flags & 10256)) ||\n    rootDoesHavePassiveEffects ||\n    ((rootDoesHavePassiveEffects = !0),\n    (pendingPassiveEffectsRemainingLanes = remainingLanes),\n    (pendingPassiveTransitions = transitions),\n    scheduleCallback$1(NormalPriority$1, function () {\n      flushPassiveEffects(!0);\n      return null;\n    }));\n  transitions = 0 !== (finishedWork.flags & 15990);\n  0 !== (finishedWork.subtreeFlags & 15990) || transitions\n    ? ((transitions = ReactSharedInternals.T),\n      (ReactSharedInternals.T = null),\n      (spawnedLane = ReactDOMSharedInternals.p),\n      (ReactDOMSharedInternals.p = 2),\n      (updatedLanes = executionContext),\n      (executionContext |= 4),\n      commitBeforeMutationEffects(root, finishedWork),\n      commitMutationEffectsOnFiber(finishedWork, root),\n      restoreSelection(selectionInformation, root.containerInfo),\n      (_enabled = !!eventsEnabled),\n      (selectionInformation = eventsEnabled = null),\n      (root.current = finishedWork),\n      commitLayoutEffectOnFiber(root, finishedWork.alternate, finishedWork),\n      requestPaint(),\n      (executionContext = updatedLanes),\n      (ReactDOMSharedInternals.p = spawnedLane),\n      (ReactSharedInternals.T = transitions))\n    : (root.current = finishedWork);\n  rootDoesHavePassiveEffects\n    ? ((rootDoesHavePassiveEffects = !1),\n      (rootWithPendingPassiveEffects = root),\n      (pendingPassiveEffectsLanes = didIncludeRenderPhaseUpdate))\n    : releaseRootPooledCache(root, remainingLanes);\n  remainingLanes = root.pendingLanes;\n  0 === remainingLanes && (legacyErrorBoundariesThatAlreadyFailed = null);\n  onCommitRoot(finishedWork.stateNode, renderPriorityLevel);\n  ensureRootIsScheduled(root);\n  if (null !== recoverableErrors)\n    for (\n      renderPriorityLevel = root.onRecoverableError, finishedWork = 0;\n      finishedWork < recoverableErrors.length;\n      finishedWork++\n    )\n      (remainingLanes = recoverableErrors[finishedWork]),\n        renderPriorityLevel(remainingLanes.value, {\n          componentStack: remainingLanes.stack\n        });\n  0 !== (pendingPassiveEffectsLanes & 3) && flushPassiveEffects();\n  remainingLanes = root.pendingLanes;\n  0 !== (didIncludeRenderPhaseUpdate & 4194218) && 0 !== (remainingLanes & 42)\n    ? root === rootWithNestedUpdates\n      ? nestedUpdateCount++\n      : ((nestedUpdateCount = 0), (rootWithNestedUpdates = root))\n    : (nestedUpdateCount = 0);\n  flushSyncWorkAcrossRoots_impl(0, !1);\n  return null;\n}\nfunction releaseRootPooledCache(root, remainingLanes) {\n  0 === (root.pooledCacheLanes &= remainingLanes) &&\n    ((remainingLanes = root.pooledCache),\n    null != remainingLanes &&\n      ((root.pooledCache = null), releaseCache(remainingLanes)));\n}\nfunction flushPassiveEffects() {\n  if (null !== rootWithPendingPassiveEffects) {\n    var root$170 = rootWithPendingPassiveEffects,\n      remainingLanes = pendingPassiveEffectsRemainingLanes;\n    pendingPassiveEffectsRemainingLanes = 0;\n    var renderPriority = lanesToEventPriority(pendingPassiveEffectsLanes),\n      prevTransition = ReactSharedInternals.T,\n      previousPriority = ReactDOMSharedInternals.p;\n    try {\n      ReactDOMSharedInternals.p = 32 > renderPriority ? 32 : renderPriority;\n      ReactSharedInternals.T = null;\n      if (null === rootWithPendingPassiveEffects)\n        var JSCompiler_inline_result = !1;\n      else {\n        renderPriority = pendingPassiveTransitions;\n        pendingPassiveTransitions = null;\n        var root = rootWithPendingPassiveEffects,\n          lanes = pendingPassiveEffectsLanes;\n        rootWithPendingPassiveEffects = null;\n        pendingPassiveEffectsLanes = 0;\n        if (0 !== (executionContext & 6))\n          throw Error(formatProdErrorMessage(331));\n        var prevExecutionContext = executionContext;\n        executionContext |= 4;\n        commitPassiveUnmountOnFiber(root.current);\n        commitPassiveMountOnFiber(root, root.current, lanes, renderPriority);\n        executionContext = prevExecutionContext;\n        flushSyncWorkAcrossRoots_impl(0, !1);\n        if (\n          injectedHook &&\n          \"function\" === typeof injectedHook.onPostCommitFiberRoot\n        )\n          try {\n            injectedHook.onPostCommitFiberRoot(rendererID, root);\n          } catch (err) {}\n        JSCompiler_inline_result = !0;\n      }\n      return JSCompiler_inline_result;\n    } finally {\n      (ReactDOMSharedInternals.p = previousPriority),\n        (ReactSharedInternals.T = prevTransition),\n        releaseRootPooledCache(root$170, remainingLanes);\n    }\n  }\n  return !1;\n}\nfunction captureCommitPhaseErrorOnRoot(rootFiber, sourceFiber, error) {\n  sourceFiber = createCapturedValueAtFiber(error, sourceFiber);\n  sourceFiber = createRootErrorUpdate(rootFiber.stateNode, sourceFiber, 2);\n  rootFiber = enqueueUpdate(rootFiber, sourceFiber, 2);\n  null !== rootFiber &&\n    (markRootUpdated$1(rootFiber, 2), ensureRootIsScheduled(rootFiber));\n}\nfunction captureCommitPhaseError(sourceFiber, nearestMountedAncestor, error) {\n  if (3 === sourceFiber.tag)\n    captureCommitPhaseErrorOnRoot(sourceFiber, sourceFiber, error);\n  else\n    for (; null !== nearestMountedAncestor; ) {\n      if (3 === nearestMountedAncestor.tag) {\n        captureCommitPhaseErrorOnRoot(\n          nearestMountedAncestor,\n          sourceFiber,\n          error\n        );\n        break;\n      } else if (1 === nearestMountedAncestor.tag) {\n        var instance = nearestMountedAncestor.stateNode;\n        if (\n          \"function\" ===\n            typeof nearestMountedAncestor.type.getDerivedStateFromError ||\n          (\"function\" === typeof instance.componentDidCatch &&\n            (null === legacyErrorBoundariesThatAlreadyFailed ||\n              !legacyErrorBoundariesThatAlreadyFailed.has(instance)))\n        ) {\n          sourceFiber = createCapturedValueAtFiber(error, sourceFiber);\n          error = createClassErrorUpdate(2);\n          instance = enqueueUpdate(nearestMountedAncestor, error, 2);\n          null !== instance &&\n            (initializeClassErrorUpdate(\n              error,\n              instance,\n              nearestMountedAncestor,\n              sourceFiber\n            ),\n            markRootUpdated$1(instance, 2),\n            ensureRootIsScheduled(instance));\n          break;\n        }\n      }\n      nearestMountedAncestor = nearestMountedAncestor.return;\n    }\n}\nfunction attachPingListener(root, wakeable, lanes) {\n  var pingCache = root.pingCache;\n  if (null === pingCache) {\n    pingCache = root.pingCache = new PossiblyWeakMap();\n    var threadIDs = new Set();\n    pingCache.set(wakeable, threadIDs);\n  } else\n    (threadIDs = pingCache.get(wakeable)),\n      void 0 === threadIDs &&\n        ((threadIDs = new Set()), pingCache.set(wakeable, threadIDs));\n  threadIDs.has(lanes) ||\n    ((workInProgressRootDidAttachPingListener = !0),\n    threadIDs.add(lanes),\n    (root = pingSuspendedRoot.bind(null, root, wakeable, lanes)),\n    wakeable.then(root, root));\n}\nfunction pingSuspendedRoot(root, wakeable, pingedLanes) {\n  var pingCache = root.pingCache;\n  null !== pingCache && pingCache.delete(wakeable);\n  root.pingedLanes |= root.suspendedLanes & pingedLanes;\n  root.warmLanes &= ~pingedLanes;\n  workInProgressRoot === root &&\n    (workInProgressRootRenderLanes & pingedLanes) === pingedLanes &&\n    (4 === workInProgressRootExitStatus ||\n    (3 === workInProgressRootExitStatus &&\n      (workInProgressRootRenderLanes & 62914560) ===\n        workInProgressRootRenderLanes &&\n      300 > now() - globalMostRecentFallbackTime)\n      ? 0 === (executionContext & 2) && prepareFreshStack(root, 0)\n      : (workInProgressRootPingedLanes |= pingedLanes),\n    workInProgressSuspendedRetryLanes === workInProgressRootRenderLanes &&\n      (workInProgressSuspendedRetryLanes = 0));\n  ensureRootIsScheduled(root);\n}\nfunction retryTimedOutBoundary(boundaryFiber, retryLane) {\n  0 === retryLane && (retryLane = claimNextRetryLane());\n  boundaryFiber = enqueueConcurrentRenderForLane(boundaryFiber, retryLane);\n  null !== boundaryFiber &&\n    (markRootUpdated$1(boundaryFiber, retryLane),\n    ensureRootIsScheduled(boundaryFiber));\n}\nfunction retryDehydratedSuspenseBoundary(boundaryFiber) {\n  var suspenseState = boundaryFiber.memoizedState,\n    retryLane = 0;\n  null !== suspenseState && (retryLane = suspenseState.retryLane);\n  retryTimedOutBoundary(boundaryFiber, retryLane);\n}\nfunction resolveRetryWakeable(boundaryFiber, wakeable) {\n  var retryLane = 0;\n  switch (boundaryFiber.tag) {\n    case 13:\n      var retryCache = boundaryFiber.stateNode;\n      var suspenseState = boundaryFiber.memoizedState;\n      null !== suspenseState && (retryLane = suspenseState.retryLane);\n      break;\n    case 19:\n      retryCache = boundaryFiber.stateNode;\n      break;\n    case 22:\n      retryCache = boundaryFiber.stateNode._retryCache;\n      break;\n    default:\n      throw Error(formatProdErrorMessage(314));\n  }\n  null !== retryCache && retryCache.delete(wakeable);\n  retryTimedOutBoundary(boundaryFiber, retryLane);\n}\nfunction scheduleCallback$1(priorityLevel, callback) {\n  return scheduleCallback$3(priorityLevel, callback);\n}\nvar firstScheduledRoot = null,\n  lastScheduledRoot = null,\n  didScheduleMicrotask = !1,\n  mightHavePendingSyncWork = !1,\n  isFlushingWork = !1,\n  currentEventTransitionLane = 0;\nfunction ensureRootIsScheduled(root) {\n  root !== lastScheduledRoot &&\n    null === root.next &&\n    (null === lastScheduledRoot\n      ? (firstScheduledRoot = lastScheduledRoot = root)\n      : (lastScheduledRoot = lastScheduledRoot.next = root));\n  mightHavePendingSyncWork = !0;\n  didScheduleMicrotask ||\n    ((didScheduleMicrotask = !0),\n    scheduleImmediateTask(processRootScheduleInMicrotask));\n}\nfunction flushSyncWorkAcrossRoots_impl(syncTransitionLanes, onlyLegacy) {\n  if (!isFlushingWork && mightHavePendingSyncWork) {\n    isFlushingWork = !0;\n    do {\n      var didPerformSomeWork = !1;\n      for (var root$172 = firstScheduledRoot; null !== root$172; ) {\n        if (!onlyLegacy)\n          if (0 !== syncTransitionLanes) {\n            var pendingLanes = root$172.pendingLanes;\n            if (0 === pendingLanes) var JSCompiler_inline_result = 0;\n            else {\n              var suspendedLanes = root$172.suspendedLanes,\n                pingedLanes = root$172.pingedLanes;\n              JSCompiler_inline_result =\n                (1 << (31 - clz32(42 | syncTransitionLanes) + 1)) - 1;\n              JSCompiler_inline_result &=\n                pendingLanes & ~(suspendedLanes & ~pingedLanes);\n              JSCompiler_inline_result =\n                JSCompiler_inline_result & 201326677\n                  ? (JSCompiler_inline_result & 201326677) | 1\n                  : JSCompiler_inline_result\n                    ? JSCompiler_inline_result | 2\n                    : 0;\n            }\n            0 !== JSCompiler_inline_result &&\n              ((didPerformSomeWork = !0),\n              performSyncWorkOnRoot(root$172, JSCompiler_inline_result));\n          } else\n            (JSCompiler_inline_result = workInProgressRootRenderLanes),\n              (JSCompiler_inline_result = getNextLanes(\n                root$172,\n                root$172 === workInProgressRoot ? JSCompiler_inline_result : 0\n              )),\n              0 === (JSCompiler_inline_result & 3) ||\n                checkIfRootIsPrerendering(root$172, JSCompiler_inline_result) ||\n                ((didPerformSomeWork = !0),\n                performSyncWorkOnRoot(root$172, JSCompiler_inline_result));\n        root$172 = root$172.next;\n      }\n    } while (didPerformSomeWork);\n    isFlushingWork = !1;\n  }\n}\nfunction processRootScheduleInMicrotask() {\n  mightHavePendingSyncWork = didScheduleMicrotask = !1;\n  var syncTransitionLanes = 0;\n  0 !== currentEventTransitionLane &&\n    (shouldAttemptEagerTransition() &&\n      (syncTransitionLanes = currentEventTransitionLane),\n    (currentEventTransitionLane = 0));\n  for (\n    var currentTime = now(), prev = null, root = firstScheduledRoot;\n    null !== root;\n\n  ) {\n    var next = root.next,\n      nextLanes = scheduleTaskForRootDuringMicrotask(root, currentTime);\n    if (0 === nextLanes)\n      (root.next = null),\n        null === prev ? (firstScheduledRoot = next) : (prev.next = next),\n        null === next && (lastScheduledRoot = prev);\n    else if (\n      ((prev = root), 0 !== syncTransitionLanes || 0 !== (nextLanes & 3))\n    )\n      mightHavePendingSyncWork = !0;\n    root = next;\n  }\n  flushSyncWorkAcrossRoots_impl(syncTransitionLanes, !1);\n}\nfunction scheduleTaskForRootDuringMicrotask(root, currentTime) {\n  for (\n    var suspendedLanes = root.suspendedLanes,\n      pingedLanes = root.pingedLanes,\n      expirationTimes = root.expirationTimes,\n      lanes = root.pendingLanes & -62914561;\n    0 < lanes;\n\n  ) {\n    var index$5 = 31 - clz32(lanes),\n      lane = 1 << index$5,\n      expirationTime = expirationTimes[index$5];\n    if (-1 === expirationTime) {\n      if (0 === (lane & suspendedLanes) || 0 !== (lane & pingedLanes))\n        expirationTimes[index$5] = computeExpirationTime(lane, currentTime);\n    } else expirationTime <= currentTime && (root.expiredLanes |= lane);\n    lanes &= ~lane;\n  }\n  currentTime = workInProgressRoot;\n  suspendedLanes = workInProgressRootRenderLanes;\n  suspendedLanes = getNextLanes(\n    root,\n    root === currentTime ? suspendedLanes : 0\n  );\n  pingedLanes = root.callbackNode;\n  if (\n    0 === suspendedLanes ||\n    (root === currentTime && 2 === workInProgressSuspendedReason) ||\n    null !== root.cancelPendingCommit\n  )\n    return (\n      null !== pingedLanes &&\n        null !== pingedLanes &&\n        cancelCallback$1(pingedLanes),\n      (root.callbackNode = null),\n      (root.callbackPriority = 0)\n    );\n  if (\n    0 === (suspendedLanes & 3) ||\n    checkIfRootIsPrerendering(root, suspendedLanes)\n  ) {\n    currentTime = suspendedLanes & -suspendedLanes;\n    if (currentTime === root.callbackPriority) return currentTime;\n    null !== pingedLanes && cancelCallback$1(pingedLanes);\n    switch (lanesToEventPriority(suspendedLanes)) {\n      case 2:\n      case 8:\n        suspendedLanes = UserBlockingPriority;\n        break;\n      case 32:\n        suspendedLanes = NormalPriority$1;\n        break;\n      case 268435456:\n        suspendedLanes = IdlePriority;\n        break;\n      default:\n        suspendedLanes = NormalPriority$1;\n    }\n    pingedLanes = performWorkOnRootViaSchedulerTask.bind(null, root);\n    suspendedLanes = scheduleCallback$3(suspendedLanes, pingedLanes);\n    root.callbackPriority = currentTime;\n    root.callbackNode = suspendedLanes;\n    return currentTime;\n  }\n  null !== pingedLanes && null !== pingedLanes && cancelCallback$1(pingedLanes);\n  root.callbackPriority = 2;\n  root.callbackNode = null;\n  return 2;\n}\nfunction performWorkOnRootViaSchedulerTask(root, didTimeout) {\n  var originalCallbackNode = root.callbackNode;\n  if (flushPassiveEffects() && root.callbackNode !== originalCallbackNode)\n    return null;\n  var workInProgressRootRenderLanes$jscomp$0 = workInProgressRootRenderLanes;\n  workInProgressRootRenderLanes$jscomp$0 = getNextLanes(\n    root,\n    root === workInProgressRoot ? workInProgressRootRenderLanes$jscomp$0 : 0\n  );\n  if (0 === workInProgressRootRenderLanes$jscomp$0) return null;\n  performWorkOnRoot(root, workInProgressRootRenderLanes$jscomp$0, didTimeout);\n  scheduleTaskForRootDuringMicrotask(root, now());\n  return null != root.callbackNode && root.callbackNode === originalCallbackNode\n    ? performWorkOnRootViaSchedulerTask.bind(null, root)\n    : null;\n}\nfunction performSyncWorkOnRoot(root, lanes) {\n  if (flushPassiveEffects()) return null;\n  performWorkOnRoot(root, lanes, !0);\n}\nfunction scheduleImmediateTask(cb) {\n  scheduleMicrotask(function () {\n    0 !== (executionContext & 6)\n      ? scheduleCallback$3(ImmediatePriority, cb)\n      : cb();\n  });\n}\nfunction requestTransitionLane() {\n  0 === currentEventTransitionLane &&\n    (currentEventTransitionLane = claimNextTransitionLane());\n  return currentEventTransitionLane;\n}\nfunction coerceFormActionProp(actionProp) {\n  return null == actionProp ||\n    \"symbol\" === typeof actionProp ||\n    \"boolean\" === typeof actionProp\n    ? null\n    : \"function\" === typeof actionProp\n      ? actionProp\n      : sanitizeURL(\"\" + actionProp);\n}\nfunction createFormDataWithSubmitter(form, submitter) {\n  var temp = submitter.ownerDocument.createElement(\"input\");\n  temp.name = submitter.name;\n  temp.value = submitter.value;\n  form.id && temp.setAttribute(\"form\", form.id);\n  submitter.parentNode.insertBefore(temp, submitter);\n  form = new FormData(form);\n  temp.parentNode.removeChild(temp);\n  return form;\n}\nfunction extractEvents$1(\n  dispatchQueue,\n  domEventName,\n  maybeTargetInst,\n  nativeEvent,\n  nativeEventTarget\n) {\n  if (\n    \"submit\" === domEventName &&\n    maybeTargetInst &&\n    maybeTargetInst.stateNode === nativeEventTarget\n  ) {\n    var action = coerceFormActionProp(\n        (nativeEventTarget[internalPropsKey] || null).action\n      ),\n      submitter = nativeEvent.submitter;\n    submitter &&\n      ((domEventName = (domEventName = submitter[internalPropsKey] || null)\n        ? coerceFormActionProp(domEventName.formAction)\n        : submitter.getAttribute(\"formAction\")),\n      null !== domEventName && ((action = domEventName), (submitter = null)));\n    var event = new SyntheticEvent(\n      \"action\",\n      \"action\",\n      null,\n      nativeEvent,\n      nativeEventTarget\n    );\n    dispatchQueue.push({\n      event: event,\n      listeners: [\n        {\n          instance: null,\n          listener: function () {\n            if (nativeEvent.defaultPrevented) {\n              if (0 !== currentEventTransitionLane) {\n                var formData = submitter\n                  ? createFormDataWithSubmitter(nativeEventTarget, submitter)\n                  : new FormData(nativeEventTarget);\n                startHostTransition(\n                  maybeTargetInst,\n                  {\n                    pending: !0,\n                    data: formData,\n                    method: nativeEventTarget.method,\n                    action: action\n                  },\n                  null,\n                  formData\n                );\n              }\n            } else\n              \"function\" === typeof action &&\n                (event.preventDefault(),\n                (formData = submitter\n                  ? createFormDataWithSubmitter(nativeEventTarget, submitter)\n                  : new FormData(nativeEventTarget)),\n                startHostTransition(\n                  maybeTargetInst,\n                  {\n                    pending: !0,\n                    data: formData,\n                    method: nativeEventTarget.method,\n                    action: action\n                  },\n                  action,\n                  formData\n                ));\n          },\n          currentTarget: nativeEventTarget\n        }\n      ]\n    });\n  }\n}\nfor (\n  var i$jscomp$inline_1439 = 0;\n  i$jscomp$inline_1439 < simpleEventPluginEvents.length;\n  i$jscomp$inline_1439++\n) {\n  var eventName$jscomp$inline_1440 =\n      simpleEventPluginEvents[i$jscomp$inline_1439],\n    domEventName$jscomp$inline_1441 =\n      eventName$jscomp$inline_1440.toLowerCase(),\n    capitalizedEvent$jscomp$inline_1442 =\n      eventName$jscomp$inline_1440[0].toUpperCase() +\n      eventName$jscomp$inline_1440.slice(1);\n  registerSimpleEvent(\n    domEventName$jscomp$inline_1441,\n    \"on\" + capitalizedEvent$jscomp$inline_1442\n  );\n}\nregisterSimpleEvent(ANIMATION_END, \"onAnimationEnd\");\nregisterSimpleEvent(ANIMATION_ITERATION, \"onAnimationIteration\");\nregisterSimpleEvent(ANIMATION_START, \"onAnimationStart\");\nregisterSimpleEvent(\"dblclick\", \"onDoubleClick\");\nregisterSimpleEvent(\"focusin\", \"onFocus\");\nregisterSimpleEvent(\"focusout\", \"onBlur\");\nregisterSimpleEvent(TRANSITION_RUN, \"onTransitionRun\");\nregisterSimpleEvent(TRANSITION_START, \"onTransitionStart\");\nregisterSimpleEvent(TRANSITION_CANCEL, \"onTransitionCancel\");\nregisterSimpleEvent(TRANSITION_END, \"onTransitionEnd\");\nregisterDirectEvent(\"onMouseEnter\", [\"mouseout\", \"mouseover\"]);\nregisterDirectEvent(\"onMouseLeave\", [\"mouseout\", \"mouseover\"]);\nregisterDirectEvent(\"onPointerEnter\", [\"pointerout\", \"pointerover\"]);\nregisterDirectEvent(\"onPointerLeave\", [\"pointerout\", \"pointerover\"]);\nregisterTwoPhaseEvent(\n  \"onChange\",\n  \"change click focusin focusout input keydown keyup selectionchange\".split(\" \")\n);\nregisterTwoPhaseEvent(\n  \"onSelect\",\n  \"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\n    \" \"\n  )\n);\nregisterTwoPhaseEvent(\"onBeforeInput\", [\n  \"compositionend\",\n  \"keypress\",\n  \"textInput\",\n  \"paste\"\n]);\nregisterTwoPhaseEvent(\n  \"onCompositionEnd\",\n  \"compositionend focusout keydown keypress keyup mousedown\".split(\" \")\n);\nregisterTwoPhaseEvent(\n  \"onCompositionStart\",\n  \"compositionstart focusout keydown keypress keyup mousedown\".split(\" \")\n);\nregisterTwoPhaseEvent(\n  \"onCompositionUpdate\",\n  \"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \")\n);\nvar mediaEventTypes =\n    \"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting\".split(\n      \" \"\n    ),\n  nonDelegatedEvents = new Set(\n    \"beforetoggle cancel close invalid load scroll scrollend toggle\"\n      .split(\" \")\n      .concat(mediaEventTypes)\n  );\nfunction processDispatchQueue(dispatchQueue, eventSystemFlags) {\n  eventSystemFlags = 0 !== (eventSystemFlags & 4);\n  for (var i = 0; i < dispatchQueue.length; i++) {\n    var _dispatchQueue$i = dispatchQueue[i],\n      event = _dispatchQueue$i.event;\n    _dispatchQueue$i = _dispatchQueue$i.listeners;\n    a: {\n      var previousInstance = void 0;\n      if (eventSystemFlags)\n        for (\n          var i$jscomp$0 = _dispatchQueue$i.length - 1;\n          0 <= i$jscomp$0;\n          i$jscomp$0--\n        ) {\n          var _dispatchListeners$i = _dispatchQueue$i[i$jscomp$0],\n            instance = _dispatchListeners$i.instance,\n            currentTarget = _dispatchListeners$i.currentTarget;\n          _dispatchListeners$i = _dispatchListeners$i.listener;\n          if (instance !== previousInstance && event.isPropagationStopped())\n            break a;\n          previousInstance = _dispatchListeners$i;\n          event.currentTarget = currentTarget;\n          try {\n            previousInstance(event);\n          } catch (error) {\n            reportGlobalError(error);\n          }\n          event.currentTarget = null;\n          previousInstance = instance;\n        }\n      else\n        for (\n          i$jscomp$0 = 0;\n          i$jscomp$0 < _dispatchQueue$i.length;\n          i$jscomp$0++\n        ) {\n          _dispatchListeners$i = _dispatchQueue$i[i$jscomp$0];\n          instance = _dispatchListeners$i.instance;\n          currentTarget = _dispatchListeners$i.currentTarget;\n          _dispatchListeners$i = _dispatchListeners$i.listener;\n          if (instance !== previousInstance && event.isPropagationStopped())\n            break a;\n          previousInstance = _dispatchListeners$i;\n          event.currentTarget = currentTarget;\n          try {\n            previousInstance(event);\n          } catch (error) {\n            reportGlobalError(error);\n          }\n          event.currentTarget = null;\n          previousInstance = instance;\n        }\n    }\n  }\n}\nfunction listenToNonDelegatedEvent(domEventName, targetElement) {\n  var JSCompiler_inline_result = targetElement[internalEventHandlersKey];\n  void 0 === JSCompiler_inline_result &&\n    (JSCompiler_inline_result = targetElement[internalEventHandlersKey] =\n      new Set());\n  var listenerSetKey = domEventName + \"__bubble\";\n  JSCompiler_inline_result.has(listenerSetKey) ||\n    (addTrappedEventListener(targetElement, domEventName, 2, !1),\n    JSCompiler_inline_result.add(listenerSetKey));\n}\nfunction listenToNativeEvent(domEventName, isCapturePhaseListener, target) {\n  var eventSystemFlags = 0;\n  isCapturePhaseListener && (eventSystemFlags |= 4);\n  addTrappedEventListener(\n    target,\n    domEventName,\n    eventSystemFlags,\n    isCapturePhaseListener\n  );\n}\nvar listeningMarker = \"_reactListening\" + Math.random().toString(36).slice(2);\nfunction listenToAllSupportedEvents(rootContainerElement) {\n  if (!rootContainerElement[listeningMarker]) {\n    rootContainerElement[listeningMarker] = !0;\n    allNativeEvents.forEach(function (domEventName) {\n      \"selectionchange\" !== domEventName &&\n        (nonDelegatedEvents.has(domEventName) ||\n          listenToNativeEvent(domEventName, !1, rootContainerElement),\n        listenToNativeEvent(domEventName, !0, rootContainerElement));\n    });\n    var ownerDocument =\n      9 === rootContainerElement.nodeType\n        ? rootContainerElement\n        : rootContainerElement.ownerDocument;\n    null === ownerDocument ||\n      ownerDocument[listeningMarker] ||\n      ((ownerDocument[listeningMarker] = !0),\n      listenToNativeEvent(\"selectionchange\", !1, ownerDocument));\n  }\n}\nfunction addTrappedEventListener(\n  targetContainer,\n  domEventName,\n  eventSystemFlags,\n  isCapturePhaseListener\n) {\n  switch (getEventPriority(domEventName)) {\n    case 2:\n      var listenerWrapper = dispatchDiscreteEvent;\n      break;\n    case 8:\n      listenerWrapper = dispatchContinuousEvent;\n      break;\n    default:\n      listenerWrapper = dispatchEvent;\n  }\n  eventSystemFlags = listenerWrapper.bind(\n    null,\n    domEventName,\n    eventSystemFlags,\n    targetContainer\n  );\n  listenerWrapper = void 0;\n  !passiveBrowserEventsSupported ||\n    (\"touchstart\" !== domEventName &&\n      \"touchmove\" !== domEventName &&\n      \"wheel\" !== domEventName) ||\n    (listenerWrapper = !0);\n  isCapturePhaseListener\n    ? void 0 !== listenerWrapper\n      ? targetContainer.addEventListener(domEventName, eventSystemFlags, {\n          capture: !0,\n          passive: listenerWrapper\n        })\n      : targetContainer.addEventListener(domEventName, eventSystemFlags, !0)\n    : void 0 !== listenerWrapper\n      ? targetContainer.addEventListener(domEventName, eventSystemFlags, {\n          passive: listenerWrapper\n        })\n      : targetContainer.addEventListener(domEventName, eventSystemFlags, !1);\n}\nfunction dispatchEventForPluginEventSystem(\n  domEventName,\n  eventSystemFlags,\n  nativeEvent,\n  targetInst$jscomp$0,\n  targetContainer\n) {\n  var ancestorInst = targetInst$jscomp$0;\n  if (\n    0 === (eventSystemFlags & 1) &&\n    0 === (eventSystemFlags & 2) &&\n    null !== targetInst$jscomp$0\n  )\n    a: for (;;) {\n      if (null === targetInst$jscomp$0) return;\n      var nodeTag = targetInst$jscomp$0.tag;\n      if (3 === nodeTag || 4 === nodeTag) {\n        var container = targetInst$jscomp$0.stateNode.containerInfo;\n        if (\n          container === targetContainer ||\n          (8 === container.nodeType && container.parentNode === targetContainer)\n        )\n          break;\n        if (4 === nodeTag)\n          for (nodeTag = targetInst$jscomp$0.return; null !== nodeTag; ) {\n            var grandTag = nodeTag.tag;\n            if (3 === grandTag || 4 === grandTag)\n              if (\n                ((grandTag = nodeTag.stateNode.containerInfo),\n                grandTag === targetContainer ||\n                  (8 === grandTag.nodeType &&\n                    grandTag.parentNode === targetContainer))\n              )\n                return;\n            nodeTag = nodeTag.return;\n          }\n        for (; null !== container; ) {\n          nodeTag = getClosestInstanceFromNode(container);\n          if (null === nodeTag) return;\n          grandTag = nodeTag.tag;\n          if (\n            5 === grandTag ||\n            6 === grandTag ||\n            26 === grandTag ||\n            27 === grandTag\n          ) {\n            targetInst$jscomp$0 = ancestorInst = nodeTag;\n            continue a;\n          }\n          container = container.parentNode;\n        }\n      }\n      targetInst$jscomp$0 = targetInst$jscomp$0.return;\n    }\n  batchedUpdates$1(function () {\n    var targetInst = ancestorInst,\n      nativeEventTarget = getEventTarget(nativeEvent),\n      dispatchQueue = [];\n    a: {\n      var reactName = topLevelEventsToReactNames.get(domEventName);\n      if (void 0 !== reactName) {\n        var SyntheticEventCtor = SyntheticEvent,\n          reactEventType = domEventName;\n        switch (domEventName) {\n          case \"keypress\":\n            if (0 === getEventCharCode(nativeEvent)) break a;\n          case \"keydown\":\n          case \"keyup\":\n            SyntheticEventCtor = SyntheticKeyboardEvent;\n            break;\n          case \"focusin\":\n            reactEventType = \"focus\";\n            SyntheticEventCtor = SyntheticFocusEvent;\n            break;\n          case \"focusout\":\n            reactEventType = \"blur\";\n            SyntheticEventCtor = SyntheticFocusEvent;\n            break;\n          case \"beforeblur\":\n          case \"afterblur\":\n            SyntheticEventCtor = SyntheticFocusEvent;\n            break;\n          case \"click\":\n            if (2 === nativeEvent.button) break a;\n          case \"auxclick\":\n          case \"dblclick\":\n          case \"mousedown\":\n          case \"mousemove\":\n          case \"mouseup\":\n          case \"mouseout\":\n          case \"mouseover\":\n          case \"contextmenu\":\n            SyntheticEventCtor = SyntheticMouseEvent;\n            break;\n          case \"drag\":\n          case \"dragend\":\n          case \"dragenter\":\n          case \"dragexit\":\n          case \"dragleave\":\n          case \"dragover\":\n          case \"dragstart\":\n          case \"drop\":\n            SyntheticEventCtor = SyntheticDragEvent;\n            break;\n          case \"touchcancel\":\n          case \"touchend\":\n          case \"touchmove\":\n          case \"touchstart\":\n            SyntheticEventCtor = SyntheticTouchEvent;\n            break;\n          case ANIMATION_END:\n          case ANIMATION_ITERATION:\n          case ANIMATION_START:\n            SyntheticEventCtor = SyntheticAnimationEvent;\n            break;\n          case TRANSITION_END:\n            SyntheticEventCtor = SyntheticTransitionEvent;\n            break;\n          case \"scroll\":\n          case \"scrollend\":\n            SyntheticEventCtor = SyntheticUIEvent;\n            break;\n          case \"wheel\":\n            SyntheticEventCtor = SyntheticWheelEvent;\n            break;\n          case \"copy\":\n          case \"cut\":\n          case \"paste\":\n            SyntheticEventCtor = SyntheticClipboardEvent;\n            break;\n          case \"gotpointercapture\":\n          case \"lostpointercapture\":\n          case \"pointercancel\":\n          case \"pointerdown\":\n          case \"pointermove\":\n          case \"pointerout\":\n          case \"pointerover\":\n          case \"pointerup\":\n            SyntheticEventCtor = SyntheticPointerEvent;\n            break;\n          case \"toggle\":\n          case \"beforetoggle\":\n            SyntheticEventCtor = SyntheticToggleEvent;\n        }\n        var inCapturePhase = 0 !== (eventSystemFlags & 4),\n          accumulateTargetOnly =\n            !inCapturePhase &&\n            (\"scroll\" === domEventName || \"scrollend\" === domEventName),\n          reactEventName = inCapturePhase\n            ? null !== reactName\n              ? reactName + \"Capture\"\n              : null\n            : reactName;\n        inCapturePhase = [];\n        for (\n          var instance = targetInst, lastHostComponent;\n          null !== instance;\n\n        ) {\n          var _instance = instance;\n          lastHostComponent = _instance.stateNode;\n          _instance = _instance.tag;\n          (5 !== _instance && 26 !== _instance && 27 !== _instance) ||\n            null === lastHostComponent ||\n            null === reactEventName ||\n            ((_instance = getListener(instance, reactEventName)),\n            null != _instance &&\n              inCapturePhase.push(\n                createDispatchListener(instance, _instance, lastHostComponent)\n              ));\n          if (accumulateTargetOnly) break;\n          instance = instance.return;\n        }\n        0 < inCapturePhase.length &&\n          ((reactName = new SyntheticEventCtor(\n            reactName,\n            reactEventType,\n            null,\n            nativeEvent,\n            nativeEventTarget\n          )),\n          dispatchQueue.push({ event: reactName, listeners: inCapturePhase }));\n      }\n    }\n    if (0 === (eventSystemFlags & 7)) {\n      a: {\n        reactName =\n          \"mouseover\" === domEventName || \"pointerover\" === domEventName;\n        SyntheticEventCtor =\n          \"mouseout\" === domEventName || \"pointerout\" === domEventName;\n        if (\n          reactName &&\n          nativeEvent !== currentReplayingEvent &&\n          (reactEventType =\n            nativeEvent.relatedTarget || nativeEvent.fromElement) &&\n          (getClosestInstanceFromNode(reactEventType) ||\n            reactEventType[internalContainerInstanceKey])\n        )\n          break a;\n        if (SyntheticEventCtor || reactName) {\n          reactName =\n            nativeEventTarget.window === nativeEventTarget\n              ? nativeEventTarget\n              : (reactName = nativeEventTarget.ownerDocument)\n                ? reactName.defaultView || reactName.parentWindow\n                : window;\n          if (SyntheticEventCtor) {\n            if (\n              ((reactEventType =\n                nativeEvent.relatedTarget || nativeEvent.toElement),\n              (SyntheticEventCtor = targetInst),\n              (reactEventType = reactEventType\n                ? getClosestInstanceFromNode(reactEventType)\n                : null),\n              null !== reactEventType &&\n                ((accumulateTargetOnly =\n                  getNearestMountedFiber(reactEventType)),\n                (inCapturePhase = reactEventType.tag),\n                reactEventType !== accumulateTargetOnly ||\n                  (5 !== inCapturePhase &&\n                    27 !== inCapturePhase &&\n                    6 !== inCapturePhase)))\n            )\n              reactEventType = null;\n          } else (SyntheticEventCtor = null), (reactEventType = targetInst);\n          if (SyntheticEventCtor !== reactEventType) {\n            inCapturePhase = SyntheticMouseEvent;\n            _instance = \"onMouseLeave\";\n            reactEventName = \"onMouseEnter\";\n            instance = \"mouse\";\n            if (\"pointerout\" === domEventName || \"pointerover\" === domEventName)\n              (inCapturePhase = SyntheticPointerEvent),\n                (_instance = \"onPointerLeave\"),\n                (reactEventName = \"onPointerEnter\"),\n                (instance = \"pointer\");\n            accumulateTargetOnly =\n              null == SyntheticEventCtor\n                ? reactName\n                : getNodeFromInstance(SyntheticEventCtor);\n            lastHostComponent =\n              null == reactEventType\n                ? reactName\n                : getNodeFromInstance(reactEventType);\n            reactName = new inCapturePhase(\n              _instance,\n              instance + \"leave\",\n              SyntheticEventCtor,\n              nativeEvent,\n              nativeEventTarget\n            );\n            reactName.target = accumulateTargetOnly;\n            reactName.relatedTarget = lastHostComponent;\n            _instance = null;\n            getClosestInstanceFromNode(nativeEventTarget) === targetInst &&\n              ((inCapturePhase = new inCapturePhase(\n                reactEventName,\n                instance + \"enter\",\n                reactEventType,\n                nativeEvent,\n                nativeEventTarget\n              )),\n              (inCapturePhase.target = lastHostComponent),\n              (inCapturePhase.relatedTarget = accumulateTargetOnly),\n              (_instance = inCapturePhase));\n            accumulateTargetOnly = _instance;\n            if (SyntheticEventCtor && reactEventType)\n              b: {\n                inCapturePhase = SyntheticEventCtor;\n                reactEventName = reactEventType;\n                instance = 0;\n                for (\n                  lastHostComponent = inCapturePhase;\n                  lastHostComponent;\n                  lastHostComponent = getParent(lastHostComponent)\n                )\n                  instance++;\n                lastHostComponent = 0;\n                for (\n                  _instance = reactEventName;\n                  _instance;\n                  _instance = getParent(_instance)\n                )\n                  lastHostComponent++;\n                for (; 0 < instance - lastHostComponent; )\n                  (inCapturePhase = getParent(inCapturePhase)), instance--;\n                for (; 0 < lastHostComponent - instance; )\n                  (reactEventName = getParent(reactEventName)),\n                    lastHostComponent--;\n                for (; instance--; ) {\n                  if (\n                    inCapturePhase === reactEventName ||\n                    (null !== reactEventName &&\n                      inCapturePhase === reactEventName.alternate)\n                  )\n                    break b;\n                  inCapturePhase = getParent(inCapturePhase);\n                  reactEventName = getParent(reactEventName);\n                }\n                inCapturePhase = null;\n              }\n            else inCapturePhase = null;\n            null !== SyntheticEventCtor &&\n              accumulateEnterLeaveListenersForEvent(\n                dispatchQueue,\n                reactName,\n                SyntheticEventCtor,\n                inCapturePhase,\n                !1\n              );\n            null !== reactEventType &&\n              null !== accumulateTargetOnly &&\n              accumulateEnterLeaveListenersForEvent(\n                dispatchQueue,\n                accumulateTargetOnly,\n                reactEventType,\n                inCapturePhase,\n                !0\n              );\n          }\n        }\n      }\n      a: {\n        reactName = targetInst ? getNodeFromInstance(targetInst) : window;\n        SyntheticEventCtor =\n          reactName.nodeName && reactName.nodeName.toLowerCase();\n        if (\n          \"select\" === SyntheticEventCtor ||\n          (\"input\" === SyntheticEventCtor && \"file\" === reactName.type)\n        )\n          var getTargetInstFunc = getTargetInstForChangeEvent;\n        else if (isTextInputElement(reactName))\n          if (isInputEventSupported)\n            getTargetInstFunc = getTargetInstForInputOrChangeEvent;\n          else {\n            getTargetInstFunc = getTargetInstForInputEventPolyfill;\n            var handleEventFunc = handleEventsForInputEventPolyfill;\n          }\n        else\n          (SyntheticEventCtor = reactName.nodeName),\n            !SyntheticEventCtor ||\n            \"input\" !== SyntheticEventCtor.toLowerCase() ||\n            (\"checkbox\" !== reactName.type && \"radio\" !== reactName.type)\n              ? targetInst &&\n                isCustomElement(targetInst.elementType) &&\n                (getTargetInstFunc = getTargetInstForChangeEvent)\n              : (getTargetInstFunc = getTargetInstForClickEvent);\n        if (\n          getTargetInstFunc &&\n          (getTargetInstFunc = getTargetInstFunc(domEventName, targetInst))\n        ) {\n          createAndAccumulateChangeEvent(\n            dispatchQueue,\n            getTargetInstFunc,\n            nativeEvent,\n            nativeEventTarget\n          );\n          break a;\n        }\n        handleEventFunc && handleEventFunc(domEventName, reactName, targetInst);\n        \"focusout\" === domEventName &&\n          targetInst &&\n          \"number\" === reactName.type &&\n          null != targetInst.memoizedProps.value &&\n          setDefaultValue(reactName, \"number\", reactName.value);\n      }\n      handleEventFunc = targetInst ? getNodeFromInstance(targetInst) : window;\n      switch (domEventName) {\n        case \"focusin\":\n          if (\n            isTextInputElement(handleEventFunc) ||\n            \"true\" === handleEventFunc.contentEditable\n          )\n            (activeElement = handleEventFunc),\n              (activeElementInst = targetInst),\n              (lastSelection = null);\n          break;\n        case \"focusout\":\n          lastSelection = activeElementInst = activeElement = null;\n          break;\n        case \"mousedown\":\n          mouseDown = !0;\n          break;\n        case \"contextmenu\":\n        case \"mouseup\":\n        case \"dragend\":\n          mouseDown = !1;\n          constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget);\n          break;\n        case \"selectionchange\":\n          if (skipSelectionChangeEvent) break;\n        case \"keydown\":\n        case \"keyup\":\n          constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget);\n      }\n      var fallbackData;\n      if (canUseCompositionEvent)\n        b: {\n          switch (domEventName) {\n            case \"compositionstart\":\n              var eventType = \"onCompositionStart\";\n              break b;\n            case \"compositionend\":\n              eventType = \"onCompositionEnd\";\n              break b;\n            case \"compositionupdate\":\n              eventType = \"onCompositionUpdate\";\n              break b;\n          }\n          eventType = void 0;\n        }\n      else\n        isComposing\n          ? isFallbackCompositionEnd(domEventName, nativeEvent) &&\n            (eventType = \"onCompositionEnd\")\n          : \"keydown\" === domEventName &&\n            229 === nativeEvent.keyCode &&\n            (eventType = \"onCompositionStart\");\n      eventType &&\n        (useFallbackCompositionData &&\n          \"ko\" !== nativeEvent.locale &&\n          (isComposing || \"onCompositionStart\" !== eventType\n            ? \"onCompositionEnd\" === eventType &&\n              isComposing &&\n              (fallbackData = getData())\n            : ((root = nativeEventTarget),\n              (startText = \"value\" in root ? root.value : root.textContent),\n              (isComposing = !0))),\n        (handleEventFunc = accumulateTwoPhaseListeners(targetInst, eventType)),\n        0 < handleEventFunc.length &&\n          ((eventType = new SyntheticCompositionEvent(\n            eventType,\n            domEventName,\n            null,\n            nativeEvent,\n            nativeEventTarget\n          )),\n          dispatchQueue.push({ event: eventType, listeners: handleEventFunc }),\n          fallbackData\n            ? (eventType.data = fallbackData)\n            : ((fallbackData = getDataFromCustomEvent(nativeEvent)),\n              null !== fallbackData && (eventType.data = fallbackData))));\n      if (\n        (fallbackData = canUseTextInputEvent\n          ? getNativeBeforeInputChars(domEventName, nativeEvent)\n          : getFallbackBeforeInputChars(domEventName, nativeEvent))\n      )\n        (eventType = accumulateTwoPhaseListeners(targetInst, \"onBeforeInput\")),\n          0 < eventType.length &&\n            ((handleEventFunc = new SyntheticCompositionEvent(\n              \"onBeforeInput\",\n              \"beforeinput\",\n              null,\n              nativeEvent,\n              nativeEventTarget\n            )),\n            dispatchQueue.push({\n              event: handleEventFunc,\n              listeners: eventType\n            }),\n            (handleEventFunc.data = fallbackData));\n      extractEvents$1(\n        dispatchQueue,\n        domEventName,\n        targetInst,\n        nativeEvent,\n        nativeEventTarget\n      );\n    }\n    processDispatchQueue(dispatchQueue, eventSystemFlags);\n  });\n}\nfunction createDispatchListener(instance, listener, currentTarget) {\n  return {\n    instance: instance,\n    listener: listener,\n    currentTarget: currentTarget\n  };\n}\nfunction accumulateTwoPhaseListeners(targetFiber, reactName) {\n  for (\n    var captureName = reactName + \"Capture\", listeners = [];\n    null !== targetFiber;\n\n  ) {\n    var _instance2 = targetFiber,\n      stateNode = _instance2.stateNode;\n    _instance2 = _instance2.tag;\n    (5 !== _instance2 && 26 !== _instance2 && 27 !== _instance2) ||\n      null === stateNode ||\n      ((_instance2 = getListener(targetFiber, captureName)),\n      null != _instance2 &&\n        listeners.unshift(\n          createDispatchListener(targetFiber, _instance2, stateNode)\n        ),\n      (_instance2 = getListener(targetFiber, reactName)),\n      null != _instance2 &&\n        listeners.push(\n          createDispatchListener(targetFiber, _instance2, stateNode)\n        ));\n    targetFiber = targetFiber.return;\n  }\n  return listeners;\n}\nfunction getParent(inst) {\n  if (null === inst) return null;\n  do inst = inst.return;\n  while (inst && 5 !== inst.tag && 27 !== inst.tag);\n  return inst ? inst : null;\n}\nfunction accumulateEnterLeaveListenersForEvent(\n  dispatchQueue,\n  event,\n  target,\n  common,\n  inCapturePhase\n) {\n  for (\n    var registrationName = event._reactName, listeners = [];\n    null !== target && target !== common;\n\n  ) {\n    var _instance3 = target,\n      alternate = _instance3.alternate,\n      stateNode = _instance3.stateNode;\n    _instance3 = _instance3.tag;\n    if (null !== alternate && alternate === common) break;\n    (5 !== _instance3 && 26 !== _instance3 && 27 !== _instance3) ||\n      null === stateNode ||\n      ((alternate = stateNode),\n      inCapturePhase\n        ? ((stateNode = getListener(target, registrationName)),\n          null != stateNode &&\n            listeners.unshift(\n              createDispatchListener(target, stateNode, alternate)\n            ))\n        : inCapturePhase ||\n          ((stateNode = getListener(target, registrationName)),\n          null != stateNode &&\n            listeners.push(\n              createDispatchListener(target, stateNode, alternate)\n            )));\n    target = target.return;\n  }\n  0 !== listeners.length &&\n    dispatchQueue.push({ event: event, listeners: listeners });\n}\nvar NORMALIZE_NEWLINES_REGEX = /\\r\\n?/g,\n  NORMALIZE_NULL_AND_REPLACEMENT_REGEX = /\\u0000|\\uFFFD/g;\nfunction normalizeMarkupForTextOrAttribute(markup) {\n  return (\"string\" === typeof markup ? markup : \"\" + markup)\n    .replace(NORMALIZE_NEWLINES_REGEX, \"\\n\")\n    .replace(NORMALIZE_NULL_AND_REPLACEMENT_REGEX, \"\");\n}\nfunction checkForUnmatchedText(serverText, clientText) {\n  clientText = normalizeMarkupForTextOrAttribute(clientText);\n  return normalizeMarkupForTextOrAttribute(serverText) === clientText ? !0 : !1;\n}\nfunction noop$1() {}\nfunction setProp(domElement, tag, key, value, props, prevValue) {\n  switch (key) {\n    case \"children\":\n      \"string\" === typeof value\n        ? \"body\" === tag ||\n          (\"textarea\" === tag && \"\" === value) ||\n          setTextContent(domElement, value)\n        : (\"number\" === typeof value || \"bigint\" === typeof value) &&\n          \"body\" !== tag &&\n          setTextContent(domElement, \"\" + value);\n      break;\n    case \"className\":\n      setValueForKnownAttribute(domElement, \"class\", value);\n      break;\n    case \"tabIndex\":\n      setValueForKnownAttribute(domElement, \"tabindex\", value);\n      break;\n    case \"dir\":\n    case \"role\":\n    case \"viewBox\":\n    case \"width\":\n    case \"height\":\n      setValueForKnownAttribute(domElement, key, value);\n      break;\n    case \"style\":\n      setValueForStyles(domElement, value, prevValue);\n      break;\n    case \"data\":\n      if (\"object\" !== tag) {\n        setValueForKnownAttribute(domElement, \"data\", value);\n        break;\n      }\n    case \"src\":\n    case \"href\":\n      if (\"\" === value && (\"a\" !== tag || \"href\" !== key)) {\n        domElement.removeAttribute(key);\n        break;\n      }\n      if (\n        null == value ||\n        \"function\" === typeof value ||\n        \"symbol\" === typeof value ||\n        \"boolean\" === typeof value\n      ) {\n        domElement.removeAttribute(key);\n        break;\n      }\n      value = sanitizeURL(\"\" + value);\n      domElement.setAttribute(key, value);\n      break;\n    case \"action\":\n    case \"formAction\":\n      if (\"function\" === typeof value) {\n        domElement.setAttribute(\n          key,\n          \"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')\"\n        );\n        break;\n      } else\n        \"function\" === typeof prevValue &&\n          (\"formAction\" === key\n            ? (\"input\" !== tag &&\n                setProp(domElement, tag, \"name\", props.name, props, null),\n              setProp(\n                domElement,\n                tag,\n                \"formEncType\",\n                props.formEncType,\n                props,\n                null\n              ),\n              setProp(\n                domElement,\n                tag,\n                \"formMethod\",\n                props.formMethod,\n                props,\n                null\n              ),\n              setProp(\n                domElement,\n                tag,\n                \"formTarget\",\n                props.formTarget,\n                props,\n                null\n              ))\n            : (setProp(domElement, tag, \"encType\", props.encType, props, null),\n              setProp(domElement, tag, \"method\", props.method, props, null),\n              setProp(domElement, tag, \"target\", props.target, props, null)));\n      if (\n        null == value ||\n        \"symbol\" === typeof value ||\n        \"boolean\" === typeof value\n      ) {\n        domElement.removeAttribute(key);\n        break;\n      }\n      value = sanitizeURL(\"\" + value);\n      domElement.setAttribute(key, value);\n      break;\n    case \"onClick\":\n      null != value && (domElement.onclick = noop$1);\n      break;\n    case \"onScroll\":\n      null != value && listenToNonDelegatedEvent(\"scroll\", domElement);\n      break;\n    case \"onScrollEnd\":\n      null != value && listenToNonDelegatedEvent(\"scrollend\", domElement);\n      break;\n    case \"dangerouslySetInnerHTML\":\n      if (null != value) {\n        if (\"object\" !== typeof value || !(\"__html\" in value))\n          throw Error(formatProdErrorMessage(61));\n        key = value.__html;\n        if (null != key) {\n          if (null != props.children) throw Error(formatProdErrorMessage(60));\n          domElement.innerHTML = key;\n        }\n      }\n      break;\n    case \"multiple\":\n      domElement.multiple =\n        value && \"function\" !== typeof value && \"symbol\" !== typeof value;\n      break;\n    case \"muted\":\n      domElement.muted =\n        value && \"function\" !== typeof value && \"symbol\" !== typeof value;\n      break;\n    case \"suppressContentEditableWarning\":\n    case \"suppressHydrationWarning\":\n    case \"defaultValue\":\n    case \"defaultChecked\":\n    case \"innerHTML\":\n    case \"ref\":\n      break;\n    case \"autoFocus\":\n      break;\n    case \"xlinkHref\":\n      if (\n        null == value ||\n        \"function\" === typeof value ||\n        \"boolean\" === typeof value ||\n        \"symbol\" === typeof value\n      ) {\n        domElement.removeAttribute(\"xlink:href\");\n        break;\n      }\n      key = sanitizeURL(\"\" + value);\n      domElement.setAttributeNS(\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:href\",\n        key\n      );\n      break;\n    case \"contentEditable\":\n    case \"spellCheck\":\n    case \"draggable\":\n    case \"value\":\n    case \"autoReverse\":\n    case \"externalResourcesRequired\":\n    case \"focusable\":\n    case \"preserveAlpha\":\n      null != value && \"function\" !== typeof value && \"symbol\" !== typeof value\n        ? domElement.setAttribute(key, \"\" + value)\n        : domElement.removeAttribute(key);\n      break;\n    case \"inert\":\n    case \"allowFullScreen\":\n    case \"async\":\n    case \"autoPlay\":\n    case \"controls\":\n    case \"default\":\n    case \"defer\":\n    case \"disabled\":\n    case \"disablePictureInPicture\":\n    case \"disableRemotePlayback\":\n    case \"formNoValidate\":\n    case \"hidden\":\n    case \"loop\":\n    case \"noModule\":\n    case \"noValidate\":\n    case \"open\":\n    case \"playsInline\":\n    case \"readOnly\":\n    case \"required\":\n    case \"reversed\":\n    case \"scoped\":\n    case \"seamless\":\n    case \"itemScope\":\n      value && \"function\" !== typeof value && \"symbol\" !== typeof value\n        ? domElement.setAttribute(key, \"\")\n        : domElement.removeAttribute(key);\n      break;\n    case \"capture\":\n    case \"download\":\n      !0 === value\n        ? domElement.setAttribute(key, \"\")\n        : !1 !== value &&\n            null != value &&\n            \"function\" !== typeof value &&\n            \"symbol\" !== typeof value\n          ? domElement.setAttribute(key, value)\n          : domElement.removeAttribute(key);\n      break;\n    case \"cols\":\n    case \"rows\":\n    case \"size\":\n    case \"span\":\n      null != value &&\n      \"function\" !== typeof value &&\n      \"symbol\" !== typeof value &&\n      !isNaN(value) &&\n      1 <= value\n        ? domElement.setAttribute(key, value)\n        : domElement.removeAttribute(key);\n      break;\n    case \"rowSpan\":\n    case \"start\":\n      null == value ||\n      \"function\" === typeof value ||\n      \"symbol\" === typeof value ||\n      isNaN(value)\n        ? domElement.removeAttribute(key)\n        : domElement.setAttribute(key, value);\n      break;\n    case \"popover\":\n      listenToNonDelegatedEvent(\"beforetoggle\", domElement);\n      listenToNonDelegatedEvent(\"toggle\", domElement);\n      setValueForAttribute(domElement, \"popover\", value);\n      break;\n    case \"xlinkActuate\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:actuate\",\n        value\n      );\n      break;\n    case \"xlinkArcrole\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:arcrole\",\n        value\n      );\n      break;\n    case \"xlinkRole\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:role\",\n        value\n      );\n      break;\n    case \"xlinkShow\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:show\",\n        value\n      );\n      break;\n    case \"xlinkTitle\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:title\",\n        value\n      );\n      break;\n    case \"xlinkType\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:type\",\n        value\n      );\n      break;\n    case \"xmlBase\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/XML/1998/namespace\",\n        \"xml:base\",\n        value\n      );\n      break;\n    case \"xmlLang\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/XML/1998/namespace\",\n        \"xml:lang\",\n        value\n      );\n      break;\n    case \"xmlSpace\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/XML/1998/namespace\",\n        \"xml:space\",\n        value\n      );\n      break;\n    case \"is\":\n      setValueForAttribute(domElement, \"is\", value);\n      break;\n    case \"innerText\":\n    case \"textContent\":\n      break;\n    default:\n      if (\n        !(2 < key.length) ||\n        (\"o\" !== key[0] && \"O\" !== key[0]) ||\n        (\"n\" !== key[1] && \"N\" !== key[1])\n      )\n        (key = aliases.get(key) || key),\n          setValueForAttribute(domElement, key, value);\n  }\n}\nfunction setPropOnCustomElement(domElement, tag, key, value, props, prevValue) {\n  switch (key) {\n    case \"style\":\n      setValueForStyles(domElement, value, prevValue);\n      break;\n    case \"dangerouslySetInnerHTML\":\n      if (null != value) {\n        if (\"object\" !== typeof value || !(\"__html\" in value))\n          throw Error(formatProdErrorMessage(61));\n        key = value.__html;\n        if (null != key) {\n          if (null != props.children) throw Error(formatProdErrorMessage(60));\n          domElement.innerHTML = key;\n        }\n      }\n      break;\n    case \"children\":\n      \"string\" === typeof value\n        ? setTextContent(domElement, value)\n        : (\"number\" === typeof value || \"bigint\" === typeof value) &&\n          setTextContent(domElement, \"\" + value);\n      break;\n    case \"onScroll\":\n      null != value && listenToNonDelegatedEvent(\"scroll\", domElement);\n      break;\n    case \"onScrollEnd\":\n      null != value && listenToNonDelegatedEvent(\"scrollend\", domElement);\n      break;\n    case \"onClick\":\n      null != value && (domElement.onclick = noop$1);\n      break;\n    case \"suppressContentEditableWarning\":\n    case \"suppressHydrationWarning\":\n    case \"innerHTML\":\n    case \"ref\":\n      break;\n    case \"innerText\":\n    case \"textContent\":\n      break;\n    default:\n      if (!registrationNameDependencies.hasOwnProperty(key))\n        a: {\n          if (\n            \"o\" === key[0] &&\n            \"n\" === key[1] &&\n            ((props = key.endsWith(\"Capture\")),\n            (tag = key.slice(2, props ? key.length - 7 : void 0)),\n            (prevValue = domElement[internalPropsKey] || null),\n            (prevValue = null != prevValue ? prevValue[key] : null),\n            \"function\" === typeof prevValue &&\n              domElement.removeEventListener(tag, prevValue, props),\n            \"function\" === typeof value)\n          ) {\n            \"function\" !== typeof prevValue &&\n              null !== prevValue &&\n              (key in domElement\n                ? (domElement[key] = null)\n                : domElement.hasAttribute(key) &&\n                  domElement.removeAttribute(key));\n            domElement.addEventListener(tag, value, props);\n            break a;\n          }\n          key in domElement\n            ? (domElement[key] = value)\n            : !0 === value\n              ? domElement.setAttribute(key, \"\")\n              : setValueForAttribute(domElement, key, value);\n        }\n  }\n}\nfunction setInitialProperties(domElement, tag, props) {\n  switch (tag) {\n    case \"div\":\n    case \"span\":\n    case \"svg\":\n    case \"path\":\n    case \"a\":\n    case \"g\":\n    case \"p\":\n    case \"li\":\n      break;\n    case \"img\":\n      listenToNonDelegatedEvent(\"error\", domElement);\n      listenToNonDelegatedEvent(\"load\", domElement);\n      var hasSrc = !1,\n        hasSrcSet = !1,\n        propKey;\n      for (propKey in props)\n        if (props.hasOwnProperty(propKey)) {\n          var propValue = props[propKey];\n          if (null != propValue)\n            switch (propKey) {\n              case \"src\":\n                hasSrc = !0;\n                break;\n              case \"srcSet\":\n                hasSrcSet = !0;\n                break;\n              case \"children\":\n              case \"dangerouslySetInnerHTML\":\n                throw Error(formatProdErrorMessage(137, tag));\n              default:\n                setProp(domElement, tag, propKey, propValue, props, null);\n            }\n        }\n      hasSrcSet &&\n        setProp(domElement, tag, \"srcSet\", props.srcSet, props, null);\n      hasSrc && setProp(domElement, tag, \"src\", props.src, props, null);\n      return;\n    case \"input\":\n      listenToNonDelegatedEvent(\"invalid\", domElement);\n      var defaultValue = (propKey = propValue = hasSrcSet = null),\n        checked = null,\n        defaultChecked = null;\n      for (hasSrc in props)\n        if (props.hasOwnProperty(hasSrc)) {\n          var propValue$186 = props[hasSrc];\n          if (null != propValue$186)\n            switch (hasSrc) {\n              case \"name\":\n                hasSrcSet = propValue$186;\n                break;\n              case \"type\":\n                propValue = propValue$186;\n                break;\n              case \"checked\":\n                checked = propValue$186;\n                break;\n              case \"defaultChecked\":\n                defaultChecked = propValue$186;\n                break;\n              case \"value\":\n                propKey = propValue$186;\n                break;\n              case \"defaultValue\":\n                defaultValue = propValue$186;\n                break;\n              case \"children\":\n              case \"dangerouslySetInnerHTML\":\n                if (null != propValue$186)\n                  throw Error(formatProdErrorMessage(137, tag));\n                break;\n              default:\n                setProp(domElement, tag, hasSrc, propValue$186, props, null);\n            }\n        }\n      initInput(\n        domElement,\n        propKey,\n        defaultValue,\n        checked,\n        defaultChecked,\n        propValue,\n        hasSrcSet,\n        !1\n      );\n      track(domElement);\n      return;\n    case \"select\":\n      listenToNonDelegatedEvent(\"invalid\", domElement);\n      hasSrc = propValue = propKey = null;\n      for (hasSrcSet in props)\n        if (\n          props.hasOwnProperty(hasSrcSet) &&\n          ((defaultValue = props[hasSrcSet]), null != defaultValue)\n        )\n          switch (hasSrcSet) {\n            case \"value\":\n              propKey = defaultValue;\n              break;\n            case \"defaultValue\":\n              propValue = defaultValue;\n              break;\n            case \"multiple\":\n              hasSrc = defaultValue;\n            default:\n              setProp(domElement, tag, hasSrcSet, defaultValue, props, null);\n          }\n      tag = propKey;\n      props = propValue;\n      domElement.multiple = !!hasSrc;\n      null != tag\n        ? updateOptions(domElement, !!hasSrc, tag, !1)\n        : null != props && updateOptions(domElement, !!hasSrc, props, !0);\n      return;\n    case \"textarea\":\n      listenToNonDelegatedEvent(\"invalid\", domElement);\n      propKey = hasSrcSet = hasSrc = null;\n      for (propValue in props)\n        if (\n          props.hasOwnProperty(propValue) &&\n          ((defaultValue = props[propValue]), null != defaultValue)\n        )\n          switch (propValue) {\n            case \"value\":\n              hasSrc = defaultValue;\n              break;\n            case \"defaultValue\":\n              hasSrcSet = defaultValue;\n              break;\n            case \"children\":\n              propKey = defaultValue;\n              break;\n            case \"dangerouslySetInnerHTML\":\n              if (null != defaultValue) throw Error(formatProdErrorMessage(91));\n              break;\n            default:\n              setProp(domElement, tag, propValue, defaultValue, props, null);\n          }\n      initTextarea(domElement, hasSrc, hasSrcSet, propKey);\n      track(domElement);\n      return;\n    case \"option\":\n      for (checked in props)\n        if (\n          props.hasOwnProperty(checked) &&\n          ((hasSrc = props[checked]), null != hasSrc)\n        )\n          switch (checked) {\n            case \"selected\":\n              domElement.selected =\n                hasSrc &&\n                \"function\" !== typeof hasSrc &&\n                \"symbol\" !== typeof hasSrc;\n              break;\n            default:\n              setProp(domElement, tag, checked, hasSrc, props, null);\n          }\n      return;\n    case \"dialog\":\n      listenToNonDelegatedEvent(\"cancel\", domElement);\n      listenToNonDelegatedEvent(\"close\", domElement);\n      break;\n    case \"iframe\":\n    case \"object\":\n      listenToNonDelegatedEvent(\"load\", domElement);\n      break;\n    case \"video\":\n    case \"audio\":\n      for (hasSrc = 0; hasSrc < mediaEventTypes.length; hasSrc++)\n        listenToNonDelegatedEvent(mediaEventTypes[hasSrc], domElement);\n      break;\n    case \"image\":\n      listenToNonDelegatedEvent(\"error\", domElement);\n      listenToNonDelegatedEvent(\"load\", domElement);\n      break;\n    case \"details\":\n      listenToNonDelegatedEvent(\"toggle\", domElement);\n      break;\n    case \"embed\":\n    case \"source\":\n    case \"link\":\n      listenToNonDelegatedEvent(\"error\", domElement),\n        listenToNonDelegatedEvent(\"load\", domElement);\n    case \"area\":\n    case \"base\":\n    case \"br\":\n    case \"col\":\n    case \"hr\":\n    case \"keygen\":\n    case \"meta\":\n    case \"param\":\n    case \"track\":\n    case \"wbr\":\n    case \"menuitem\":\n      for (defaultChecked in props)\n        if (\n          props.hasOwnProperty(defaultChecked) &&\n          ((hasSrc = props[defaultChecked]), null != hasSrc)\n        )\n          switch (defaultChecked) {\n            case \"children\":\n            case \"dangerouslySetInnerHTML\":\n              throw Error(formatProdErrorMessage(137, tag));\n            default:\n              setProp(domElement, tag, defaultChecked, hasSrc, props, null);\n          }\n      return;\n    default:\n      if (isCustomElement(tag)) {\n        for (propValue$186 in props)\n          props.hasOwnProperty(propValue$186) &&\n            ((hasSrc = props[propValue$186]),\n            void 0 !== hasSrc &&\n              setPropOnCustomElement(\n                domElement,\n                tag,\n                propValue$186,\n                hasSrc,\n                props,\n                void 0\n              ));\n        return;\n      }\n  }\n  for (defaultValue in props)\n    props.hasOwnProperty(defaultValue) &&\n      ((hasSrc = props[defaultValue]),\n      null != hasSrc &&\n        setProp(domElement, tag, defaultValue, hasSrc, props, null));\n}\nfunction updateProperties(domElement, tag, lastProps, nextProps) {\n  switch (tag) {\n    case \"div\":\n    case \"span\":\n    case \"svg\":\n    case \"path\":\n    case \"a\":\n    case \"g\":\n    case \"p\":\n    case \"li\":\n      break;\n    case \"input\":\n      var name = null,\n        type = null,\n        value = null,\n        defaultValue = null,\n        lastDefaultValue = null,\n        checked = null,\n        defaultChecked = null;\n      for (propKey in lastProps) {\n        var lastProp = lastProps[propKey];\n        if (lastProps.hasOwnProperty(propKey) && null != lastProp)\n          switch (propKey) {\n            case \"checked\":\n              break;\n            case \"value\":\n              break;\n            case \"defaultValue\":\n              lastDefaultValue = lastProp;\n            default:\n              nextProps.hasOwnProperty(propKey) ||\n                setProp(domElement, tag, propKey, null, nextProps, lastProp);\n          }\n      }\n      for (var propKey$203 in nextProps) {\n        var propKey = nextProps[propKey$203];\n        lastProp = lastProps[propKey$203];\n        if (\n          nextProps.hasOwnProperty(propKey$203) &&\n          (null != propKey || null != lastProp)\n        )\n          switch (propKey$203) {\n            case \"type\":\n              type = propKey;\n              break;\n            case \"name\":\n              name = propKey;\n              break;\n            case \"checked\":\n              checked = propKey;\n              break;\n            case \"defaultChecked\":\n              defaultChecked = propKey;\n              break;\n            case \"value\":\n              value = propKey;\n              break;\n            case \"defaultValue\":\n              defaultValue = propKey;\n              break;\n            case \"children\":\n            case \"dangerouslySetInnerHTML\":\n              if (null != propKey)\n                throw Error(formatProdErrorMessage(137, tag));\n              break;\n            default:\n              propKey !== lastProp &&\n                setProp(\n                  domElement,\n                  tag,\n                  propKey$203,\n                  propKey,\n                  nextProps,\n                  lastProp\n                );\n          }\n      }\n      updateInput(\n        domElement,\n        value,\n        defaultValue,\n        lastDefaultValue,\n        checked,\n        defaultChecked,\n        type,\n        name\n      );\n      return;\n    case \"select\":\n      propKey = value = defaultValue = propKey$203 = null;\n      for (type in lastProps)\n        if (\n          ((lastDefaultValue = lastProps[type]),\n          lastProps.hasOwnProperty(type) && null != lastDefaultValue)\n        )\n          switch (type) {\n            case \"value\":\n              break;\n            case \"multiple\":\n              propKey = lastDefaultValue;\n            default:\n              nextProps.hasOwnProperty(type) ||\n                setProp(\n                  domElement,\n                  tag,\n                  type,\n                  null,\n                  nextProps,\n                  lastDefaultValue\n                );\n          }\n      for (name in nextProps)\n        if (\n          ((type = nextProps[name]),\n          (lastDefaultValue = lastProps[name]),\n          nextProps.hasOwnProperty(name) &&\n            (null != type || null != lastDefaultValue))\n        )\n          switch (name) {\n            case \"value\":\n              propKey$203 = type;\n              break;\n            case \"defaultValue\":\n              defaultValue = type;\n              break;\n            case \"multiple\":\n              value = type;\n            default:\n              type !== lastDefaultValue &&\n                setProp(\n                  domElement,\n                  tag,\n                  name,\n                  type,\n                  nextProps,\n                  lastDefaultValue\n                );\n          }\n      tag = defaultValue;\n      lastProps = value;\n      nextProps = propKey;\n      null != propKey$203\n        ? updateOptions(domElement, !!lastProps, propKey$203, !1)\n        : !!nextProps !== !!lastProps &&\n          (null != tag\n            ? updateOptions(domElement, !!lastProps, tag, !0)\n            : updateOptions(domElement, !!lastProps, lastProps ? [] : \"\", !1));\n      return;\n    case \"textarea\":\n      propKey = propKey$203 = null;\n      for (defaultValue in lastProps)\n        if (\n          ((name = lastProps[defaultValue]),\n          lastProps.hasOwnProperty(defaultValue) &&\n            null != name &&\n            !nextProps.hasOwnProperty(defaultValue))\n        )\n          switch (defaultValue) {\n            case \"value\":\n              break;\n            case \"children\":\n              break;\n            default:\n              setProp(domElement, tag, defaultValue, null, nextProps, name);\n          }\n      for (value in nextProps)\n        if (\n          ((name = nextProps[value]),\n          (type = lastProps[value]),\n          nextProps.hasOwnProperty(value) && (null != name || null != type))\n        )\n          switch (value) {\n            case \"value\":\n              propKey$203 = name;\n              break;\n            case \"defaultValue\":\n              propKey = name;\n              break;\n            case \"children\":\n              break;\n            case \"dangerouslySetInnerHTML\":\n              if (null != name) throw Error(formatProdErrorMessage(91));\n              break;\n            default:\n              name !== type &&\n                setProp(domElement, tag, value, name, nextProps, type);\n          }\n      updateTextarea(domElement, propKey$203, propKey);\n      return;\n    case \"option\":\n      for (var propKey$219 in lastProps)\n        if (\n          ((propKey$203 = lastProps[propKey$219]),\n          lastProps.hasOwnProperty(propKey$219) &&\n            null != propKey$203 &&\n            !nextProps.hasOwnProperty(propKey$219))\n        )\n          switch (propKey$219) {\n            case \"selected\":\n              domElement.selected = !1;\n              break;\n            default:\n              setProp(\n                domElement,\n                tag,\n                propKey$219,\n                null,\n                nextProps,\n                propKey$203\n              );\n          }\n      for (lastDefaultValue in nextProps)\n        if (\n          ((propKey$203 = nextProps[lastDefaultValue]),\n          (propKey = lastProps[lastDefaultValue]),\n          nextProps.hasOwnProperty(lastDefaultValue) &&\n            propKey$203 !== propKey &&\n            (null != propKey$203 || null != propKey))\n        )\n          switch (lastDefaultValue) {\n            case \"selected\":\n              domElement.selected =\n                propKey$203 &&\n                \"function\" !== typeof propKey$203 &&\n                \"symbol\" !== typeof propKey$203;\n              break;\n            default:\n              setProp(\n                domElement,\n                tag,\n                lastDefaultValue,\n                propKey$203,\n                nextProps,\n                propKey\n              );\n          }\n      return;\n    case \"img\":\n    case \"link\":\n    case \"area\":\n    case \"base\":\n    case \"br\":\n    case \"col\":\n    case \"embed\":\n    case \"hr\":\n    case \"keygen\":\n    case \"meta\":\n    case \"param\":\n    case \"source\":\n    case \"track\":\n    case \"wbr\":\n    case \"menuitem\":\n      for (var propKey$224 in lastProps)\n        (propKey$203 = lastProps[propKey$224]),\n          lastProps.hasOwnProperty(propKey$224) &&\n            null != propKey$203 &&\n            !nextProps.hasOwnProperty(propKey$224) &&\n            setProp(domElement, tag, propKey$224, null, nextProps, propKey$203);\n      for (checked in nextProps)\n        if (\n          ((propKey$203 = nextProps[checked]),\n          (propKey = lastProps[checked]),\n          nextProps.hasOwnProperty(checked) &&\n            propKey$203 !== propKey &&\n            (null != propKey$203 || null != propKey))\n        )\n          switch (checked) {\n            case \"children\":\n            case \"dangerouslySetInnerHTML\":\n              if (null != propKey$203)\n                throw Error(formatProdErrorMessage(137, tag));\n              break;\n            default:\n              setProp(\n                domElement,\n                tag,\n                checked,\n                propKey$203,\n                nextProps,\n                propKey\n              );\n          }\n      return;\n    default:\n      if (isCustomElement(tag)) {\n        for (var propKey$229 in lastProps)\n          (propKey$203 = lastProps[propKey$229]),\n            lastProps.hasOwnProperty(propKey$229) &&\n              void 0 !== propKey$203 &&\n              !nextProps.hasOwnProperty(propKey$229) &&\n              setPropOnCustomElement(\n                domElement,\n                tag,\n                propKey$229,\n                void 0,\n                nextProps,\n                propKey$203\n              );\n        for (defaultChecked in nextProps)\n          (propKey$203 = nextProps[defaultChecked]),\n            (propKey = lastProps[defaultChecked]),\n            !nextProps.hasOwnProperty(defaultChecked) ||\n              propKey$203 === propKey ||\n              (void 0 === propKey$203 && void 0 === propKey) ||\n              setPropOnCustomElement(\n                domElement,\n                tag,\n                defaultChecked,\n                propKey$203,\n                nextProps,\n                propKey\n              );\n        return;\n      }\n  }\n  for (var propKey$234 in lastProps)\n    (propKey$203 = lastProps[propKey$234]),\n      lastProps.hasOwnProperty(propKey$234) &&\n        null != propKey$203 &&\n        !nextProps.hasOwnProperty(propKey$234) &&\n        setProp(domElement, tag, propKey$234, null, nextProps, propKey$203);\n  for (lastProp in nextProps)\n    (propKey$203 = nextProps[lastProp]),\n      (propKey = lastProps[lastProp]),\n      !nextProps.hasOwnProperty(lastProp) ||\n        propKey$203 === propKey ||\n        (null == propKey$203 && null == propKey) ||\n        setProp(domElement, tag, lastProp, propKey$203, nextProps, propKey);\n}\nvar eventsEnabled = null,\n  selectionInformation = null;\nfunction getOwnerDocumentFromRootContainer(rootContainerElement) {\n  return 9 === rootContainerElement.nodeType\n    ? rootContainerElement\n    : rootContainerElement.ownerDocument;\n}\nfunction getOwnHostContext(namespaceURI) {\n  switch (namespaceURI) {\n    case \"http://www.w3.org/2000/svg\":\n      return 1;\n    case \"http://www.w3.org/1998/Math/MathML\":\n      return 2;\n    default:\n      return 0;\n  }\n}\nfunction getChildHostContextProd(parentNamespace, type) {\n  if (0 === parentNamespace)\n    switch (type) {\n      case \"svg\":\n        return 1;\n      case \"math\":\n        return 2;\n      default:\n        return 0;\n    }\n  return 1 === parentNamespace && \"foreignObject\" === type\n    ? 0\n    : parentNamespace;\n}\nfunction shouldSetTextContent(type, props) {\n  return (\n    \"textarea\" === type ||\n    \"noscript\" === type ||\n    \"string\" === typeof props.children ||\n    \"number\" === typeof props.children ||\n    \"bigint\" === typeof props.children ||\n    (\"object\" === typeof props.dangerouslySetInnerHTML &&\n      null !== props.dangerouslySetInnerHTML &&\n      null != props.dangerouslySetInnerHTML.__html)\n  );\n}\nvar currentPopstateTransitionEvent = null;\nfunction shouldAttemptEagerTransition() {\n  var event = window.event;\n  if (event && \"popstate\" === event.type) {\n    if (event === currentPopstateTransitionEvent) return !1;\n    currentPopstateTransitionEvent = event;\n    return !0;\n  }\n  currentPopstateTransitionEvent = null;\n  return !1;\n}\nvar scheduleTimeout = \"function\" === typeof setTimeout ? setTimeout : void 0,\n  cancelTimeout = \"function\" === typeof clearTimeout ? clearTimeout : void 0,\n  localPromise = \"function\" === typeof Promise ? Promise : void 0,\n  scheduleMicrotask =\n    \"function\" === typeof queueMicrotask\n      ? queueMicrotask\n      : \"undefined\" !== typeof localPromise\n        ? function (callback) {\n            return localPromise\n              .resolve(null)\n              .then(callback)\n              .catch(handleErrorInNextTick);\n          }\n        : scheduleTimeout;\nfunction handleErrorInNextTick(error) {\n  setTimeout(function () {\n    throw error;\n  });\n}\nfunction clearSuspenseBoundary(parentInstance, suspenseInstance) {\n  var node = suspenseInstance,\n    depth = 0;\n  do {\n    var nextNode = node.nextSibling;\n    parentInstance.removeChild(node);\n    if (nextNode && 8 === nextNode.nodeType)\n      if (((node = nextNode.data), \"/$\" === node)) {\n        if (0 === depth) {\n          parentInstance.removeChild(nextNode);\n          retryIfBlockedOn(suspenseInstance);\n          return;\n        }\n        depth--;\n      } else (\"$\" !== node && \"$?\" !== node && \"$!\" !== node) || depth++;\n    node = nextNode;\n  } while (node);\n  retryIfBlockedOn(suspenseInstance);\n}\nfunction clearContainerSparingly(container) {\n  var nextNode = container.firstChild;\n  nextNode && 10 === nextNode.nodeType && (nextNode = nextNode.nextSibling);\n  for (; nextNode; ) {\n    var node = nextNode;\n    nextNode = nextNode.nextSibling;\n    switch (node.nodeName) {\n      case \"HTML\":\n      case \"HEAD\":\n      case \"BODY\":\n        clearContainerSparingly(node);\n        detachDeletedInstance(node);\n        continue;\n      case \"SCRIPT\":\n      case \"STYLE\":\n        continue;\n      case \"LINK\":\n        if (\"stylesheet\" === node.rel.toLowerCase()) continue;\n    }\n    container.removeChild(node);\n  }\n}\nfunction canHydrateInstance(instance, type, props, inRootOrSingleton) {\n  for (; 1 === instance.nodeType; ) {\n    var anyProps = props;\n    if (instance.nodeName.toLowerCase() !== type.toLowerCase()) {\n      if (\n        !inRootOrSingleton &&\n        (\"INPUT\" !== instance.nodeName || \"hidden\" !== instance.type)\n      )\n        break;\n    } else if (!inRootOrSingleton)\n      if (\"input\" === type && \"hidden\" === instance.type) {\n        var name = null == anyProps.name ? null : \"\" + anyProps.name;\n        if (\n          \"hidden\" === anyProps.type &&\n          instance.getAttribute(\"name\") === name\n        )\n          return instance;\n      } else return instance;\n    else if (!instance[internalHoistableMarker])\n      switch (type) {\n        case \"meta\":\n          if (!instance.hasAttribute(\"itemprop\")) break;\n          return instance;\n        case \"link\":\n          name = instance.getAttribute(\"rel\");\n          if (\"stylesheet\" === name && instance.hasAttribute(\"data-precedence\"))\n            break;\n          else if (\n            name !== anyProps.rel ||\n            instance.getAttribute(\"href\") !==\n              (null == anyProps.href ? null : anyProps.href) ||\n            instance.getAttribute(\"crossorigin\") !==\n              (null == anyProps.crossOrigin ? null : anyProps.crossOrigin) ||\n            instance.getAttribute(\"title\") !==\n              (null == anyProps.title ? null : anyProps.title)\n          )\n            break;\n          return instance;\n        case \"style\":\n          if (instance.hasAttribute(\"data-precedence\")) break;\n          return instance;\n        case \"script\":\n          name = instance.getAttribute(\"src\");\n          if (\n            (name !== (null == anyProps.src ? null : anyProps.src) ||\n              instance.getAttribute(\"type\") !==\n                (null == anyProps.type ? null : anyProps.type) ||\n              instance.getAttribute(\"crossorigin\") !==\n                (null == anyProps.crossOrigin ? null : anyProps.crossOrigin)) &&\n            name &&\n            instance.hasAttribute(\"async\") &&\n            !instance.hasAttribute(\"itemprop\")\n          )\n            break;\n          return instance;\n        default:\n          return instance;\n      }\n    instance = getNextHydratable(instance.nextSibling);\n    if (null === instance) break;\n  }\n  return null;\n}\nfunction canHydrateTextInstance(instance, text, inRootOrSingleton) {\n  if (\"\" === text) return null;\n  for (; 3 !== instance.nodeType; ) {\n    if (\n      (1 !== instance.nodeType ||\n        \"INPUT\" !== instance.nodeName ||\n        \"hidden\" !== instance.type) &&\n      !inRootOrSingleton\n    )\n      return null;\n    instance = getNextHydratable(instance.nextSibling);\n    if (null === instance) return null;\n  }\n  return instance;\n}\nfunction getNextHydratable(node) {\n  for (; null != node; node = node.nextSibling) {\n    var nodeType = node.nodeType;\n    if (1 === nodeType || 3 === nodeType) break;\n    if (8 === nodeType) {\n      nodeType = node.data;\n      if (\n        \"$\" === nodeType ||\n        \"$!\" === nodeType ||\n        \"$?\" === nodeType ||\n        \"F!\" === nodeType ||\n        \"F\" === nodeType\n      )\n        break;\n      if (\"/$\" === nodeType) return null;\n    }\n  }\n  return node;\n}\nfunction getParentSuspenseInstance(targetInstance) {\n  targetInstance = targetInstance.previousSibling;\n  for (var depth = 0; targetInstance; ) {\n    if (8 === targetInstance.nodeType) {\n      var data = targetInstance.data;\n      if (\"$\" === data || \"$!\" === data || \"$?\" === data) {\n        if (0 === depth) return targetInstance;\n        depth--;\n      } else \"/$\" === data && depth++;\n    }\n    targetInstance = targetInstance.previousSibling;\n  }\n  return null;\n}\nfunction resolveSingletonInstance(type, props, rootContainerInstance) {\n  props = getOwnerDocumentFromRootContainer(rootContainerInstance);\n  switch (type) {\n    case \"html\":\n      type = props.documentElement;\n      if (!type) throw Error(formatProdErrorMessage(452));\n      return type;\n    case \"head\":\n      type = props.head;\n      if (!type) throw Error(formatProdErrorMessage(453));\n      return type;\n    case \"body\":\n      type = props.body;\n      if (!type) throw Error(formatProdErrorMessage(454));\n      return type;\n    default:\n      throw Error(formatProdErrorMessage(451));\n  }\n}\nvar preloadPropsMap = new Map(),\n  preconnectsSet = new Set();\nfunction getHoistableRoot(container) {\n  return \"function\" === typeof container.getRootNode\n    ? container.getRootNode()\n    : container.ownerDocument;\n}\nvar previousDispatcher = ReactDOMSharedInternals.d;\nReactDOMSharedInternals.d = {\n  f: flushSyncWork,\n  r: requestFormReset,\n  D: prefetchDNS,\n  C: preconnect,\n  L: preload,\n  m: preloadModule,\n  X: preinitScript,\n  S: preinitStyle,\n  M: preinitModuleScript\n};\nfunction flushSyncWork() {\n  var previousWasRendering = previousDispatcher.f(),\n    wasRendering = flushSyncWork$1();\n  return previousWasRendering || wasRendering;\n}\nfunction requestFormReset(form) {\n  var formInst = getInstanceFromNode(form);\n  null !== formInst && 5 === formInst.tag && \"form\" === formInst.type\n    ? requestFormReset$1(formInst)\n    : previousDispatcher.r(form);\n}\nvar globalDocument = \"undefined\" === typeof document ? null : document;\nfunction preconnectAs(rel, href, crossOrigin) {\n  var ownerDocument = globalDocument;\n  if (ownerDocument && \"string\" === typeof href && href) {\n    var limitedEscapedHref =\n      escapeSelectorAttributeValueInsideDoubleQuotes(href);\n    limitedEscapedHref =\n      'link[rel=\"' + rel + '\"][href=\"' + limitedEscapedHref + '\"]';\n    \"string\" === typeof crossOrigin &&\n      (limitedEscapedHref += '[crossorigin=\"' + crossOrigin + '\"]');\n    preconnectsSet.has(limitedEscapedHref) ||\n      (preconnectsSet.add(limitedEscapedHref),\n      (rel = { rel: rel, crossOrigin: crossOrigin, href: href }),\n      null === ownerDocument.querySelector(limitedEscapedHref) &&\n        ((href = ownerDocument.createElement(\"link\")),\n        setInitialProperties(href, \"link\", rel),\n        markNodeAsHoistable(href),\n        ownerDocument.head.appendChild(href)));\n  }\n}\nfunction prefetchDNS(href) {\n  previousDispatcher.D(href);\n  preconnectAs(\"dns-prefetch\", href, null);\n}\nfunction preconnect(href, crossOrigin) {\n  previousDispatcher.C(href, crossOrigin);\n  preconnectAs(\"preconnect\", href, crossOrigin);\n}\nfunction preload(href, as, options) {\n  previousDispatcher.L(href, as, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && href && as) {\n    var preloadSelector =\n      'link[rel=\"preload\"][as=\"' +\n      escapeSelectorAttributeValueInsideDoubleQuotes(as) +\n      '\"]';\n    \"image\" === as\n      ? options && options.imageSrcSet\n        ? ((preloadSelector +=\n            '[imagesrcset=\"' +\n            escapeSelectorAttributeValueInsideDoubleQuotes(\n              options.imageSrcSet\n            ) +\n            '\"]'),\n          \"string\" === typeof options.imageSizes &&\n            (preloadSelector +=\n              '[imagesizes=\"' +\n              escapeSelectorAttributeValueInsideDoubleQuotes(\n                options.imageSizes\n              ) +\n              '\"]'))\n        : (preloadSelector +=\n            '[href=\"' +\n            escapeSelectorAttributeValueInsideDoubleQuotes(href) +\n            '\"]')\n      : (preloadSelector +=\n          '[href=\"' +\n          escapeSelectorAttributeValueInsideDoubleQuotes(href) +\n          '\"]');\n    var key = preloadSelector;\n    switch (as) {\n      case \"style\":\n        key = getStyleKey(href);\n        break;\n      case \"script\":\n        key = getScriptKey(href);\n    }\n    preloadPropsMap.has(key) ||\n      ((href = assign(\n        {\n          rel: \"preload\",\n          href:\n            \"image\" === as && options && options.imageSrcSet ? void 0 : href,\n          as: as\n        },\n        options\n      )),\n      preloadPropsMap.set(key, href),\n      null !== ownerDocument.querySelector(preloadSelector) ||\n        (\"style\" === as &&\n          ownerDocument.querySelector(getStylesheetSelectorFromKey(key))) ||\n        (\"script\" === as &&\n          ownerDocument.querySelector(getScriptSelectorFromKey(key))) ||\n        ((as = ownerDocument.createElement(\"link\")),\n        setInitialProperties(as, \"link\", href),\n        markNodeAsHoistable(as),\n        ownerDocument.head.appendChild(as)));\n  }\n}\nfunction preloadModule(href, options) {\n  previousDispatcher.m(href, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && href) {\n    var as = options && \"string\" === typeof options.as ? options.as : \"script\",\n      preloadSelector =\n        'link[rel=\"modulepreload\"][as=\"' +\n        escapeSelectorAttributeValueInsideDoubleQuotes(as) +\n        '\"][href=\"' +\n        escapeSelectorAttributeValueInsideDoubleQuotes(href) +\n        '\"]',\n      key = preloadSelector;\n    switch (as) {\n      case \"audioworklet\":\n      case \"paintworklet\":\n      case \"serviceworker\":\n      case \"sharedworker\":\n      case \"worker\":\n      case \"script\":\n        key = getScriptKey(href);\n    }\n    if (\n      !preloadPropsMap.has(key) &&\n      ((href = assign({ rel: \"modulepreload\", href: href }, options)),\n      preloadPropsMap.set(key, href),\n      null === ownerDocument.querySelector(preloadSelector))\n    ) {\n      switch (as) {\n        case \"audioworklet\":\n        case \"paintworklet\":\n        case \"serviceworker\":\n        case \"sharedworker\":\n        case \"worker\":\n        case \"script\":\n          if (ownerDocument.querySelector(getScriptSelectorFromKey(key)))\n            return;\n      }\n      as = ownerDocument.createElement(\"link\");\n      setInitialProperties(as, \"link\", href);\n      markNodeAsHoistable(as);\n      ownerDocument.head.appendChild(as);\n    }\n  }\n}\nfunction preinitStyle(href, precedence, options) {\n  previousDispatcher.S(href, precedence, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && href) {\n    var styles = getResourcesFromRoot(ownerDocument).hoistableStyles,\n      key = getStyleKey(href);\n    precedence = precedence || \"default\";\n    var resource = styles.get(key);\n    if (!resource) {\n      var state = { loading: 0, preload: null };\n      if (\n        (resource = ownerDocument.querySelector(\n          getStylesheetSelectorFromKey(key)\n        ))\n      )\n        state.loading = 5;\n      else {\n        href = assign(\n          { rel: \"stylesheet\", href: href, \"data-precedence\": precedence },\n          options\n        );\n        (options = preloadPropsMap.get(key)) &&\n          adoptPreloadPropsForStylesheet(href, options);\n        var link = (resource = ownerDocument.createElement(\"link\"));\n        markNodeAsHoistable(link);\n        setInitialProperties(link, \"link\", href);\n        link._p = new Promise(function (resolve, reject) {\n          link.onload = resolve;\n          link.onerror = reject;\n        });\n        link.addEventListener(\"load\", function () {\n          state.loading |= 1;\n        });\n        link.addEventListener(\"error\", function () {\n          state.loading |= 2;\n        });\n        state.loading |= 4;\n        insertStylesheet(resource, precedence, ownerDocument);\n      }\n      resource = {\n        type: \"stylesheet\",\n        instance: resource,\n        count: 1,\n        state: state\n      };\n      styles.set(key, resource);\n    }\n  }\n}\nfunction preinitScript(src, options) {\n  previousDispatcher.X(src, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && src) {\n    var scripts = getResourcesFromRoot(ownerDocument).hoistableScripts,\n      key = getScriptKey(src),\n      resource = scripts.get(key);\n    resource ||\n      ((resource = ownerDocument.querySelector(getScriptSelectorFromKey(key))),\n      resource ||\n        ((src = assign({ src: src, async: !0 }, options)),\n        (options = preloadPropsMap.get(key)) &&\n          adoptPreloadPropsForScript(src, options),\n        (resource = ownerDocument.createElement(\"script\")),\n        markNodeAsHoistable(resource),\n        setInitialProperties(resource, \"link\", src),\n        ownerDocument.head.appendChild(resource)),\n      (resource = {\n        type: \"script\",\n        instance: resource,\n        count: 1,\n        state: null\n      }),\n      scripts.set(key, resource));\n  }\n}\nfunction preinitModuleScript(src, options) {\n  previousDispatcher.M(src, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && src) {\n    var scripts = getResourcesFromRoot(ownerDocument).hoistableScripts,\n      key = getScriptKey(src),\n      resource = scripts.get(key);\n    resource ||\n      ((resource = ownerDocument.querySelector(getScriptSelectorFromKey(key))),\n      resource ||\n        ((src = assign({ src: src, async: !0, type: \"module\" }, options)),\n        (options = preloadPropsMap.get(key)) &&\n          adoptPreloadPropsForScript(src, options),\n        (resource = ownerDocument.createElement(\"script\")),\n        markNodeAsHoistable(resource),\n        setInitialProperties(resource, \"link\", src),\n        ownerDocument.head.appendChild(resource)),\n      (resource = {\n        type: \"script\",\n        instance: resource,\n        count: 1,\n        state: null\n      }),\n      scripts.set(key, resource));\n  }\n}\nfunction getResource(type, currentProps, pendingProps, currentResource) {\n  var JSCompiler_inline_result = (JSCompiler_inline_result =\n    rootInstanceStackCursor.current)\n    ? getHoistableRoot(JSCompiler_inline_result)\n    : null;\n  if (!JSCompiler_inline_result) throw Error(formatProdErrorMessage(446));\n  switch (type) {\n    case \"meta\":\n    case \"title\":\n      return null;\n    case \"style\":\n      return \"string\" === typeof pendingProps.precedence &&\n        \"string\" === typeof pendingProps.href\n        ? ((currentProps = getStyleKey(pendingProps.href)),\n          (pendingProps = getResourcesFromRoot(\n            JSCompiler_inline_result\n          ).hoistableStyles),\n          (currentResource = pendingProps.get(currentProps)),\n          currentResource ||\n            ((currentResource = {\n              type: \"style\",\n              instance: null,\n              count: 0,\n              state: null\n            }),\n            pendingProps.set(currentProps, currentResource)),\n          currentResource)\n        : { type: \"void\", instance: null, count: 0, state: null };\n    case \"link\":\n      if (\n        \"stylesheet\" === pendingProps.rel &&\n        \"string\" === typeof pendingProps.href &&\n        \"string\" === typeof pendingProps.precedence\n      ) {\n        type = getStyleKey(pendingProps.href);\n        var styles$242 = getResourcesFromRoot(\n            JSCompiler_inline_result\n          ).hoistableStyles,\n          resource$243 = styles$242.get(type);\n        resource$243 ||\n          ((JSCompiler_inline_result =\n            JSCompiler_inline_result.ownerDocument || JSCompiler_inline_result),\n          (resource$243 = {\n            type: \"stylesheet\",\n            instance: null,\n            count: 0,\n            state: { loading: 0, preload: null }\n          }),\n          styles$242.set(type, resource$243),\n          (styles$242 = JSCompiler_inline_result.querySelector(\n            getStylesheetSelectorFromKey(type)\n          )) &&\n            !styles$242._p &&\n            ((resource$243.instance = styles$242),\n            (resource$243.state.loading = 5)),\n          preloadPropsMap.has(type) ||\n            ((pendingProps = {\n              rel: \"preload\",\n              as: \"style\",\n              href: pendingProps.href,\n              crossOrigin: pendingProps.crossOrigin,\n              integrity: pendingProps.integrity,\n              media: pendingProps.media,\n              hrefLang: pendingProps.hrefLang,\n              referrerPolicy: pendingProps.referrerPolicy\n            }),\n            preloadPropsMap.set(type, pendingProps),\n            styles$242 ||\n              preloadStylesheet(\n                JSCompiler_inline_result,\n                type,\n                pendingProps,\n                resource$243.state\n              )));\n        if (currentProps && null === currentResource)\n          throw Error(formatProdErrorMessage(528, \"\"));\n        return resource$243;\n      }\n      if (currentProps && null !== currentResource)\n        throw Error(formatProdErrorMessage(529, \"\"));\n      return null;\n    case \"script\":\n      return (\n        (currentProps = pendingProps.async),\n        (pendingProps = pendingProps.src),\n        \"string\" === typeof pendingProps &&\n        currentProps &&\n        \"function\" !== typeof currentProps &&\n        \"symbol\" !== typeof currentProps\n          ? ((currentProps = getScriptKey(pendingProps)),\n            (pendingProps = getResourcesFromRoot(\n              JSCompiler_inline_result\n            ).hoistableScripts),\n            (currentResource = pendingProps.get(currentProps)),\n            currentResource ||\n              ((currentResource = {\n                type: \"script\",\n                instance: null,\n                count: 0,\n                state: null\n              }),\n              pendingProps.set(currentProps, currentResource)),\n            currentResource)\n          : { type: \"void\", instance: null, count: 0, state: null }\n      );\n    default:\n      throw Error(formatProdErrorMessage(444, type));\n  }\n}\nfunction getStyleKey(href) {\n  return 'href=\"' + escapeSelectorAttributeValueInsideDoubleQuotes(href) + '\"';\n}\nfunction getStylesheetSelectorFromKey(key) {\n  return 'link[rel=\"stylesheet\"][' + key + \"]\";\n}\nfunction stylesheetPropsFromRawProps(rawProps) {\n  return assign({}, rawProps, {\n    \"data-precedence\": rawProps.precedence,\n    precedence: null\n  });\n}\nfunction preloadStylesheet(ownerDocument, key, preloadProps, state) {\n  ownerDocument.querySelector('link[rel=\"preload\"][as=\"style\"][' + key + \"]\")\n    ? (state.loading = 1)\n    : ((key = ownerDocument.createElement(\"link\")),\n      (state.preload = key),\n      key.addEventListener(\"load\", function () {\n        return (state.loading |= 1);\n      }),\n      key.addEventListener(\"error\", function () {\n        return (state.loading |= 2);\n      }),\n      setInitialProperties(key, \"link\", preloadProps),\n      markNodeAsHoistable(key),\n      ownerDocument.head.appendChild(key));\n}\nfunction getScriptKey(src) {\n  return '[src=\"' + escapeSelectorAttributeValueInsideDoubleQuotes(src) + '\"]';\n}\nfunction getScriptSelectorFromKey(key) {\n  return \"script[async]\" + key;\n}\nfunction acquireResource(hoistableRoot, resource, props) {\n  resource.count++;\n  if (null === resource.instance)\n    switch (resource.type) {\n      case \"style\":\n        var instance = hoistableRoot.querySelector(\n          'style[data-href~=\"' +\n            escapeSelectorAttributeValueInsideDoubleQuotes(props.href) +\n            '\"]'\n        );\n        if (instance)\n          return (\n            (resource.instance = instance),\n            markNodeAsHoistable(instance),\n            instance\n          );\n        var styleProps = assign({}, props, {\n          \"data-href\": props.href,\n          \"data-precedence\": props.precedence,\n          href: null,\n          precedence: null\n        });\n        instance = (hoistableRoot.ownerDocument || hoistableRoot).createElement(\n          \"style\"\n        );\n        markNodeAsHoistable(instance);\n        setInitialProperties(instance, \"style\", styleProps);\n        insertStylesheet(instance, props.precedence, hoistableRoot);\n        return (resource.instance = instance);\n      case \"stylesheet\":\n        styleProps = getStyleKey(props.href);\n        var instance$248 = hoistableRoot.querySelector(\n          getStylesheetSelectorFromKey(styleProps)\n        );\n        if (instance$248)\n          return (\n            (resource.state.loading |= 4),\n            (resource.instance = instance$248),\n            markNodeAsHoistable(instance$248),\n            instance$248\n          );\n        instance = stylesheetPropsFromRawProps(props);\n        (styleProps = preloadPropsMap.get(styleProps)) &&\n          adoptPreloadPropsForStylesheet(instance, styleProps);\n        instance$248 = (\n          hoistableRoot.ownerDocument || hoistableRoot\n        ).createElement(\"link\");\n        markNodeAsHoistable(instance$248);\n        var linkInstance = instance$248;\n        linkInstance._p = new Promise(function (resolve, reject) {\n          linkInstance.onload = resolve;\n          linkInstance.onerror = reject;\n        });\n        setInitialProperties(instance$248, \"link\", instance);\n        resource.state.loading |= 4;\n        insertStylesheet(instance$248, props.precedence, hoistableRoot);\n        return (resource.instance = instance$248);\n      case \"script\":\n        instance$248 = getScriptKey(props.src);\n        if (\n          (styleProps = hoistableRoot.querySelector(\n            getScriptSelectorFromKey(instance$248)\n          ))\n        )\n          return (\n            (resource.instance = styleProps),\n            markNodeAsHoistable(styleProps),\n            styleProps\n          );\n        instance = props;\n        if ((styleProps = preloadPropsMap.get(instance$248)))\n          (instance = assign({}, props)),\n            adoptPreloadPropsForScript(instance, styleProps);\n        hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;\n        styleProps = hoistableRoot.createElement(\"script\");\n        markNodeAsHoistable(styleProps);\n        setInitialProperties(styleProps, \"link\", instance);\n        hoistableRoot.head.appendChild(styleProps);\n        return (resource.instance = styleProps);\n      case \"void\":\n        return null;\n      default:\n        throw Error(formatProdErrorMessage(443, resource.type));\n    }\n  else\n    \"stylesheet\" === resource.type &&\n      0 === (resource.state.loading & 4) &&\n      ((instance = resource.instance),\n      (resource.state.loading |= 4),\n      insertStylesheet(instance, props.precedence, hoistableRoot));\n  return resource.instance;\n}\nfunction insertStylesheet(instance, precedence, root) {\n  for (\n    var nodes = root.querySelectorAll(\n        'link[rel=\"stylesheet\"][data-precedence],style[data-precedence]'\n      ),\n      last = nodes.length ? nodes[nodes.length - 1] : null,\n      prior = last,\n      i = 0;\n    i < nodes.length;\n    i++\n  ) {\n    var node = nodes[i];\n    if (node.dataset.precedence === precedence) prior = node;\n    else if (prior !== last) break;\n  }\n  prior\n    ? prior.parentNode.insertBefore(instance, prior.nextSibling)\n    : ((precedence = 9 === root.nodeType ? root.head : root),\n      precedence.insertBefore(instance, precedence.firstChild));\n}\nfunction adoptPreloadPropsForStylesheet(stylesheetProps, preloadProps) {\n  null == stylesheetProps.crossOrigin &&\n    (stylesheetProps.crossOrigin = preloadProps.crossOrigin);\n  null == stylesheetProps.referrerPolicy &&\n    (stylesheetProps.referrerPolicy = preloadProps.referrerPolicy);\n  null == stylesheetProps.title && (stylesheetProps.title = preloadProps.title);\n}\nfunction adoptPreloadPropsForScript(scriptProps, preloadProps) {\n  null == scriptProps.crossOrigin &&\n    (scriptProps.crossOrigin = preloadProps.crossOrigin);\n  null == scriptProps.referrerPolicy &&\n    (scriptProps.referrerPolicy = preloadProps.referrerPolicy);\n  null == scriptProps.integrity &&\n    (scriptProps.integrity = preloadProps.integrity);\n}\nvar tagCaches = null;\nfunction getHydratableHoistableCache(type, keyAttribute, ownerDocument) {\n  if (null === tagCaches) {\n    var cache = new Map();\n    var caches = (tagCaches = new Map());\n    caches.set(ownerDocument, cache);\n  } else\n    (caches = tagCaches),\n      (cache = caches.get(ownerDocument)),\n      cache || ((cache = new Map()), caches.set(ownerDocument, cache));\n  if (cache.has(type)) return cache;\n  cache.set(type, null);\n  ownerDocument = ownerDocument.getElementsByTagName(type);\n  for (caches = 0; caches < ownerDocument.length; caches++) {\n    var node = ownerDocument[caches];\n    if (\n      !(\n        node[internalHoistableMarker] ||\n        node[internalInstanceKey] ||\n        (\"link\" === type && \"stylesheet\" === node.getAttribute(\"rel\"))\n      ) &&\n      \"http://www.w3.org/2000/svg\" !== node.namespaceURI\n    ) {\n      var nodeKey = node.getAttribute(keyAttribute) || \"\";\n      nodeKey = type + nodeKey;\n      var existing = cache.get(nodeKey);\n      existing ? existing.push(node) : cache.set(nodeKey, [node]);\n    }\n  }\n  return cache;\n}\nfunction mountHoistable(hoistableRoot, type, instance) {\n  hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;\n  hoistableRoot.head.insertBefore(\n    instance,\n    \"title\" === type ? hoistableRoot.querySelector(\"head > title\") : null\n  );\n}\nfunction isHostHoistableType(type, props, hostContext) {\n  if (1 === hostContext || null != props.itemProp) return !1;\n  switch (type) {\n    case \"meta\":\n    case \"title\":\n      return !0;\n    case \"style\":\n      if (\n        \"string\" !== typeof props.precedence ||\n        \"string\" !== typeof props.href ||\n        \"\" === props.href\n      )\n        break;\n      return !0;\n    case \"link\":\n      if (\n        \"string\" !== typeof props.rel ||\n        \"string\" !== typeof props.href ||\n        \"\" === props.href ||\n        props.onLoad ||\n        props.onError\n      )\n        break;\n      switch (props.rel) {\n        case \"stylesheet\":\n          return (\n            (type = props.disabled),\n            \"string\" === typeof props.precedence && null == type\n          );\n        default:\n          return !0;\n      }\n    case \"script\":\n      if (\n        props.async &&\n        \"function\" !== typeof props.async &&\n        \"symbol\" !== typeof props.async &&\n        !props.onLoad &&\n        !props.onError &&\n        props.src &&\n        \"string\" === typeof props.src\n      )\n        return !0;\n  }\n  return !1;\n}\nfunction preloadResource(resource) {\n  return \"stylesheet\" === resource.type && 0 === (resource.state.loading & 3)\n    ? !1\n    : !0;\n}\nvar suspendedState = null;\nfunction noop() {}\nfunction suspendResource(hoistableRoot, resource, props) {\n  if (null === suspendedState) throw Error(formatProdErrorMessage(475));\n  var state = suspendedState;\n  if (\n    \"stylesheet\" === resource.type &&\n    (\"string\" !== typeof props.media ||\n      !1 !== matchMedia(props.media).matches) &&\n    0 === (resource.state.loading & 4)\n  ) {\n    if (null === resource.instance) {\n      var key = getStyleKey(props.href),\n        instance = hoistableRoot.querySelector(\n          getStylesheetSelectorFromKey(key)\n        );\n      if (instance) {\n        hoistableRoot = instance._p;\n        null !== hoistableRoot &&\n          \"object\" === typeof hoistableRoot &&\n          \"function\" === typeof hoistableRoot.then &&\n          (state.count++,\n          (state = onUnsuspend.bind(state)),\n          hoistableRoot.then(state, state));\n        resource.state.loading |= 4;\n        resource.instance = instance;\n        markNodeAsHoistable(instance);\n        return;\n      }\n      instance = hoistableRoot.ownerDocument || hoistableRoot;\n      props = stylesheetPropsFromRawProps(props);\n      (key = preloadPropsMap.get(key)) &&\n        adoptPreloadPropsForStylesheet(props, key);\n      instance = instance.createElement(\"link\");\n      markNodeAsHoistable(instance);\n      var linkInstance = instance;\n      linkInstance._p = new Promise(function (resolve, reject) {\n        linkInstance.onload = resolve;\n        linkInstance.onerror = reject;\n      });\n      setInitialProperties(instance, \"link\", props);\n      resource.instance = instance;\n    }\n    null === state.stylesheets && (state.stylesheets = new Map());\n    state.stylesheets.set(resource, hoistableRoot);\n    (hoistableRoot = resource.state.preload) &&\n      0 === (resource.state.loading & 3) &&\n      (state.count++,\n      (resource = onUnsuspend.bind(state)),\n      hoistableRoot.addEventListener(\"load\", resource),\n      hoistableRoot.addEventListener(\"error\", resource));\n  }\n}\nfunction waitForCommitToBeReady() {\n  if (null === suspendedState) throw Error(formatProdErrorMessage(475));\n  var state = suspendedState;\n  state.stylesheets &&\n    0 === state.count &&\n    insertSuspendedStylesheets(state, state.stylesheets);\n  return 0 < state.count\n    ? function (commit) {\n        var stylesheetTimer = setTimeout(function () {\n          state.stylesheets &&\n            insertSuspendedStylesheets(state, state.stylesheets);\n          if (state.unsuspend) {\n            var unsuspend = state.unsuspend;\n            state.unsuspend = null;\n            unsuspend();\n          }\n        }, 6e4);\n        state.unsuspend = commit;\n        return function () {\n          state.unsuspend = null;\n          clearTimeout(stylesheetTimer);\n        };\n      }\n    : null;\n}\nfunction onUnsuspend() {\n  this.count--;\n  if (0 === this.count)\n    if (this.stylesheets) insertSuspendedStylesheets(this, this.stylesheets);\n    else if (this.unsuspend) {\n      var unsuspend = this.unsuspend;\n      this.unsuspend = null;\n      unsuspend();\n    }\n}\nvar precedencesByRoot = null;\nfunction insertSuspendedStylesheets(state, resources) {\n  state.stylesheets = null;\n  null !== state.unsuspend &&\n    (state.count++,\n    (precedencesByRoot = new Map()),\n    resources.forEach(insertStylesheetIntoRoot, state),\n    (precedencesByRoot = null),\n    onUnsuspend.call(state));\n}\nfunction insertStylesheetIntoRoot(root, resource) {\n  if (!(resource.state.loading & 4)) {\n    var precedences = precedencesByRoot.get(root);\n    if (precedences) var last = precedences.get(null);\n    else {\n      precedences = new Map();\n      precedencesByRoot.set(root, precedences);\n      for (\n        var nodes = root.querySelectorAll(\n            \"link[data-precedence],style[data-precedence]\"\n          ),\n          i = 0;\n        i < nodes.length;\n        i++\n      ) {\n        var node = nodes[i];\n        if (\n          \"LINK\" === node.nodeName ||\n          \"not all\" !== node.getAttribute(\"media\")\n        )\n          precedences.set(node.dataset.precedence, node), (last = node);\n      }\n      last && precedences.set(null, last);\n    }\n    nodes = resource.instance;\n    node = nodes.getAttribute(\"data-precedence\");\n    i = precedences.get(node) || last;\n    i === last && precedences.set(null, nodes);\n    precedences.set(node, nodes);\n    this.count++;\n    last = onUnsuspend.bind(this);\n    nodes.addEventListener(\"load\", last);\n    nodes.addEventListener(\"error\", last);\n    i\n      ? i.parentNode.insertBefore(nodes, i.nextSibling)\n      : ((root = 9 === root.nodeType ? root.head : root),\n        root.insertBefore(nodes, root.firstChild));\n    resource.state.loading |= 4;\n  }\n}\nvar HostTransitionContext = {\n  $$typeof: REACT_CONTEXT_TYPE,\n  Provider: null,\n  Consumer: null,\n  _currentValue: sharedNotPendingObject,\n  _currentValue2: sharedNotPendingObject,\n  _threadCount: 0\n};\nfunction FiberRootNode(\n  containerInfo,\n  tag,\n  hydrate,\n  identifierPrefix,\n  onUncaughtError,\n  onCaughtError,\n  onRecoverableError,\n  formState\n) {\n  this.tag = 1;\n  this.containerInfo = containerInfo;\n  this.finishedWork =\n    this.pingCache =\n    this.current =\n    this.pendingChildren =\n      null;\n  this.timeoutHandle = -1;\n  this.callbackNode =\n    this.next =\n    this.pendingContext =\n    this.context =\n    this.cancelPendingCommit =\n      null;\n  this.callbackPriority = 0;\n  this.expirationTimes = createLaneMap(-1);\n  this.entangledLanes =\n    this.shellSuspendCounter =\n    this.errorRecoveryDisabledLanes =\n    this.finishedLanes =\n    this.expiredLanes =\n    this.warmLanes =\n    this.pingedLanes =\n    this.suspendedLanes =\n    this.pendingLanes =\n      0;\n  this.entanglements = createLaneMap(0);\n  this.hiddenUpdates = createLaneMap(null);\n  this.identifierPrefix = identifierPrefix;\n  this.onUncaughtError = onUncaughtError;\n  this.onCaughtError = onCaughtError;\n  this.onRecoverableError = onRecoverableError;\n  this.pooledCache = null;\n  this.pooledCacheLanes = 0;\n  this.formState = formState;\n  this.incompleteTransitions = new Map();\n}\nfunction createFiberRoot(\n  containerInfo,\n  tag,\n  hydrate,\n  initialChildren,\n  hydrationCallbacks,\n  isStrictMode,\n  identifierPrefix,\n  onUncaughtError,\n  onCaughtError,\n  onRecoverableError,\n  transitionCallbacks,\n  formState\n) {\n  containerInfo = new FiberRootNode(\n    containerInfo,\n    tag,\n    hydrate,\n    identifierPrefix,\n    onUncaughtError,\n    onCaughtError,\n    onRecoverableError,\n    formState\n  );\n  tag = 1;\n  !0 === isStrictMode && (tag |= 24);\n  isStrictMode = createFiberImplClass(3, null, null, tag);\n  containerInfo.current = isStrictMode;\n  isStrictMode.stateNode = containerInfo;\n  tag = createCache();\n  tag.refCount++;\n  containerInfo.pooledCache = tag;\n  tag.refCount++;\n  isStrictMode.memoizedState = {\n    element: initialChildren,\n    isDehydrated: hydrate,\n    cache: tag\n  };\n  initializeUpdateQueue(isStrictMode);\n  return containerInfo;\n}\nfunction getContextForSubtree(parentComponent) {\n  if (!parentComponent) return emptyContextObject;\n  parentComponent = emptyContextObject;\n  return parentComponent;\n}\nfunction updateContainerImpl(\n  rootFiber,\n  lane,\n  element,\n  container,\n  parentComponent,\n  callback\n) {\n  parentComponent = getContextForSubtree(parentComponent);\n  null === container.context\n    ? (container.context = parentComponent)\n    : (container.pendingContext = parentComponent);\n  container = createUpdate(lane);\n  container.payload = { element: element };\n  callback = void 0 === callback ? null : callback;\n  null !== callback && (container.callback = callback);\n  element = enqueueUpdate(rootFiber, container, lane);\n  null !== element &&\n    (scheduleUpdateOnFiber(element, rootFiber, lane),\n    entangleTransitions(element, rootFiber, lane));\n}\nfunction markRetryLaneImpl(fiber, retryLane) {\n  fiber = fiber.memoizedState;\n  if (null !== fiber && null !== fiber.dehydrated) {\n    var a = fiber.retryLane;\n    fiber.retryLane = 0 !== a && a < retryLane ? a : retryLane;\n  }\n}\nfunction markRetryLaneIfNotHydrated(fiber, retryLane) {\n  markRetryLaneImpl(fiber, retryLane);\n  (fiber = fiber.alternate) && markRetryLaneImpl(fiber, retryLane);\n}\nfunction attemptContinuousHydration(fiber) {\n  if (13 === fiber.tag) {\n    var root = enqueueConcurrentRenderForLane(fiber, 67108864);\n    null !== root && scheduleUpdateOnFiber(root, fiber, 67108864);\n    markRetryLaneIfNotHydrated(fiber, 67108864);\n  }\n}\nvar _enabled = !0;\nfunction dispatchDiscreteEvent(\n  domEventName,\n  eventSystemFlags,\n  container,\n  nativeEvent\n) {\n  var prevTransition = ReactSharedInternals.T;\n  ReactSharedInternals.T = null;\n  var previousPriority = ReactDOMSharedInternals.p;\n  try {\n    (ReactDOMSharedInternals.p = 2),\n      dispatchEvent(domEventName, eventSystemFlags, container, nativeEvent);\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition);\n  }\n}\nfunction dispatchContinuousEvent(\n  domEventName,\n  eventSystemFlags,\n  container,\n  nativeEvent\n) {\n  var prevTransition = ReactSharedInternals.T;\n  ReactSharedInternals.T = null;\n  var previousPriority = ReactDOMSharedInternals.p;\n  try {\n    (ReactDOMSharedInternals.p = 8),\n      dispatchEvent(domEventName, eventSystemFlags, container, nativeEvent);\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition);\n  }\n}\nfunction dispatchEvent(\n  domEventName,\n  eventSystemFlags,\n  targetContainer,\n  nativeEvent\n) {\n  if (_enabled) {\n    var blockedOn = findInstanceBlockingEvent(nativeEvent);\n    if (null === blockedOn)\n      dispatchEventForPluginEventSystem(\n        domEventName,\n        eventSystemFlags,\n        nativeEvent,\n        return_targetInst,\n        targetContainer\n      ),\n        clearIfContinuousEvent(domEventName, nativeEvent);\n    else if (\n      queueIfContinuousEvent(\n        blockedOn,\n        domEventName,\n        eventSystemFlags,\n        targetContainer,\n        nativeEvent\n      )\n    )\n      nativeEvent.stopPropagation();\n    else if (\n      (clearIfContinuousEvent(domEventName, nativeEvent),\n      eventSystemFlags & 4 &&\n        -1 < discreteReplayableEvents.indexOf(domEventName))\n    ) {\n      for (; null !== blockedOn; ) {\n        var fiber = getInstanceFromNode(blockedOn);\n        if (null !== fiber)\n          switch (fiber.tag) {\n            case 3:\n              fiber = fiber.stateNode;\n              if (fiber.current.memoizedState.isDehydrated) {\n                var lanes = getHighestPriorityLanes(fiber.pendingLanes);\n                if (0 !== lanes) {\n                  var root = fiber;\n                  root.pendingLanes |= 2;\n                  for (root.entangledLanes |= 2; lanes; ) {\n                    var lane = 1 << (31 - clz32(lanes));\n                    root.entanglements[1] |= lane;\n                    lanes &= ~lane;\n                  }\n                  ensureRootIsScheduled(fiber);\n                  0 === (executionContext & 6) &&\n                    ((workInProgressRootRenderTargetTime = now() + 500),\n                    flushSyncWorkAcrossRoots_impl(0, !1));\n                }\n              }\n              break;\n            case 13:\n              (root = enqueueConcurrentRenderForLane(fiber, 2)),\n                null !== root && scheduleUpdateOnFiber(root, fiber, 2),\n                flushSyncWork$1(),\n                markRetryLaneIfNotHydrated(fiber, 2);\n          }\n        fiber = findInstanceBlockingEvent(nativeEvent);\n        null === fiber &&\n          dispatchEventForPluginEventSystem(\n            domEventName,\n            eventSystemFlags,\n            nativeEvent,\n            return_targetInst,\n            targetContainer\n          );\n        if (fiber === blockedOn) break;\n        blockedOn = fiber;\n      }\n      null !== blockedOn && nativeEvent.stopPropagation();\n    } else\n      dispatchEventForPluginEventSystem(\n        domEventName,\n        eventSystemFlags,\n        nativeEvent,\n        null,\n        targetContainer\n      );\n  }\n}\nfunction findInstanceBlockingEvent(nativeEvent) {\n  nativeEvent = getEventTarget(nativeEvent);\n  return findInstanceBlockingTarget(nativeEvent);\n}\nvar return_targetInst = null;\nfunction findInstanceBlockingTarget(targetNode) {\n  return_targetInst = null;\n  targetNode = getClosestInstanceFromNode(targetNode);\n  if (null !== targetNode) {\n    var nearestMounted = getNearestMountedFiber(targetNode);\n    if (null === nearestMounted) targetNode = null;\n    else {\n      var tag = nearestMounted.tag;\n      if (13 === tag) {\n        targetNode = getSuspenseInstanceFromFiber(nearestMounted);\n        if (null !== targetNode) return targetNode;\n        targetNode = null;\n      } else if (3 === tag) {\n        if (nearestMounted.stateNode.current.memoizedState.isDehydrated)\n          return 3 === nearestMounted.tag\n            ? nearestMounted.stateNode.containerInfo\n            : null;\n        targetNode = null;\n      } else nearestMounted !== targetNode && (targetNode = null);\n    }\n  }\n  return_targetInst = targetNode;\n  return null;\n}\nfunction getEventPriority(domEventName) {\n  switch (domEventName) {\n    case \"beforetoggle\":\n    case \"cancel\":\n    case \"click\":\n    case \"close\":\n    case \"contextmenu\":\n    case \"copy\":\n    case \"cut\":\n    case \"auxclick\":\n    case \"dblclick\":\n    case \"dragend\":\n    case \"dragstart\":\n    case \"drop\":\n    case \"focusin\":\n    case \"focusout\":\n    case \"input\":\n    case \"invalid\":\n    case \"keydown\":\n    case \"keypress\":\n    case \"keyup\":\n    case \"mousedown\":\n    case \"mouseup\":\n    case \"paste\":\n    case \"pause\":\n    case \"play\":\n    case \"pointercancel\":\n    case \"pointerdown\":\n    case \"pointerup\":\n    case \"ratechange\":\n    case \"reset\":\n    case \"resize\":\n    case \"seeked\":\n    case \"submit\":\n    case \"toggle\":\n    case \"touchcancel\":\n    case \"touchend\":\n    case \"touchstart\":\n    case \"volumechange\":\n    case \"change\":\n    case \"selectionchange\":\n    case \"textInput\":\n    case \"compositionstart\":\n    case \"compositionend\":\n    case \"compositionupdate\":\n    case \"beforeblur\":\n    case \"afterblur\":\n    case \"beforeinput\":\n    case \"blur\":\n    case \"fullscreenchange\":\n    case \"focus\":\n    case \"hashchange\":\n    case \"popstate\":\n    case \"select\":\n    case \"selectstart\":\n      return 2;\n    case \"drag\":\n    case \"dragenter\":\n    case \"dragexit\":\n    case \"dragleave\":\n    case \"dragover\":\n    case \"mousemove\":\n    case \"mouseout\":\n    case \"mouseover\":\n    case \"pointermove\":\n    case \"pointerout\":\n    case \"pointerover\":\n    case \"scroll\":\n    case \"touchmove\":\n    case \"wheel\":\n    case \"mouseenter\":\n    case \"mouseleave\":\n    case \"pointerenter\":\n    case \"pointerleave\":\n      return 8;\n    case \"message\":\n      switch (getCurrentPriorityLevel()) {\n        case ImmediatePriority:\n          return 2;\n        case UserBlockingPriority:\n          return 8;\n        case NormalPriority$1:\n        case LowPriority:\n          return 32;\n        case IdlePriority:\n          return 268435456;\n        default:\n          return 32;\n      }\n    default:\n      return 32;\n  }\n}\nvar hasScheduledReplayAttempt = !1,\n  queuedFocus = null,\n  queuedDrag = null,\n  queuedMouse = null,\n  queuedPointers = new Map(),\n  queuedPointerCaptures = new Map(),\n  queuedExplicitHydrationTargets = [],\n  discreteReplayableEvents =\n    \"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset\".split(\n      \" \"\n    );\nfunction clearIfContinuousEvent(domEventName, nativeEvent) {\n  switch (domEventName) {\n    case \"focusin\":\n    case \"focusout\":\n      queuedFocus = null;\n      break;\n    case \"dragenter\":\n    case \"dragleave\":\n      queuedDrag = null;\n      break;\n    case \"mouseover\":\n    case \"mouseout\":\n      queuedMouse = null;\n      break;\n    case \"pointerover\":\n    case \"pointerout\":\n      queuedPointers.delete(nativeEvent.pointerId);\n      break;\n    case \"gotpointercapture\":\n    case \"lostpointercapture\":\n      queuedPointerCaptures.delete(nativeEvent.pointerId);\n  }\n}\nfunction accumulateOrCreateContinuousQueuedReplayableEvent(\n  existingQueuedEvent,\n  blockedOn,\n  domEventName,\n  eventSystemFlags,\n  targetContainer,\n  nativeEvent\n) {\n  if (\n    null === existingQueuedEvent ||\n    existingQueuedEvent.nativeEvent !== nativeEvent\n  )\n    return (\n      (existingQueuedEvent = {\n        blockedOn: blockedOn,\n        domEventName: domEventName,\n        eventSystemFlags: eventSystemFlags,\n        nativeEvent: nativeEvent,\n        targetContainers: [targetContainer]\n      }),\n      null !== blockedOn &&\n        ((blockedOn = getInstanceFromNode(blockedOn)),\n        null !== blockedOn && attemptContinuousHydration(blockedOn)),\n      existingQueuedEvent\n    );\n  existingQueuedEvent.eventSystemFlags |= eventSystemFlags;\n  blockedOn = existingQueuedEvent.targetContainers;\n  null !== targetContainer &&\n    -1 === blockedOn.indexOf(targetContainer) &&\n    blockedOn.push(targetContainer);\n  return existingQueuedEvent;\n}\nfunction queueIfContinuousEvent(\n  blockedOn,\n  domEventName,\n  eventSystemFlags,\n  targetContainer,\n  nativeEvent\n) {\n  switch (domEventName) {\n    case \"focusin\":\n      return (\n        (queuedFocus = accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedFocus,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )),\n        !0\n      );\n    case \"dragenter\":\n      return (\n        (queuedDrag = accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedDrag,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )),\n        !0\n      );\n    case \"mouseover\":\n      return (\n        (queuedMouse = accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedMouse,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )),\n        !0\n      );\n    case \"pointerover\":\n      var pointerId = nativeEvent.pointerId;\n      queuedPointers.set(\n        pointerId,\n        accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedPointers.get(pointerId) || null,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )\n      );\n      return !0;\n    case \"gotpointercapture\":\n      return (\n        (pointerId = nativeEvent.pointerId),\n        queuedPointerCaptures.set(\n          pointerId,\n          accumulateOrCreateContinuousQueuedReplayableEvent(\n            queuedPointerCaptures.get(pointerId) || null,\n            blockedOn,\n            domEventName,\n            eventSystemFlags,\n            targetContainer,\n            nativeEvent\n          )\n        ),\n        !0\n      );\n  }\n  return !1;\n}\nfunction attemptExplicitHydrationTarget(queuedTarget) {\n  var targetInst = getClosestInstanceFromNode(queuedTarget.target);\n  if (null !== targetInst) {\n    var nearestMounted = getNearestMountedFiber(targetInst);\n    if (null !== nearestMounted)\n      if (((targetInst = nearestMounted.tag), 13 === targetInst)) {\n        if (\n          ((targetInst = getSuspenseInstanceFromFiber(nearestMounted)),\n          null !== targetInst)\n        ) {\n          queuedTarget.blockedOn = targetInst;\n          runWithPriority(queuedTarget.priority, function () {\n            if (13 === nearestMounted.tag) {\n              var lane = requestUpdateLane(),\n                root = enqueueConcurrentRenderForLane(nearestMounted, lane);\n              null !== root &&\n                scheduleUpdateOnFiber(root, nearestMounted, lane);\n              markRetryLaneIfNotHydrated(nearestMounted, lane);\n            }\n          });\n          return;\n        }\n      } else if (\n        3 === targetInst &&\n        nearestMounted.stateNode.current.memoizedState.isDehydrated\n      ) {\n        queuedTarget.blockedOn =\n          3 === nearestMounted.tag\n            ? nearestMounted.stateNode.containerInfo\n            : null;\n        return;\n      }\n  }\n  queuedTarget.blockedOn = null;\n}\nfunction attemptReplayContinuousQueuedEvent(queuedEvent) {\n  if (null !== queuedEvent.blockedOn) return !1;\n  for (\n    var targetContainers = queuedEvent.targetContainers;\n    0 < targetContainers.length;\n\n  ) {\n    var nextBlockedOn = findInstanceBlockingEvent(queuedEvent.nativeEvent);\n    if (null === nextBlockedOn) {\n      nextBlockedOn = queuedEvent.nativeEvent;\n      var nativeEventClone = new nextBlockedOn.constructor(\n        nextBlockedOn.type,\n        nextBlockedOn\n      );\n      currentReplayingEvent = nativeEventClone;\n      nextBlockedOn.target.dispatchEvent(nativeEventClone);\n      currentReplayingEvent = null;\n    } else\n      return (\n        (targetContainers = getInstanceFromNode(nextBlockedOn)),\n        null !== targetContainers &&\n          attemptContinuousHydration(targetContainers),\n        (queuedEvent.blockedOn = nextBlockedOn),\n        !1\n      );\n    targetContainers.shift();\n  }\n  return !0;\n}\nfunction attemptReplayContinuousQueuedEventInMap(queuedEvent, key, map) {\n  attemptReplayContinuousQueuedEvent(queuedEvent) && map.delete(key);\n}\nfunction replayUnblockedEvents() {\n  hasScheduledReplayAttempt = !1;\n  null !== queuedFocus &&\n    attemptReplayContinuousQueuedEvent(queuedFocus) &&\n    (queuedFocus = null);\n  null !== queuedDrag &&\n    attemptReplayContinuousQueuedEvent(queuedDrag) &&\n    (queuedDrag = null);\n  null !== queuedMouse &&\n    attemptReplayContinuousQueuedEvent(queuedMouse) &&\n    (queuedMouse = null);\n  queuedPointers.forEach(attemptReplayContinuousQueuedEventInMap);\n  queuedPointerCaptures.forEach(attemptReplayContinuousQueuedEventInMap);\n}\nfunction scheduleCallbackIfUnblocked(queuedEvent, unblocked) {\n  queuedEvent.blockedOn === unblocked &&\n    ((queuedEvent.blockedOn = null),\n    hasScheduledReplayAttempt ||\n      ((hasScheduledReplayAttempt = !0),\n      Scheduler.unstable_scheduleCallback(\n        Scheduler.unstable_NormalPriority,\n        replayUnblockedEvents\n      )));\n}\nvar lastScheduledReplayQueue = null;\nfunction scheduleReplayQueueIfNeeded(formReplayingQueue) {\n  lastScheduledReplayQueue !== formReplayingQueue &&\n    ((lastScheduledReplayQueue = formReplayingQueue),\n    Scheduler.unstable_scheduleCallback(\n      Scheduler.unstable_NormalPriority,\n      function () {\n        lastScheduledReplayQueue === formReplayingQueue &&\n          (lastScheduledReplayQueue = null);\n        for (var i = 0; i < formReplayingQueue.length; i += 3) {\n          var form = formReplayingQueue[i],\n            submitterOrAction = formReplayingQueue[i + 1],\n            formData = formReplayingQueue[i + 2];\n          if (\"function\" !== typeof submitterOrAction)\n            if (null === findInstanceBlockingTarget(submitterOrAction || form))\n              continue;\n            else break;\n          var formInst = getInstanceFromNode(form);\n          null !== formInst &&\n            (formReplayingQueue.splice(i, 3),\n            (i -= 3),\n            startHostTransition(\n              formInst,\n              {\n                pending: !0,\n                data: formData,\n                method: form.method,\n                action: submitterOrAction\n              },\n              submitterOrAction,\n              formData\n            ));\n        }\n      }\n    ));\n}\nfunction retryIfBlockedOn(unblocked) {\n  function unblock(queuedEvent) {\n    return scheduleCallbackIfUnblocked(queuedEvent, unblocked);\n  }\n  null !== queuedFocus && scheduleCallbackIfUnblocked(queuedFocus, unblocked);\n  null !== queuedDrag && scheduleCallbackIfUnblocked(queuedDrag, unblocked);\n  null !== queuedMouse && scheduleCallbackIfUnblocked(queuedMouse, unblocked);\n  queuedPointers.forEach(unblock);\n  queuedPointerCaptures.forEach(unblock);\n  for (var i = 0; i < queuedExplicitHydrationTargets.length; i++) {\n    var queuedTarget = queuedExplicitHydrationTargets[i];\n    queuedTarget.blockedOn === unblocked && (queuedTarget.blockedOn = null);\n  }\n  for (\n    ;\n    0 < queuedExplicitHydrationTargets.length &&\n    ((i = queuedExplicitHydrationTargets[0]), null === i.blockedOn);\n\n  )\n    attemptExplicitHydrationTarget(i),\n      null === i.blockedOn && queuedExplicitHydrationTargets.shift();\n  i = (unblocked.ownerDocument || unblocked).$$reactFormReplay;\n  if (null != i)\n    for (queuedTarget = 0; queuedTarget < i.length; queuedTarget += 3) {\n      var form = i[queuedTarget],\n        submitterOrAction = i[queuedTarget + 1],\n        formProps = form[internalPropsKey] || null;\n      if (\"function\" === typeof submitterOrAction)\n        formProps || scheduleReplayQueueIfNeeded(i);\n      else if (formProps) {\n        var action = null;\n        if (submitterOrAction && submitterOrAction.hasAttribute(\"formAction\"))\n          if (\n            ((form = submitterOrAction),\n            (formProps = submitterOrAction[internalPropsKey] || null))\n          )\n            action = formProps.formAction;\n          else {\n            if (null !== findInstanceBlockingTarget(form)) continue;\n          }\n        else action = formProps.action;\n        \"function\" === typeof action\n          ? (i[queuedTarget + 1] = action)\n          : (i.splice(queuedTarget, 3), (queuedTarget -= 3));\n        scheduleReplayQueueIfNeeded(i);\n      }\n    }\n}\nfunction ReactDOMRoot(internalRoot) {\n  this._internalRoot = internalRoot;\n}\nReactDOMHydrationRoot.prototype.render = ReactDOMRoot.prototype.render =\n  function (children) {\n    var root = this._internalRoot;\n    if (null === root) throw Error(formatProdErrorMessage(409));\n    var current = root.current,\n      lane = requestUpdateLane();\n    updateContainerImpl(current, lane, children, root, null, null);\n  };\nReactDOMHydrationRoot.prototype.unmount = ReactDOMRoot.prototype.unmount =\n  function () {\n    var root = this._internalRoot;\n    if (null !== root) {\n      this._internalRoot = null;\n      var container = root.containerInfo;\n      0 === root.tag && flushPassiveEffects();\n      updateContainerImpl(root.current, 2, null, root, null, null);\n      flushSyncWork$1();\n      container[internalContainerInstanceKey] = null;\n    }\n  };\nfunction ReactDOMHydrationRoot(internalRoot) {\n  this._internalRoot = internalRoot;\n}\nReactDOMHydrationRoot.prototype.unstable_scheduleHydration = function (target) {\n  if (target) {\n    var updatePriority = resolveUpdatePriority();\n    target = { blockedOn: null, target: target, priority: updatePriority };\n    for (\n      var i = 0;\n      i < queuedExplicitHydrationTargets.length &&\n      0 !== updatePriority &&\n      updatePriority < queuedExplicitHydrationTargets[i].priority;\n      i++\n    );\n    queuedExplicitHydrationTargets.splice(i, 0, target);\n    0 === i && attemptExplicitHydrationTarget(target);\n  }\n};\nvar isomorphicReactPackageVersion$jscomp$inline_1686 = React.version;\nif (\n  \"19.0.0\" !==\n  isomorphicReactPackageVersion$jscomp$inline_1686\n)\n  throw Error(\n    formatProdErrorMessage(\n      527,\n      isomorphicReactPackageVersion$jscomp$inline_1686,\n      \"19.0.0\"\n    )\n  );\nReactDOMSharedInternals.findDOMNode = function (componentOrElement) {\n  var fiber = componentOrElement._reactInternals;\n  if (void 0 === fiber) {\n    if (\"function\" === typeof componentOrElement.render)\n      throw Error(formatProdErrorMessage(188));\n    componentOrElement = Object.keys(componentOrElement).join(\",\");\n    throw Error(formatProdErrorMessage(268, componentOrElement));\n  }\n  componentOrElement = findCurrentFiberUsingSlowPath(fiber);\n  componentOrElement =\n    null !== componentOrElement\n      ? findCurrentHostFiberImpl(componentOrElement)\n      : null;\n  componentOrElement =\n    null === componentOrElement ? null : componentOrElement.stateNode;\n  return componentOrElement;\n};\nvar internals$jscomp$inline_2165 = {\n  bundleType: 0,\n  version: \"19.0.0\",\n  rendererPackageName: \"react-dom\",\n  currentDispatcherRef: ReactSharedInternals,\n  findFiberByHostInstance: getClosestInstanceFromNode,\n  reconcilerVersion: \"19.0.0\"\n};\nif (\"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) {\n  var hook$jscomp$inline_2166 = __REACT_DEVTOOLS_GLOBAL_HOOK__;\n  if (\n    !hook$jscomp$inline_2166.isDisabled &&\n    hook$jscomp$inline_2166.supportsFiber\n  )\n    try {\n      (rendererID = hook$jscomp$inline_2166.inject(\n        internals$jscomp$inline_2165\n      )),\n        (injectedHook = hook$jscomp$inline_2166);\n    } catch (err) {}\n}\nexports.createRoot = function (container, options) {\n  if (!isValidContainer(container)) throw Error(formatProdErrorMessage(299));\n  var isStrictMode = !1,\n    identifierPrefix = \"\",\n    onUncaughtError = defaultOnUncaughtError,\n    onCaughtError = defaultOnCaughtError,\n    onRecoverableError = defaultOnRecoverableError,\n    transitionCallbacks = null;\n  null !== options &&\n    void 0 !== options &&\n    (!0 === options.unstable_strictMode && (isStrictMode = !0),\n    void 0 !== options.identifierPrefix &&\n      (identifierPrefix = options.identifierPrefix),\n    void 0 !== options.onUncaughtError &&\n      (onUncaughtError = options.onUncaughtError),\n    void 0 !== options.onCaughtError && (onCaughtError = options.onCaughtError),\n    void 0 !== options.onRecoverableError &&\n      (onRecoverableError = options.onRecoverableError),\n    void 0 !== options.unstable_transitionCallbacks &&\n      (transitionCallbacks = options.unstable_transitionCallbacks));\n  options = createFiberRoot(\n    container,\n    1,\n    !1,\n    null,\n    null,\n    isStrictMode,\n    identifierPrefix,\n    onUncaughtError,\n    onCaughtError,\n    onRecoverableError,\n    transitionCallbacks,\n    null\n  );\n  container[internalContainerInstanceKey] = options.current;\n  listenToAllSupportedEvents(\n    8 === container.nodeType ? container.parentNode : container\n  );\n  return new ReactDOMRoot(options);\n};\nexports.hydrateRoot = function (container, initialChildren, options) {\n  if (!isValidContainer(container)) throw Error(formatProdErrorMessage(299));\n  var isStrictMode = !1,\n    identifierPrefix = \"\",\n    onUncaughtError = defaultOnUncaughtError,\n    onCaughtError = defaultOnCaughtError,\n    onRecoverableError = defaultOnRecoverableError,\n    transitionCallbacks = null,\n    formState = null;\n  null !== options &&\n    void 0 !== options &&\n    (!0 === options.unstable_strictMode && (isStrictMode = !0),\n    void 0 !== options.identifierPrefix &&\n      (identifierPrefix = options.identifierPrefix),\n    void 0 !== options.onUncaughtError &&\n      (onUncaughtError = options.onUncaughtError),\n    void 0 !== options.onCaughtError && (onCaughtError = options.onCaughtError),\n    void 0 !== options.onRecoverableError &&\n      (onRecoverableError = options.onRecoverableError),\n    void 0 !== options.unstable_transitionCallbacks &&\n      (transitionCallbacks = options.unstable_transitionCallbacks),\n    void 0 !== options.formState && (formState = options.formState));\n  initialChildren = createFiberRoot(\n    container,\n    1,\n    !0,\n    initialChildren,\n    null != options ? options : null,\n    isStrictMode,\n    identifierPrefix,\n    onUncaughtError,\n    onCaughtError,\n    onRecoverableError,\n    transitionCallbacks,\n    formState\n  );\n  initialChildren.context = getContextForSubtree(null);\n  options = initialChildren.current;\n  isStrictMode = requestUpdateLane();\n  identifierPrefix = createUpdate(isStrictMode);\n  identifierPrefix.callback = null;\n  enqueueUpdate(options, identifierPrefix, isStrictMode);\n  initialChildren.current.lanes = isStrictMode;\n  markRootUpdated$1(initialChildren, isStrictMode);\n  ensureRootIsScheduled(initialChildren);\n  container[internalContainerInstanceKey] = initialChildren.current;\n  listenToAllSupportedEvents(container);\n  return new ReactDOMHydrationRoot(initialChildren);\n};\nexports.version = \"19.0.0\";\n","interface BrowserWindow {\n  __ddBrowserSdkExtensionCallback?: (message: unknown) => void\n}\n\ntype ExtensionMessageType = 'logs' | 'record' | 'rum' | 'telemetry'\n\nexport function sendToExtension(type: ExtensionMessageType, payload: unknown) {\n  const callback = (window as BrowserWindow).__ddBrowserSdkExtensionCallback\n  if (callback) {\n    callback({ type, payload })\n  }\n}\n","import { getGlobalObject } from '../tools/getGlobalObject'\nimport type { DefaultPrivacyLevel } from '../domain/configuration'\n\nexport interface BrowserWindowWithEventBridge extends Window {\n  DatadogEventBridge?: DatadogEventBridge\n}\n\nexport interface DatadogEventBridge {\n  getCapabilities?(): string\n  getPrivacyLevel?(): DefaultPrivacyLevel\n  getAllowedWebViewHosts(): string\n  send(msg: string): void\n}\n\nexport const enum BridgeCapability {\n  RECORDS = 'records',\n}\n\nexport function getEventBridge<T, E>() {\n  const eventBridgeGlobal = getEventBridgeGlobal()\n\n  if (!eventBridgeGlobal) {\n    return\n  }\n\n  return {\n    getCapabilities() {\n      return JSON.parse(eventBridgeGlobal.getCapabilities?.() || '[]') as BridgeCapability[]\n    },\n    getPrivacyLevel() {\n      return eventBridgeGlobal.getPrivacyLevel?.()\n    },\n    getAllowedWebViewHosts() {\n      return JSON.parse(eventBridgeGlobal.getAllowedWebViewHosts()) as string[]\n    },\n    send(eventType: T, event: E, viewId?: string) {\n      const view = viewId ? { id: viewId } : undefined\n      eventBridgeGlobal.send(JSON.stringify({ eventType, event, view }))\n    },\n  }\n}\n\nexport function bridgeSupports(capability: BridgeCapability): boolean {\n  const bridge = getEventBridge()\n  return !!bridge && bridge.getCapabilities().includes(capability)\n}\n\nexport function canUseEventBridge(currentHost = getGlobalObject<Window>().location?.hostname): boolean {\n  const bridge = getEventBridge()\n  return (\n    !!bridge &&\n    bridge\n      .getAllowedWebViewHosts()\n      .some((allowedHost) => currentHost === allowedHost || currentHost.endsWith(`.${allowedHost}`))\n  )\n}\n\nfunction getEventBridgeGlobal() {\n  return getGlobalObject<BrowserWindowWithEventBridge>().DatadogEventBridge\n}\n","/**\n * inspired by https://mathiasbynens.be/notes/globalthis\n */\n\nexport function getGlobalObject<T = typeof globalThis>(): T {\n  if (typeof globalThis === 'object') {\n    return globalThis as unknown as T\n  }\n  Object.defineProperty(Object.prototype, '_dd_temp_', {\n    get() {\n      return this as object\n    },\n    configurable: true,\n  })\n  // @ts-ignore _dd_temp is defined using defineProperty\n  let globalObject: unknown = _dd_temp_\n  // @ts-ignore _dd_temp is defined using defineProperty\n  delete Object.prototype._dd_temp_\n  if (typeof globalObject !== 'object') {\n    // on safari _dd_temp_ is available on window but not globally\n    // fallback on other browser globals check\n    if (typeof self === 'object') {\n      globalObject = self\n    } else if (typeof window === 'object') {\n      globalObject = window\n    } else {\n      globalObject = {}\n    }\n  }\n  return globalObject as T\n}\n","import { removeItem } from './utils/arrayUtils'\n\nconst BUFFER_LIMIT = 500\n\nexport interface BoundedBuffer<T = void> {\n  add: (callback: (arg: T) => void) => void\n  remove: (callback: (arg: T) => void) => void\n  drain: (arg: T) => void\n}\n\nexport function createBoundedBuffer<T = void>(): BoundedBuffer<T> {\n  const buffer: Array<(arg: T) => void> = []\n\n  const add: BoundedBuffer<T>['add'] = (callback: (arg: T) => void) => {\n    const length = buffer.push(callback)\n    if (length > BUFFER_LIMIT) {\n      buffer.splice(0, 1)\n    }\n  }\n\n  const remove: BoundedBuffer<T>['remove'] = (callback: (arg: T) => void) => {\n    removeItem(buffer, callback)\n  }\n\n  const drain = (arg: T) => {\n    buffer.forEach((callback) => callback(arg))\n    buffer.length = 0\n  }\n\n  return {\n    add,\n    remove,\n    drain,\n  }\n}\n","// Exported only for tests\nexport const enum Browser {\n  CHROMIUM,\n  SAFARI,\n  OTHER,\n}\n\nexport function isChromium() {\n  return detectBrowserCached() === Browser.CHROMIUM\n}\n\nexport function isSafari() {\n  return detectBrowserCached() === Browser.SAFARI\n}\n\nlet browserCache: Browser | undefined\nfunction detectBrowserCached() {\n  return browserCache ?? (browserCache = detectBrowser())\n}\n\n// Exported only for tests\nexport function detectBrowser(browserWindow: Window = window) {\n  const userAgent = browserWindow.navigator.userAgent\n  if ((browserWindow as any).chrome || /HeadlessChrome/.test(userAgent)) {\n    return Browser.CHROMIUM\n  }\n\n  if (\n    // navigator.vendor is deprecated, but it is the most resilient way we found to detect\n    // \"Apple maintained browsers\" (AKA Safari). If one day it gets removed, we still have the\n    // useragent test as a semi-working fallback.\n    browserWindow.navigator.vendor?.indexOf('Apple') === 0 ||\n    (/safari/i.test(userAgent) && !/chrome|android/i.test(userAgent))\n  ) {\n    return Browser.SAFARI\n  }\n\n  return Browser.OTHER\n}\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","import { ONE_KIBI_BYTE, computeBytesCount } from '../../tools/utils/byteUtils'\nimport { throttle } from '../../tools/utils/functionUtils'\nimport type { Context } from '../../tools/serialisation/context'\nimport { jsonStringify } from '../../tools/serialisation/jsonStringify'\nimport { DOCS_TROUBLESHOOTING, MORE_DETAILS, display } from '../../tools/display'\nimport { isEmptyObject } from '../../tools/utils/objectUtils'\nimport type { CustomerDataType } from './contextConstants'\n\n// RUM and logs batch bytes limit is 16KB\n// ensure that we leave room for other event attributes and maintain a decent amount of event per batch\n// (3KB (customer data) + 1KB (other attributes)) * 4 (events per batch) = 16KB\nexport const CUSTOMER_DATA_BYTES_LIMIT = 3 * ONE_KIBI_BYTE\n\n// We observed that the compression ratio is around 8 in general, but we also want to keep a margin\n// because some data might not be compressed (ex: last view update on page exit). We chose 16KiB\n// because it is also the limit of the 'batchBytesCount' that we use for RUM and Logs data, but this\n// is a bit arbitrary.\nexport const CUSTOMER_COMPRESSED_DATA_BYTES_LIMIT = 16 * ONE_KIBI_BYTE\n\nexport const BYTES_COMPUTATION_THROTTLING_DELAY = 200\n\nexport type CustomerDataTracker = ReturnType<typeof createCustomerDataTracker>\nexport type CustomerDataTrackerManager = ReturnType<typeof createCustomerDataTrackerManager>\n\nexport const enum CustomerDataCompressionStatus {\n  Unknown,\n  Enabled,\n  Disabled,\n}\n\nexport function createCustomerDataTrackerManager(\n  compressionStatus: CustomerDataCompressionStatus = CustomerDataCompressionStatus.Disabled\n) {\n  const customerDataTrackers = new Map<CustomerDataType, CustomerDataTracker>()\n\n  let alreadyWarned = false\n  function checkCustomerDataLimit(initialBytesCount = 0) {\n    if (alreadyWarned || compressionStatus === CustomerDataCompressionStatus.Unknown) {\n      return\n    }\n\n    const bytesCountLimit =\n      compressionStatus === CustomerDataCompressionStatus.Disabled\n        ? CUSTOMER_DATA_BYTES_LIMIT\n        : CUSTOMER_COMPRESSED_DATA_BYTES_LIMIT\n\n    let bytesCount = initialBytesCount\n    customerDataTrackers.forEach((tracker) => {\n      bytesCount += tracker.getBytesCount()\n    })\n\n    if (bytesCount > bytesCountLimit) {\n      displayCustomerDataLimitReachedWarning(bytesCountLimit)\n      alreadyWarned = true\n    }\n  }\n\n  return {\n    /**\n     * Creates a detached tracker. The manager will not store a reference to that tracker, and the\n     * bytes count will be counted independently from other detached trackers.\n     *\n     * This is particularly useful when we don't know when the tracker will be unused, so we don't\n     * leak memory (ex: when used in Logger instances).\n     */\n    createDetachedTracker: () => {\n      const tracker = createCustomerDataTracker(() => checkCustomerDataLimit(tracker.getBytesCount()))\n      return tracker\n    },\n\n    /**\n     * Creates a tracker if it doesn't exist, and returns it.\n     */\n    getOrCreateTracker: (type: CustomerDataType) => {\n      if (!customerDataTrackers.has(type)) {\n        customerDataTrackers.set(type, createCustomerDataTracker(checkCustomerDataLimit))\n      }\n      return customerDataTrackers.get(type)!\n    },\n\n    setCompressionStatus: (newCompressionStatus: CustomerDataCompressionStatus) => {\n      if (compressionStatus === CustomerDataCompressionStatus.Unknown) {\n        compressionStatus = newCompressionStatus\n        checkCustomerDataLimit()\n      }\n    },\n\n    getCompressionStatus: () => compressionStatus,\n\n    stop: () => {\n      customerDataTrackers.forEach((tracker) => tracker.stop())\n      customerDataTrackers.clear()\n    },\n  }\n}\n\nexport function createCustomerDataTracker(checkCustomerDataLimit: () => void) {\n  let bytesCountCache = 0\n\n  // Throttle the bytes computation to minimize the impact on performance.\n  // Especially useful if the user call context APIs synchronously multiple times in a row\n  const { throttled: computeBytesCountThrottled, cancel: cancelComputeBytesCount } = throttle((context: Context) => {\n    bytesCountCache = computeBytesCount(jsonStringify(context)!)\n    checkCustomerDataLimit()\n  }, BYTES_COMPUTATION_THROTTLING_DELAY)\n\n  const resetBytesCount = () => {\n    cancelComputeBytesCount()\n    bytesCountCache = 0\n  }\n\n  return {\n    updateCustomerData: (context: Context) => {\n      if (isEmptyObject(context)) {\n        resetBytesCount()\n      } else {\n        computeBytesCountThrottled(context)\n      }\n    },\n    resetCustomerData: resetBytesCount,\n    getBytesCount: () => bytesCountCache,\n    stop: () => {\n      cancelComputeBytesCount()\n    },\n  }\n}\n\nfunction displayCustomerDataLimitReachedWarning(bytesCountLimit: number) {\n  display.warn(\n    `Customer data exceeds the recommended ${\n      bytesCountLimit / ONE_KIBI_BYTE\n    }KiB threshold. ${MORE_DETAILS} ${DOCS_TROUBLESHOOTING}/#customer-data-exceeds-the-recommended-threshold-warning`\n  )\n}\n","import { deepClone } from '../../tools/mergeInto'\nimport { sanitize } from '../../tools/serialisation/sanitize'\nimport type { Context } from '../../tools/serialisation/context'\nimport { Observable } from '../../tools/observable'\nimport { display } from '../../tools/display'\nimport type { CustomerDataTracker } from './customerDataTracker'\nimport { checkContext } from './contextUtils'\n\nexport type ContextManager = ReturnType<typeof createContextManager>\n\nexport type PropertiesConfig = {\n  [key: string]: {\n    required?: boolean\n    type?: 'string'\n  }\n}\n\nfunction ensureProperties(context: Context, propertiesConfig: PropertiesConfig, name: string) {\n  const newContext = { ...context }\n\n  for (const [key, { required, type }] of Object.entries(propertiesConfig)) {\n    /**\n     * Ensure specified properties are strings as defined here:\n     * https://docs.datadoghq.com/logs/log_configuration/attributes_naming_convention/#user-related-attributes\n     */\n    if (type === 'string' && key in newContext) {\n      /* eslint-disable @typescript-eslint/no-base-to-string */\n      newContext[key] = String(newContext[key])\n    }\n\n    if (required && !(key in context)) {\n      display.warn(`The property ${key} of ${name} is required; context will not be sent to the intake.`)\n    }\n  }\n\n  return newContext\n}\n\nexport function createContextManager(\n  name: string = '',\n  {\n    customerDataTracker,\n    propertiesConfig = {},\n  }: {\n    customerDataTracker?: CustomerDataTracker\n    propertiesConfig?: PropertiesConfig\n  } = {}\n) {\n  let context: Context = {}\n  const changeObservable = new Observable<void>()\n\n  const contextManager = {\n    getContext: () => deepClone(context),\n\n    setContext: (newContext: unknown) => {\n      if (checkContext(newContext)) {\n        context = sanitize(ensureProperties(newContext, propertiesConfig, name))\n        customerDataTracker?.updateCustomerData(context)\n      } else {\n        contextManager.clearContext()\n      }\n      changeObservable.notify()\n    },\n\n    setContextProperty: (key: string, property: any) => {\n      context = sanitize(ensureProperties({ ...context, [key]: property }, propertiesConfig, name))\n      customerDataTracker?.updateCustomerData(context)\n      changeObservable.notify()\n    },\n\n    removeContextProperty: (key: string) => {\n      delete context[key]\n      customerDataTracker?.updateCustomerData(context)\n      ensureProperties(context, propertiesConfig, name)\n      changeObservable.notify()\n    },\n\n    clearContext: () => {\n      context = {}\n      customerDataTracker?.resetCustomerData()\n      changeObservable.notify()\n    },\n\n    changeObservable,\n  }\n  return contextManager\n}\n","import type { Context } from '../../tools/serialisation/context'\nimport { display } from '../../tools/display'\nimport { getType } from '../../tools/utils/typeUtils'\n\n/**\n * Simple check to ensure an object is a valid context\n */\nexport function checkContext(maybeContext: unknown): maybeContext is Context {\n  const isValid = getType(maybeContext) === 'object'\n  if (!isValid) {\n    display.error('Unsupported context:', maybeContext)\n  }\n  return isValid\n}\n","import { Observable } from '../tools/observable'\n\nexport const TrackingConsent = {\n  GRANTED: 'granted',\n  NOT_GRANTED: 'not-granted',\n} as const\nexport type TrackingConsent = (typeof TrackingConsent)[keyof typeof TrackingConsent]\n\nexport interface TrackingConsentState {\n  tryToInit: (trackingConsent: TrackingConsent) => void\n  update: (trackingConsent: TrackingConsent) => void\n  isGranted: () => boolean\n  observable: Observable<void>\n}\n\nexport function createTrackingConsentState(currentConsent?: TrackingConsent): TrackingConsentState {\n  const observable = new Observable<void>()\n\n  return {\n    tryToInit(trackingConsent: TrackingConsent) {\n      if (!currentConsent) {\n        currentConsent = trackingConsent\n      }\n    },\n    update(trackingConsent: TrackingConsent) {\n      currentConsent = trackingConsent\n      observable.notify()\n    },\n    isGranted() {\n      return currentConsent === TrackingConsent.GRANTED\n    },\n    observable,\n  }\n}\n","import { addEventListener, DOM_EVENT } from '../../browser/addEventListener'\nimport type { Context } from '../../tools/serialisation/context'\nimport type { Configuration } from '../configuration'\nimport { combine } from '../../tools/mergeInto'\nimport { isEmptyObject } from '../../tools/utils/objectUtils'\nimport type { ContextManager } from './contextManager'\nimport type { CustomerDataType } from './contextConstants'\n\nconst CONTEXT_STORE_KEY_PREFIX = '_dd_c'\n\nconst storageListeners: Array<{ stop: () => void }> = []\n\nexport function storeContextManager(\n  configuration: Configuration,\n  contextManager: ContextManager,\n  productKey: string,\n  customerDataType: CustomerDataType\n) {\n  const storageKey = buildStorageKey(productKey, customerDataType)\n\n  storageListeners.push(\n    addEventListener(configuration, window, DOM_EVENT.STORAGE, ({ key }) => {\n      if (storageKey === key) {\n        synchronizeWithStorage()\n      }\n    })\n  )\n  contextManager.changeObservable.subscribe(dumpToStorage)\n\n  const contextFromStorage = combine(getFromStorage(), contextManager.getContext())\n  if (!isEmptyObject(contextFromStorage)) {\n    contextManager.setContext(contextFromStorage)\n  }\n\n  function synchronizeWithStorage() {\n    contextManager.setContext(getFromStorage())\n  }\n\n  function dumpToStorage() {\n    localStorage.setItem(storageKey, JSON.stringify(contextManager.getContext()))\n  }\n\n  function getFromStorage() {\n    const rawContext = localStorage.getItem(storageKey)\n    return rawContext ? (JSON.parse(rawContext) as Context) : {}\n  }\n}\n\nexport function buildStorageKey(productKey: string, customerDataType: CustomerDataType) {\n  return `${CONTEXT_STORE_KEY_PREFIX}_${productKey}_${customerDataType}`\n}\n\nexport function removeStorageListeners() {\n  storageListeners.map((listener) => listener.stop())\n}\n","import { computeBytesCount } from './utils/byteUtils'\n\nexport interface Encoder<Output extends string | Uint8Array = string | Uint8Array> {\n  /**\n   * Whether this encoder might call the provided callbacks asynchronously\n   */\n  isAsync: boolean\n\n  /**\n   * Whether some data has been written since the last finish() or finishSync() call\n   */\n  isEmpty: boolean\n\n  /**\n   * Write a string to be encoded.\n   *\n   * This operation can be synchronous or asynchronous depending on the encoder implementation.\n   *\n   * If specified, the callback will be invoked when the operation finishes, unless the operation is\n   * asynchronous and finish() or finishSync() is called in the meantime.\n   */\n  write(data: string, callback?: (additionalEncodedBytesCount: number) => void): void\n\n  /**\n   * Waits for pending data to be encoded and resets the encoder state.\n   *\n   * This operation can be synchronous or asynchronous depending on the encoder implementation.\n   *\n   * The callback will be invoked when the operation finishes, unless the operation is asynchronous\n   * and another call to finish() or finishSync() occurs in the meantime.\n   */\n  finish(callback: (result: EncoderResult<Output>) => void): void\n\n  /**\n   * Resets the encoder state then returns the encoded data and any potential pending data directly,\n   * discarding all pending write operations and finish() callbacks.\n   */\n  finishSync(): EncoderResult<Output> & { pendingData: string }\n\n  /**\n   * Returns a rough estimation of the bytes count if the data was encoded.\n   */\n  estimateEncodedBytesCount(data: string): number\n}\n\nexport interface EncoderResult<Output extends string | Uint8Array = string | Uint8Array> {\n  output: Output\n  outputBytesCount: number\n\n  /**\n   * An encoding type supported by HTTP Content-Encoding, if applicable.\n   * See https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Encoding#directives\n   */\n  encoding?: 'deflate'\n\n  /**\n   * Total bytes count of the input strings encoded to UTF-8.\n   */\n  rawBytesCount: number\n}\n\nexport function createIdentityEncoder(): Encoder<string> {\n  let output = ''\n  let outputBytesCount = 0\n\n  return {\n    isAsync: false,\n\n    get isEmpty() {\n      return !output\n    },\n\n    write(data, callback) {\n      const additionalEncodedBytesCount = computeBytesCount(data)\n      outputBytesCount += additionalEncodedBytesCount\n      output += data\n      if (callback) {\n        callback(additionalEncodedBytesCount)\n      }\n    },\n\n    finish(callback) {\n      callback(this.finishSync())\n    },\n\n    finishSync() {\n      const result = {\n        output,\n        outputBytesCount,\n        rawBytesCount: outputBytesCount,\n        pendingData: '',\n      }\n      output = ''\n      outputBytesCount = 0\n      return result\n    },\n\n    estimateEncodedBytesCount(data) {\n      return data.length\n    },\n  }\n}\n","import type { InitConfiguration } from '../domain/configuration'\nimport { display } from '../tools/display'\n\nexport function displayAlreadyInitializedError(sdkName: 'DD_RUM' | 'DD_LOGS', initConfiguration: InitConfiguration) {\n  if (!initConfiguration.silentMultipleInit) {\n    display.error(`${sdkName} is already initialized.`)\n  }\n}\n","/**\n * UUID v4\n * from https://gist.github.com/jed/982883\n */\nexport function generateUUID(placeholder?: string): string {\n  return placeholder\n    ? // eslint-disable-next-line  no-bitwise\n      (parseInt(placeholder, 10) ^ ((Math.random() * 16) >> (parseInt(placeholder, 10) / 4))).toString(16)\n    : `${1e7}-${1e3}-${4e3}-${8e3}-${1e11}`.replace(/[018]/g, generateUUID)\n}\n\nconst COMMA_SEPARATED_KEY_VALUE = /([\\w-]+)\\s*=\\s*([^;]+)/g\n\nexport function findCommaSeparatedValue(rawString: string, name: string): string | undefined {\n  COMMA_SEPARATED_KEY_VALUE.lastIndex = 0\n  while (true) {\n    const match = COMMA_SEPARATED_KEY_VALUE.exec(rawString)\n    if (match) {\n      if (match[1] === name) {\n        return match[2]\n      }\n    } else {\n      break\n    }\n  }\n}\n\nexport function findCommaSeparatedValues(rawString: string): Map<string, string> {\n  const result = new Map<string, string>()\n  COMMA_SEPARATED_KEY_VALUE.lastIndex = 0\n  while (true) {\n    const match = COMMA_SEPARATED_KEY_VALUE.exec(rawString)\n    if (match) {\n      result.set(match[1], match[2])\n    } else {\n      break\n    }\n  }\n  return result\n}\n\nexport function safeTruncate(candidate: string, length: number, suffix = '') {\n  const lastChar = candidate.charCodeAt(length - 1)\n  const isLastCharSurrogatePair = lastChar >= 0xd800 && lastChar <= 0xdbff\n  const correctedLength = isLastCharSurrogatePair ? length + 1 : length\n\n  if (candidate.length <= correctedLength) {\n    return candidate\n  }\n\n  return `${candidate.slice(0, correctedLength)}${suffix}`\n}\n","import type { ClocksState, Duration, Context } from '@datadog/browser-core'\nimport { clocksNow, combine, elapsed, generateUUID, toServerDuration } from '@datadog/browser-core'\nimport type { LifeCycle, RawRumEventCollectedData } from '../lifeCycle'\nimport { LifeCycleEventType } from '../lifeCycle'\nimport type { RawRumVitalEvent } from '../../rawRumEvent.types'\nimport { RumEventType, VitalType } from '../../rawRumEvent.types'\nimport type { PageStateHistory } from '../contexts/pageStateHistory'\nimport { PageState } from '../contexts/pageStateHistory'\n\nexport interface DurationVitalOptions {\n  context?: Context\n  description?: string\n}\n\nexport interface DurationVitalReference {\n  __dd_vital_reference: true\n}\n\nexport interface DurationVitalStart {\n  name: string\n  startClocks: ClocksState\n  context?: Context\n  description?: string\n}\n\nexport interface DurationVital {\n  name: string\n  type: VitalType.DURATION\n  startClocks: ClocksState\n  duration: Duration\n  description?: string\n  context?: Context\n}\n\nexport interface CustomVitalsState {\n  vitalsByName: Map<string, DurationVitalStart>\n  vitalsByReference: WeakMap<DurationVitalReference, DurationVitalStart>\n}\n\nexport function createCustomVitalsState() {\n  const vitalsByName = new Map<string, DurationVitalStart>()\n  const vitalsByReference = new WeakMap<DurationVitalReference, DurationVitalStart>()\n  return { vitalsByName, vitalsByReference }\n}\n\nexport function startVitalCollection(\n  lifeCycle: LifeCycle,\n  pageStateHistory: PageStateHistory,\n  customVitalsState: CustomVitalsState\n) {\n  function isValid(vital: DurationVital) {\n    return !pageStateHistory.wasInPageStateDuringPeriod(PageState.FROZEN, vital.startClocks.relative, vital.duration)\n  }\n\n  function addDurationVital(vital: DurationVital) {\n    if (isValid(vital)) {\n      lifeCycle.notify(LifeCycleEventType.RAW_RUM_EVENT_COLLECTED, processVital(vital, true))\n    }\n  }\n\n  return {\n    addDurationVital,\n    startDurationVital: (name: string, options: DurationVitalOptions = {}) =>\n      startDurationVital(customVitalsState, name, options),\n    stopDurationVital: (nameOrRef: string | DurationVitalReference, options: DurationVitalOptions = {}) => {\n      stopDurationVital(addDurationVital, customVitalsState, nameOrRef, options)\n    },\n  }\n}\n\nexport function startDurationVital(\n  { vitalsByName, vitalsByReference }: CustomVitalsState,\n  name: string,\n  options: DurationVitalOptions = {}\n) {\n  const vital = {\n    name,\n    startClocks: clocksNow(),\n    context: options.context,\n    description: options.description,\n  }\n\n  // To avoid leaking implementation details of the vital, we return a reference to it.\n  const reference: DurationVitalReference = { __dd_vital_reference: true }\n\n  vitalsByName.set(name, vital)\n\n  // To avoid memory leaks caused by the creation of numerous references (e.g., from improper useEffect implementations), we use a WeakMap.\n  vitalsByReference.set(reference, vital)\n\n  return reference\n}\n\nexport function stopDurationVital(\n  stopCallback: (vital: DurationVital) => void,\n  { vitalsByName, vitalsByReference }: CustomVitalsState,\n  nameOrRef: string | DurationVitalReference,\n  options: DurationVitalOptions = {}\n) {\n  const vitalStart = typeof nameOrRef === 'string' ? vitalsByName.get(nameOrRef) : vitalsByReference.get(nameOrRef)\n\n  if (!vitalStart) {\n    return\n  }\n\n  stopCallback(buildDurationVital(vitalStart, vitalStart.startClocks, options, clocksNow()))\n\n  if (typeof nameOrRef === 'string') {\n    vitalsByName.delete(nameOrRef)\n  } else {\n    vitalsByReference.delete(nameOrRef)\n  }\n}\n\nfunction buildDurationVital(\n  vitalStart: DurationVitalStart,\n  startClocks: ClocksState,\n  stopOptions: DurationVitalOptions,\n  stopClocks: ClocksState\n): DurationVital {\n  return {\n    name: vitalStart.name,\n    type: VitalType.DURATION,\n    startClocks,\n    duration: elapsed(startClocks.timeStamp, stopClocks.timeStamp),\n    context: combine(vitalStart.context, stopOptions.context),\n    description: stopOptions.description ?? vitalStart.description,\n  }\n}\n\nfunction processVital(vital: DurationVital, valueComputedBySdk: boolean): RawRumEventCollectedData<RawRumVitalEvent> {\n  const rawRumEvent: RawRumVitalEvent = {\n    date: vital.startClocks.timeStamp,\n    vital: {\n      id: generateUUID(),\n      type: vital.type,\n      name: vital.name,\n      duration: toServerDuration(vital.duration),\n      description: vital.description,\n    },\n    type: RumEventType.VITAL,\n  }\n\n  if (valueComputedBySdk) {\n    rawRumEvent._dd = {\n      vital: {\n        computed_value: true,\n      },\n    }\n  }\n\n  return {\n    rawRumEvent,\n    startTime: vital.startClocks.relative,\n    duration: vital.duration,\n    customerContext: vital.context,\n    domainContext: {},\n  }\n}\n","import type { RumPublicApi, Strategy } from '../boot/rumPublicApi'\nimport type { RumInitConfiguration } from './configuration'\n\nexport interface RumPlugin {\n  name: string\n  getConfigurationTelemetry?(): Record<string, unknown>\n  onInit?(options: { initConfiguration: RumInitConfiguration; publicApi: RumPublicApi }): void\n  onRumStart?(options: { strategy: Strategy }): void\n}\n\ntype MethodNames = 'onInit' | 'onRumStart'\ntype MethodParameter<MethodName extends MethodNames> = Parameters<NonNullable<RumPlugin[MethodName]>>[0]\n\nexport function callPluginsMethod<MethodName extends MethodNames>(\n  plugins: RumPlugin[] | undefined,\n  methodName: MethodName,\n  parameter: MethodParameter<MethodName>\n): void\nexport function callPluginsMethod<MethodName extends MethodNames>(\n  plugins: RumPlugin[] | undefined,\n  methodName: MethodName,\n  parameter: any\n) {\n  if (!plugins) {\n    return\n  }\n  for (const plugin of plugins) {\n    const method = plugin[methodName]\n    if (method) {\n      method(parameter)\n    }\n  }\n}\n","import type { InstrumentedMethodCall } from '../tools/instrumentMethod'\nimport { instrumentMethod } from '../tools/instrumentMethod'\nimport { monitor } from '../tools/monitor'\nimport { Observable } from '../tools/observable'\nimport type { ClocksState } from '../tools/utils/timeUtils'\nimport { clocksNow } from '../tools/utils/timeUtils'\nimport { normalizeUrl } from '../tools/utils/urlPolyfill'\n\ninterface FetchContextBase {\n  method: string\n  startClocks: ClocksState\n  input: unknown\n  init?: RequestInit\n  url: string\n  handlingStack?: string\n}\n\nexport interface FetchStartContext extends FetchContextBase {\n  state: 'start'\n}\n\nexport interface FetchResolveContext extends FetchContextBase {\n  state: 'resolve'\n  status: number\n  response?: Response\n  responseType?: string\n  isAborted: boolean\n  error?: Error\n}\n\nexport type FetchContext = FetchStartContext | FetchResolveContext\n\nlet fetchObservable: Observable<FetchContext> | undefined\n\nexport function initFetchObservable() {\n  if (!fetchObservable) {\n    fetchObservable = createFetchObservable()\n  }\n  return fetchObservable\n}\n\nexport function resetFetchObservable() {\n  fetchObservable = undefined\n}\n\nfunction createFetchObservable() {\n  return new Observable<FetchContext>((observable) => {\n    if (!window.fetch) {\n      return\n    }\n\n    const { stop } = instrumentMethod(window, 'fetch', (call) => beforeSend(call, observable), {\n      computeHandlingStack: true,\n    })\n\n    return stop\n  })\n}\n\nfunction beforeSend(\n  { parameters, onPostCall, handlingStack }: InstrumentedMethodCall<Window, 'fetch'>,\n  observable: Observable<FetchContext>\n) {\n  const [input, init] = parameters\n  let methodFromParams = init && init.method\n\n  if (methodFromParams === undefined && input instanceof Request) {\n    methodFromParams = input.method\n  }\n\n  const method = methodFromParams !== undefined ? String(methodFromParams).toUpperCase() : 'GET'\n  const url = input instanceof Request ? input.url : normalizeUrl(String(input))\n  const startClocks = clocksNow()\n\n  const context: FetchStartContext = {\n    state: 'start',\n    init,\n    input,\n    method,\n    startClocks,\n    url,\n    handlingStack,\n  }\n\n  observable.notify(context)\n\n  // Those properties can be changed by observable subscribers\n  parameters[0] = context.input as RequestInfo | URL\n  parameters[1] = context.init\n\n  onPostCall((responsePromise) => afterSend(observable, responsePromise, context))\n}\n\nfunction afterSend(\n  observable: Observable<FetchContext>,\n  responsePromise: Promise<Response>,\n  startContext: FetchStartContext\n) {\n  const context = startContext as unknown as FetchResolveContext\n\n  function reportFetch(partialContext: Partial<FetchResolveContext>) {\n    context.state = 'resolve'\n    Object.assign(context, partialContext)\n    observable.notify(context)\n  }\n\n  responsePromise.then(\n    monitor((response) => {\n      reportFetch({\n        response,\n        responseType: response.type,\n        status: response.status,\n        isAborted: false,\n      })\n    }),\n    monitor((error: Error) => {\n      reportFetch({\n        status: 0,\n        isAborted:\n          context.init?.signal?.aborted || (error instanceof DOMException && error.code === DOMException.ABORT_ERR),\n        error,\n      })\n    })\n  )\n}\n","import { display } from '../tools/display'\nimport { ONE_MINUTE, ONE_SECOND } from '../tools/utils/timeUtils'\nimport { findCommaSeparatedValue, findCommaSeparatedValues, generateUUID } from '../tools/utils/stringUtils'\n\nexport interface CookieOptions {\n  secure?: boolean\n  crossSite?: boolean\n  partitioned?: boolean\n  domain?: string\n}\n\nexport function setCookie(name: string, value: string, expireDelay: number = 0, options?: CookieOptions) {\n  const date = new Date()\n  date.setTime(date.getTime() + expireDelay)\n  const expires = `expires=${date.toUTCString()}`\n  const sameSite = options && options.crossSite ? 'none' : 'strict'\n  const domain = options && options.domain ? `;domain=${options.domain}` : ''\n  const secure = options && options.secure ? ';secure' : ''\n  const partitioned = options && options.partitioned ? ';partitioned' : ''\n  document.cookie = `${name}=${value};${expires};path=/;samesite=${sameSite}${domain}${secure}${partitioned}`\n}\n\nexport function getCookie(name: string) {\n  return findCommaSeparatedValue(document.cookie, name)\n}\n\nlet initCookieParsed: Map<string, string> | undefined\n\n/**\n * Returns a cached value of the cookie. Use this during SDK initialization (and whenever possible)\n * to avoid accessing document.cookie multiple times.\n */\nexport function getInitCookie(name: string) {\n  if (!initCookieParsed) {\n    initCookieParsed = findCommaSeparatedValues(document.cookie)\n  }\n  return initCookieParsed.get(name)\n}\n\nexport function resetInitCookies() {\n  initCookieParsed = undefined\n}\n\nexport function deleteCookie(name: string, options?: CookieOptions) {\n  setCookie(name, '', 0, options)\n}\n\nexport function areCookiesAuthorized(options: CookieOptions): boolean {\n  if (document.cookie === undefined || document.cookie === null) {\n    return false\n  }\n  try {\n    // Use a unique cookie name to avoid issues when the SDK is initialized multiple times during\n    // the test cookie lifetime\n    const testCookieName = `dd_cookie_test_${generateUUID()}`\n    const testCookieValue = 'test'\n    setCookie(testCookieName, testCookieValue, ONE_MINUTE, options)\n    const isCookieCorrectlySet = getCookie(testCookieName) === testCookieValue\n    deleteCookie(testCookieName, options)\n    return isCookieCorrectlySet\n  } catch (error) {\n    display.error(error)\n    return false\n  }\n}\n\n/**\n * No API to retrieve it, number of levels for subdomain and suffix are unknown\n * strategy: find the minimal domain on which cookies are allowed to be set\n * https://web.dev/same-site-same-origin/#site\n */\nlet getCurrentSiteCache: string | undefined\nexport function getCurrentSite() {\n  if (getCurrentSiteCache === undefined) {\n    // Use a unique cookie name to avoid issues when the SDK is initialized multiple times during\n    // the test cookie lifetime\n    const testCookieName = `dd_site_test_${generateUUID()}`\n    const testCookieValue = 'test'\n\n    const domainLevels = window.location.hostname.split('.')\n    let candidateDomain = domainLevels.pop()!\n    while (domainLevels.length && !getCookie(testCookieName)) {\n      candidateDomain = `${domainLevels.pop()!}.${candidateDomain}`\n      setCookie(testCookieName, testCookieValue, ONE_SECOND, { domain: candidateDomain })\n    }\n    deleteCookie(testCookieName, { domain: candidateDomain })\n    getCurrentSiteCache = candidateDomain\n  }\n  return getCurrentSiteCache\n}\n","import { getInitCookie } from '../../browser/cookie'\n\nexport const SYNTHETICS_TEST_ID_COOKIE_NAME = 'datadog-synthetics-public-id'\nexport const SYNTHETICS_RESULT_ID_COOKIE_NAME = 'datadog-synthetics-result-id'\nexport const SYNTHETICS_INJECTS_RUM_COOKIE_NAME = 'datadog-synthetics-injects-rum'\n\nexport interface BrowserWindow extends Window {\n  _DATADOG_SYNTHETICS_PUBLIC_ID?: unknown\n  _DATADOG_SYNTHETICS_RESULT_ID?: unknown\n  _DATADOG_SYNTHETICS_INJECTS_RUM?: unknown\n}\n\nexport function willSyntheticsInjectRum(): boolean {\n  return Boolean(\n    (window as BrowserWindow)._DATADOG_SYNTHETICS_INJECTS_RUM || getInitCookie(SYNTHETICS_INJECTS_RUM_COOKIE_NAME)\n  )\n}\n\nexport function getSyntheticsTestId(): string | undefined {\n  const value = (window as BrowserWindow)._DATADOG_SYNTHETICS_PUBLIC_ID || getInitCookie(SYNTHETICS_TEST_ID_COOKIE_NAME)\n  return typeof value === 'string' ? value : undefined\n}\n\nexport function getSyntheticsResultId(): string | undefined {\n  const value =\n    (window as BrowserWindow)._DATADOG_SYNTHETICS_RESULT_ID || getInitCookie(SYNTHETICS_RESULT_ID_COOKIE_NAME)\n  return typeof value === 'string' ? value : undefined\n}\n","import type { CookieOptions } from '../../../browser/cookie'\nimport type { SessionPersistence } from '../sessionConstants'\nimport type { SessionState } from '../sessionState'\n\nexport const SESSION_STORE_KEY = '_dd_s'\n\nexport type SessionStoreStrategyType =\n  | { type: typeof SessionPersistence.COOKIE; cookieOptions: CookieOptions }\n  | { type: typeof SessionPersistence.LOCAL_STORAGE }\n\nexport interface SessionStoreStrategy {\n  isLockEnabled: boolean\n  persistSession: (session: SessionState) => void\n  retrieveSession: () => SessionState\n  expireSession: (previousSessionState: SessionState) => void\n}\n","import { ONE_HOUR, ONE_MINUTE, ONE_YEAR } from '../../tools/utils/timeUtils'\n\nexport const SESSION_TIME_OUT_DELAY = 4 * ONE_HOUR\nexport const SESSION_EXPIRATION_DELAY = 15 * ONE_MINUTE\nexport const SESSION_COOKIE_EXPIRATION_DELAY = ONE_YEAR\n\nexport const SessionPersistence = {\n  COOKIE: 'cookie',\n  LOCAL_STORAGE: 'local-storage',\n} as const\nexport type SessionPersistence = (typeof SessionPersistence)[keyof typeof SessionPersistence]\n","export const SESSION_ENTRY_REGEXP = /^([a-zA-Z]+)=([a-z0-9-]+)$/\nexport const SESSION_ENTRY_SEPARATOR = '&'\n\nexport function isValidSessionString(sessionString: string | undefined | null): sessionString is string {\n  return (\n    !!sessionString &&\n    (sessionString.indexOf(SESSION_ENTRY_SEPARATOR) !== -1 || SESSION_ENTRY_REGEXP.test(sessionString))\n  )\n}\n","import { isEmptyObject } from '../../tools/utils/objectUtils'\nimport { objectEntries } from '../../tools/utils/polyfills'\nimport { dateNow } from '../../tools/utils/timeUtils'\nimport { generateUUID } from '../../tools/utils/stringUtils'\nimport type { Configuration } from '../configuration'\nimport { SESSION_EXPIRATION_DELAY, SESSION_TIME_OUT_DELAY } from './sessionConstants'\nimport { isValidSessionString, SESSION_ENTRY_REGEXP, SESSION_ENTRY_SEPARATOR } from './sessionStateValidation'\nexport const EXPIRED = '1'\n\nexport interface SessionState {\n  id?: string\n  created?: string\n  expire?: string\n  isExpired?: typeof EXPIRED\n\n  [key: string]: string | undefined\n}\n\nexport function getExpiredSessionState(\n  previousSessionState: SessionState | undefined,\n  configuration: Configuration\n): SessionState {\n  const expiredSessionState: SessionState = {\n    isExpired: EXPIRED,\n  }\n  if (configuration.trackAnonymousUser) {\n    if (previousSessionState?.anonymousId) {\n      expiredSessionState.anonymousId = previousSessionState?.anonymousId\n    } else {\n      expiredSessionState.anonymousId = generateUUID()\n    }\n  }\n  return expiredSessionState\n}\n\nexport function isSessionInNotStartedState(session: SessionState) {\n  return isEmptyObject(session)\n}\n\nexport function isSessionStarted(session: SessionState) {\n  return !isSessionInNotStartedState(session)\n}\n\nexport function isSessionInExpiredState(session: SessionState) {\n  return session.isExpired !== undefined || !isActiveSession(session)\n}\n\n// An active session is a session in either `Tracked` or `NotTracked` state\nfunction isActiveSession(sessionState: SessionState) {\n  // created and expire can be undefined for versions which was not storing them\n  // these checks could be removed when older versions will not be available/live anymore\n  return (\n    (sessionState.created === undefined || dateNow() - Number(sessionState.created) < SESSION_TIME_OUT_DELAY) &&\n    (sessionState.expire === undefined || dateNow() < Number(sessionState.expire))\n  )\n}\n\nexport function expandSessionState(session: SessionState) {\n  session.expire = String(dateNow() + SESSION_EXPIRATION_DELAY)\n}\n\nexport function toSessionString(session: SessionState) {\n  return (\n    objectEntries(session)\n      // we use `aid` as a key for anonymousId\n      .map(([key, value]) => (key === 'anonymousId' ? `aid=${value}` : `${key}=${value}`))\n      .join(SESSION_ENTRY_SEPARATOR)\n  )\n}\n\nexport function toSessionState(sessionString: string | undefined | null) {\n  const session: SessionState = {}\n  if (isValidSessionString(sessionString)) {\n    sessionString.split(SESSION_ENTRY_SEPARATOR).forEach((entry) => {\n      const matches = SESSION_ENTRY_REGEXP.exec(entry)\n      if (matches !== null) {\n        const [, key, value] = matches\n        if (key === 'aid') {\n          // we use `aid` as a key for anonymousId\n          session.anonymousId = value\n        } else {\n          session[key] = value\n        }\n      }\n    })\n  }\n  return session\n}\n","import { getInitCookie } from '../../browser/cookie'\nimport type { SessionStoreStrategy } from './storeStrategies/sessionStoreStrategy'\nimport { SESSION_STORE_KEY } from './storeStrategies/sessionStoreStrategy'\nimport type { SessionState } from './sessionState'\nimport { expandSessionState, isSessionStarted } from './sessionState'\n\nexport const OLD_SESSION_COOKIE_NAME = '_dd'\nexport const OLD_RUM_COOKIE_NAME = '_dd_r'\nexport const OLD_LOGS_COOKIE_NAME = '_dd_l'\n\n// duplicate values to avoid dependency issues\nexport const RUM_SESSION_KEY = 'rum'\nexport const LOGS_SESSION_KEY = 'logs'\n\n/**\n * This migration should remain in the codebase as long as older versions are available/live\n * to allow older sdk versions to be upgraded to newer versions without compatibility issues.\n */\nexport function tryOldCookiesMigration(cookieStoreStrategy: SessionStoreStrategy) {\n  const sessionString = getInitCookie(SESSION_STORE_KEY)\n  if (!sessionString) {\n    const oldSessionId = getInitCookie(OLD_SESSION_COOKIE_NAME)\n    const oldRumType = getInitCookie(OLD_RUM_COOKIE_NAME)\n    const oldLogsType = getInitCookie(OLD_LOGS_COOKIE_NAME)\n    const session: SessionState = {}\n\n    if (oldSessionId) {\n      session.id = oldSessionId\n    }\n    if (oldLogsType && /^[01]$/.test(oldLogsType)) {\n      session[LOGS_SESSION_KEY] = oldLogsType\n    }\n    if (oldRumType && /^[012]$/.test(oldRumType)) {\n      session[RUM_SESSION_KEY] = oldRumType\n    }\n\n    if (isSessionStarted(session)) {\n      expandSessionState(session)\n      cookieStoreStrategy.persistSession(session)\n    }\n  }\n}\n","import { isChromium } from '../../../tools/utils/browserDetection'\nimport type { CookieOptions } from '../../../browser/cookie'\nimport { getCurrentSite, areCookiesAuthorized, getCookie, setCookie } from '../../../browser/cookie'\nimport type { InitConfiguration, Configuration } from '../../configuration'\nimport { tryOldCookiesMigration } from '../oldCookiesMigration'\nimport {\n  SESSION_COOKIE_EXPIRATION_DELAY,\n  SESSION_EXPIRATION_DELAY,\n  SESSION_TIME_OUT_DELAY,\n  SessionPersistence,\n} from '../sessionConstants'\nimport type { SessionState } from '../sessionState'\nimport { toSessionString, toSessionState, getExpiredSessionState } from '../sessionState'\nimport type { SessionStoreStrategy, SessionStoreStrategyType } from './sessionStoreStrategy'\nimport { SESSION_STORE_KEY } from './sessionStoreStrategy'\n\nexport function selectCookieStrategy(initConfiguration: InitConfiguration): SessionStoreStrategyType | undefined {\n  const cookieOptions = buildCookieOptions(initConfiguration)\n  return areCookiesAuthorized(cookieOptions) ? { type: SessionPersistence.COOKIE, cookieOptions } : undefined\n}\n\nexport function initCookieStrategy(configuration: Configuration, cookieOptions: CookieOptions): SessionStoreStrategy {\n  const cookieStore = {\n    /**\n     * Lock strategy allows mitigating issues due to concurrent access to cookie.\n     * This issue concerns only chromium browsers and enabling this on firefox increases cookie write failures.\n     */\n    isLockEnabled: isChromium(),\n    persistSession: persistSessionCookie(cookieOptions),\n    retrieveSession: retrieveSessionCookie,\n    expireSession: (sessionState: SessionState) => expireSessionCookie(cookieOptions, sessionState, configuration),\n  }\n\n  tryOldCookiesMigration(cookieStore)\n\n  return cookieStore\n}\n\nfunction persistSessionCookie(options: CookieOptions) {\n  return (session: SessionState) => {\n    setCookie(SESSION_STORE_KEY, toSessionString(session), SESSION_EXPIRATION_DELAY, options)\n  }\n}\n\nfunction expireSessionCookie(options: CookieOptions, sessionState: SessionState, configuration: Configuration) {\n  const expiredSessionState = getExpiredSessionState(sessionState, configuration)\n  // we do not extend cookie expiration date\n  setCookie(\n    SESSION_STORE_KEY,\n    toSessionString(expiredSessionState),\n    configuration.trackAnonymousUser ? SESSION_COOKIE_EXPIRATION_DELAY : SESSION_TIME_OUT_DELAY,\n    options\n  )\n}\n\nfunction retrieveSessionCookie(): SessionState {\n  const sessionString = getCookie(SESSION_STORE_KEY)\n  const sessionState = toSessionState(sessionString)\n  return sessionState\n}\n\nexport function buildCookieOptions(initConfiguration: InitConfiguration) {\n  const cookieOptions: CookieOptions = {}\n\n  cookieOptions.secure =\n    !!initConfiguration.useSecureSessionCookie || !!initConfiguration.usePartitionedCrossSiteSessionCookie\n  cookieOptions.crossSite = !!initConfiguration.usePartitionedCrossSiteSessionCookie\n  cookieOptions.partitioned = !!initConfiguration.usePartitionedCrossSiteSessionCookie\n\n  if (initConfiguration.trackSessionAcrossSubdomains) {\n    cookieOptions.domain = getCurrentSite()\n  }\n\n  return cookieOptions\n}\n","import { generateUUID } from '../../../tools/utils/stringUtils'\nimport type { Configuration } from '../../configuration'\nimport { SessionPersistence } from '../sessionConstants'\nimport type { SessionState } from '../sessionState'\nimport { toSessionString, toSessionState, getExpiredSessionState } from '../sessionState'\nimport type { SessionStoreStrategy, SessionStoreStrategyType } from './sessionStoreStrategy'\nimport { SESSION_STORE_KEY } from './sessionStoreStrategy'\n\nconst LOCAL_STORAGE_TEST_KEY = '_dd_test_'\n\nexport function selectLocalStorageStrategy(): SessionStoreStrategyType | undefined {\n  try {\n    const id = generateUUID()\n    const testKey = `${LOCAL_STORAGE_TEST_KEY}${id}`\n    localStorage.setItem(testKey, id)\n    const retrievedId = localStorage.getItem(testKey)\n    localStorage.removeItem(testKey)\n    return id === retrievedId ? { type: SessionPersistence.LOCAL_STORAGE } : undefined\n  } catch {\n    return undefined\n  }\n}\n\nexport function initLocalStorageStrategy(configuration: Configuration): SessionStoreStrategy {\n  return {\n    isLockEnabled: false,\n    persistSession: persistInLocalStorage,\n    retrieveSession: retrieveSessionFromLocalStorage,\n    expireSession: (sessionState: SessionState) => expireSessionFromLocalStorage(sessionState, configuration),\n  }\n}\n\nfunction persistInLocalStorage(sessionState: SessionState) {\n  localStorage.setItem(SESSION_STORE_KEY, toSessionString(sessionState))\n}\n\nfunction retrieveSessionFromLocalStorage(): SessionState {\n  const sessionString = localStorage.getItem(SESSION_STORE_KEY)\n  return toSessionState(sessionString)\n}\n\nfunction expireSessionFromLocalStorage(previousSessionState: SessionState, configuration: Configuration) {\n  persistInLocalStorage(getExpiredSessionState(previousSessionState, configuration))\n}\n","import { setTimeout } from '../../tools/timer'\nimport { generateUUID } from '../../tools/utils/stringUtils'\nimport type { SessionStoreStrategy } from './storeStrategies/sessionStoreStrategy'\nimport type { SessionState } from './sessionState'\nimport { expandSessionState, isSessionInExpiredState } from './sessionState'\n\ntype Operations = {\n  process: (sessionState: SessionState) => SessionState | undefined\n  after?: (sessionState: SessionState) => void\n}\n\nexport const LOCK_RETRY_DELAY = 10\nexport const LOCK_MAX_TRIES = 100\nconst bufferedOperations: Operations[] = []\nlet ongoingOperations: Operations | undefined\n\nexport function processSessionStoreOperations(\n  operations: Operations,\n  sessionStoreStrategy: SessionStoreStrategy,\n  numberOfRetries = 0\n) {\n  const { isLockEnabled, persistSession, expireSession } = sessionStoreStrategy\n  const persistWithLock = (session: SessionState) => persistSession({ ...session, lock: currentLock })\n  const retrieveStore = () => {\n    const session = sessionStoreStrategy.retrieveSession()\n    const lock = session.lock\n\n    if (session.lock) {\n      delete session.lock\n    }\n\n    return {\n      session,\n      lock,\n    }\n  }\n\n  if (!ongoingOperations) {\n    ongoingOperations = operations\n  }\n  if (operations !== ongoingOperations) {\n    bufferedOperations.push(operations)\n    return\n  }\n  if (isLockEnabled && numberOfRetries >= LOCK_MAX_TRIES) {\n    next(sessionStoreStrategy)\n    return\n  }\n  let currentLock: string\n  let currentStore = retrieveStore()\n  if (isLockEnabled) {\n    // if someone has lock, retry later\n    if (currentStore.lock) {\n      retryLater(operations, sessionStoreStrategy, numberOfRetries)\n      return\n    }\n    // acquire lock\n    currentLock = generateUUID()\n    persistWithLock(currentStore.session)\n    // if lock is not acquired, retry later\n    currentStore = retrieveStore()\n    if (currentStore.lock !== currentLock) {\n      retryLater(operations, sessionStoreStrategy, numberOfRetries)\n      return\n    }\n  }\n  let processedSession = operations.process(currentStore.session)\n  if (isLockEnabled) {\n    // if lock corrupted after process, retry later\n    currentStore = retrieveStore()\n    if (currentStore.lock !== currentLock!) {\n      retryLater(operations, sessionStoreStrategy, numberOfRetries)\n      return\n    }\n  }\n  if (processedSession) {\n    if (isSessionInExpiredState(processedSession)) {\n      expireSession(processedSession)\n    } else {\n      expandSessionState(processedSession)\n      if (isLockEnabled) {\n        persistWithLock(processedSession)\n      } else {\n        persistSession(processedSession)\n      }\n    }\n  }\n  if (isLockEnabled) {\n    // correctly handle lock around expiration would require to handle this case properly at several levels\n    // since we don't have evidence of lock issues around expiration, let's just not do the corruption check for it\n    if (!(processedSession && isSessionInExpiredState(processedSession))) {\n      // if lock corrupted after persist, retry later\n      currentStore = retrieveStore()\n      if (currentStore.lock !== currentLock!) {\n        retryLater(operations, sessionStoreStrategy, numberOfRetries)\n        return\n      }\n      persistSession(currentStore.session)\n      processedSession = currentStore.session\n    }\n  }\n  // call after even if session is not persisted in order to perform operations on\n  // up-to-date session state value => the value could have been modified by another tab\n  operations.after?.(processedSession || currentStore.session)\n  next(sessionStoreStrategy)\n}\n\nfunction retryLater(operations: Operations, sessionStore: SessionStoreStrategy, currentNumberOfRetries: number) {\n  setTimeout(() => {\n    processSessionStoreOperations(operations, sessionStore, currentNumberOfRetries + 1)\n  }, LOCK_RETRY_DELAY)\n}\n\nfunction next(sessionStore: SessionStoreStrategy) {\n  ongoingOperations = undefined\n  const nextOperations = bufferedOperations.shift()\n  if (nextOperations) {\n    processSessionStoreOperations(nextOperations, sessionStore)\n  }\n}\n","import { clearInterval, setInterval } from '../../tools/timer'\nimport { Observable } from '../../tools/observable'\nimport { ONE_SECOND, dateNow } from '../../tools/utils/timeUtils'\nimport { throttle } from '../../tools/utils/functionUtils'\nimport { generateUUID } from '../../tools/utils/stringUtils'\nimport type { InitConfiguration, Configuration } from '../configuration'\nimport { display } from '../../tools/display'\nimport { selectCookieStrategy, initCookieStrategy } from './storeStrategies/sessionInCookie'\nimport type { SessionStoreStrategyType } from './storeStrategies/sessionStoreStrategy'\nimport {\n  getExpiredSessionState,\n  isSessionInExpiredState,\n  isSessionInNotStartedState,\n  isSessionStarted,\n} from './sessionState'\nimport type { SessionState } from './sessionState'\nimport { initLocalStorageStrategy, selectLocalStorageStrategy } from './storeStrategies/sessionInLocalStorage'\nimport { processSessionStoreOperations } from './sessionStoreOperations'\nimport { SessionPersistence } from './sessionConstants'\n\nexport interface SessionStore {\n  expandOrRenewSession: () => void\n  expandSession: () => void\n  getSession: () => SessionState\n  restartSession: () => void\n  renewObservable: Observable<void>\n  expireObservable: Observable<void>\n  sessionStateUpdateObservable: Observable<{ previousState: SessionState; newState: SessionState }>\n  expire: () => void\n  stop: () => void\n  updateSessionState: (state: Partial<SessionState>) => void\n}\n\n/**\n * Every second, the storage will be polled to check for any change that can occur\n * to the session state in another browser tab, or another window.\n * This value has been determined from our previous cookie-only implementation.\n */\nexport const STORAGE_POLL_DELAY = ONE_SECOND\n\n/**\n * Selects the correct session store strategy type based on the configuration and storage\n * availability.\n */\nexport function selectSessionStoreStrategyType(\n  initConfiguration: InitConfiguration\n): SessionStoreStrategyType | undefined {\n  switch (initConfiguration.sessionPersistence) {\n    case SessionPersistence.COOKIE:\n      return selectCookieStrategy(initConfiguration)\n\n    case SessionPersistence.LOCAL_STORAGE:\n      return selectLocalStorageStrategy()\n\n    case undefined: {\n      let sessionStoreStrategyType = selectCookieStrategy(initConfiguration)\n      if (!sessionStoreStrategyType && initConfiguration.allowFallbackToLocalStorage) {\n        sessionStoreStrategyType = selectLocalStorageStrategy()\n      }\n      return sessionStoreStrategyType\n    }\n\n    default:\n      display.error(`Invalid session persistence '${String(initConfiguration.sessionPersistence)}'`)\n  }\n}\n\n/**\n * Different session concepts:\n * - tracked, the session has an id and is updated along the user navigation\n * - not tracked, the session does not have an id but it is updated along the user navigation\n * - inactive, no session in store or session expired, waiting for a renew session\n */\nexport function startSessionStore<TrackingType extends string>(\n  sessionStoreStrategyType: SessionStoreStrategyType,\n  configuration: Configuration,\n  productKey: string,\n  computeSessionState: (rawTrackingType?: string) => { trackingType: TrackingType; isTracked: boolean }\n): SessionStore {\n  const renewObservable = new Observable<void>()\n  const expireObservable = new Observable<void>()\n  const sessionStateUpdateObservable = new Observable<{ previousState: SessionState; newState: SessionState }>()\n\n  const sessionStoreStrategy =\n    sessionStoreStrategyType.type === SessionPersistence.COOKIE\n      ? initCookieStrategy(configuration, sessionStoreStrategyType.cookieOptions)\n      : initLocalStorageStrategy(configuration)\n  const { expireSession } = sessionStoreStrategy\n\n  const watchSessionTimeoutId = setInterval(watchSession, STORAGE_POLL_DELAY)\n  let sessionCache: SessionState\n\n  startSession()\n\n  const { throttled: throttledExpandOrRenewSession, cancel: cancelExpandOrRenewSession } = throttle(() => {\n    processSessionStoreOperations(\n      {\n        process: (sessionState) => {\n          if (isSessionInNotStartedState(sessionState)) {\n            return\n          }\n\n          const synchronizedSession = synchronizeSession(sessionState)\n          expandOrRenewSessionState(synchronizedSession)\n          return synchronizedSession\n        },\n        after: (sessionState) => {\n          if (isSessionStarted(sessionState) && !hasSessionInCache()) {\n            renewSessionInCache(sessionState)\n          }\n          sessionCache = sessionState\n        },\n      },\n      sessionStoreStrategy\n    )\n  }, STORAGE_POLL_DELAY)\n\n  function expandSession() {\n    processSessionStoreOperations(\n      {\n        process: (sessionState) => (hasSessionInCache() ? synchronizeSession(sessionState) : undefined),\n      },\n      sessionStoreStrategy\n    )\n  }\n\n  /**\n   * allows two behaviors:\n   * - if the session is active, synchronize the session cache without updating the session store\n   * - if the session is not active, clear the session store and expire the session cache\n   */\n  function watchSession() {\n    processSessionStoreOperations(\n      {\n        process: (sessionState) =>\n          isSessionInExpiredState(sessionState) ? getExpiredSessionState(sessionState, configuration) : undefined,\n        after: synchronizeSession,\n      },\n      sessionStoreStrategy\n    )\n  }\n\n  function synchronizeSession(sessionState: SessionState) {\n    if (isSessionInExpiredState(sessionState)) {\n      sessionState = getExpiredSessionState(sessionState, configuration)\n    }\n    if (hasSessionInCache()) {\n      if (isSessionInCacheOutdated(sessionState)) {\n        expireSessionInCache()\n      } else {\n        sessionStateUpdateObservable.notify({ previousState: sessionCache, newState: sessionState })\n        sessionCache = sessionState\n      }\n    }\n    return sessionState\n  }\n\n  function startSession() {\n    processSessionStoreOperations(\n      {\n        process: (sessionState) => {\n          if (isSessionInNotStartedState(sessionState)) {\n            return getExpiredSessionState(sessionState, configuration)\n          }\n        },\n        after: (sessionState) => {\n          sessionCache = sessionState\n        },\n      },\n      sessionStoreStrategy\n    )\n  }\n\n  function expandOrRenewSessionState(sessionState: SessionState) {\n    if (isSessionInNotStartedState(sessionState)) {\n      return false\n    }\n\n    const { trackingType, isTracked } = computeSessionState(sessionState[productKey])\n    sessionState[productKey] = trackingType\n    delete sessionState.isExpired\n    if (isTracked && !sessionState.id) {\n      sessionState.id = generateUUID()\n      sessionState.created = String(dateNow())\n    }\n  }\n\n  function hasSessionInCache() {\n    return sessionCache[productKey] !== undefined\n  }\n\n  function isSessionInCacheOutdated(sessionState: SessionState) {\n    return sessionCache.id !== sessionState.id || sessionCache[productKey] !== sessionState[productKey]\n  }\n\n  function expireSessionInCache() {\n    sessionCache = getExpiredSessionState(sessionCache, configuration)\n    expireObservable.notify()\n  }\n\n  function renewSessionInCache(sessionState: SessionState) {\n    sessionCache = sessionState\n    renewObservable.notify()\n  }\n\n  function updateSessionState(partialSessionState: Partial<SessionState>) {\n    processSessionStoreOperations(\n      {\n        process: (sessionState) => ({ ...sessionState, ...partialSessionState }),\n        after: synchronizeSession,\n      },\n      sessionStoreStrategy\n    )\n  }\n\n  return {\n    expandOrRenewSession: throttledExpandOrRenewSession,\n    expandSession,\n    getSession: () => sessionCache,\n    renewObservable,\n    expireObservable,\n    sessionStateUpdateObservable,\n    restartSession: startSession,\n    expire: () => {\n      cancelExpandOrRenewSession()\n      expireSession(sessionCache)\n      synchronizeSession(getExpiredSessionState(sessionCache, configuration))\n    },\n    stop: () => {\n      clearInterval(watchSessionTimeoutId)\n    },\n    updateSessionState,\n  }\n}\n","import type { Payload } from '../../transport'\nimport { timeStampNow } from '../../tools/utils/timeUtils'\nimport { normalizeUrl } from '../../tools/utils/urlPolyfill'\nimport { generateUUID } from '../../tools/utils/stringUtils'\nimport type { InitConfiguration } from './configuration'\nimport { INTAKE_SITE_US1, INTAKE_SITE_FED_STAGING, PCI_INTAKE_HOST_US1 } from './intakeSites'\n\n// replaced at build time\ndeclare const __BUILD_ENV__SDK_VERSION__: string\n\nexport type TrackType = 'logs' | 'rum' | 'replay' | 'profile'\nexport type ApiType =\n  | 'fetch-keepalive'\n  | 'fetch'\n  | 'beacon'\n  // 'manual' reflects that the request have been sent manually, outside of the SDK (ex: via curl or\n  // a Node.js script).\n  | 'manual'\n\nexport type EndpointBuilder = ReturnType<typeof createEndpointBuilder>\n\nexport function createEndpointBuilder(\n  initConfiguration: InitConfiguration,\n  trackType: TrackType,\n  configurationTags: string[]\n) {\n  const buildUrlWithParameters = createEndpointUrlWithParametersBuilder(initConfiguration, trackType)\n\n  return {\n    build(api: ApiType, payload: Payload) {\n      const parameters = buildEndpointParameters(initConfiguration, trackType, configurationTags, api, payload)\n      return buildUrlWithParameters(parameters)\n    },\n    tags: configurationTags,\n    urlPrefix: buildUrlWithParameters(''),\n    trackType,\n  }\n}\n\n/**\n * Create a function used to build a full endpoint url from provided parameters. The goal of this\n * function is to pre-compute some parts of the URL to avoid re-computing everything on every\n * request, as only parameters are changing.\n */\nfunction createEndpointUrlWithParametersBuilder(\n  initConfiguration: InitConfiguration,\n  trackType: TrackType\n): (parameters: string) => string {\n  const path = `/api/v2/${trackType}`\n  const proxy = initConfiguration.proxy\n  if (typeof proxy === 'string') {\n    const normalizedProxyUrl = normalizeUrl(proxy)\n    return (parameters) => `${normalizedProxyUrl}?ddforward=${encodeURIComponent(`${path}?${parameters}`)}`\n  }\n  if (typeof proxy === 'function') {\n    return (parameters) => proxy({ path, parameters })\n  }\n  const host = buildEndpointHost(trackType, initConfiguration)\n  return (parameters) => `https://${host}${path}?${parameters}`\n}\n\nexport function buildEndpointHost(\n  trackType: TrackType,\n  initConfiguration: InitConfiguration & { usePciIntake?: boolean }\n) {\n  const { site = INTAKE_SITE_US1, internalAnalyticsSubdomain } = initConfiguration\n\n  if (trackType === 'logs' && initConfiguration.usePciIntake && site === INTAKE_SITE_US1) {\n    return PCI_INTAKE_HOST_US1\n  }\n\n  if (internalAnalyticsSubdomain && site === INTAKE_SITE_US1) {\n    return `${internalAnalyticsSubdomain}.${INTAKE_SITE_US1}`\n  }\n\n  if (site === INTAKE_SITE_FED_STAGING) {\n    return `http-intake.logs.${site}`\n  }\n\n  const domainParts = site.split('.')\n  const extension = domainParts.pop()\n  return `browser-intake-${domainParts.join('-')}.${extension!}`\n}\n\n/**\n * Build parameters to be used for an intake request. Parameters should be re-built for each\n * request, as they change randomly.\n */\nfunction buildEndpointParameters(\n  { clientToken, internalAnalyticsSubdomain }: InitConfiguration,\n  trackType: TrackType,\n  configurationTags: string[],\n  api: ApiType,\n  { retry, encoding }: Payload\n) {\n  const tags = [`sdk_version:${__BUILD_ENV__SDK_VERSION__}`, `api:${api}`].concat(configurationTags)\n  if (retry) {\n    tags.push(`retry_count:${retry.count}`, `retry_after:${retry.lastFailureStatus}`)\n  }\n\n  const parameters = [\n    'ddsource=browser',\n    `ddtags=${encodeURIComponent(tags.join(','))}`,\n    `dd-api-key=${clientToken}`,\n    `dd-evp-origin-version=${encodeURIComponent(__BUILD_ENV__SDK_VERSION__)}`,\n    'dd-evp-origin=browser',\n    `dd-request-id=${generateUUID()}`,\n  ]\n\n  if (encoding) {\n    parameters.push(`dd-evp-encoding=${encoding}`)\n  }\n\n  if (trackType === 'rum') {\n    parameters.push(`batch_time=${timeStampNow()}`)\n  }\n\n  if (internalAnalyticsSubdomain) {\n    parameters.reverse()\n  }\n\n  return parameters.join('&')\n}\n","import { DOCS_ORIGIN, MORE_DETAILS, display } from '../../tools/display'\nimport type { InitConfiguration } from './configuration'\n\nexport const TAG_SIZE_LIMIT = 200\n\nexport function buildTags(configuration: InitConfiguration): string[] {\n  const { env, service, version, datacenter } = configuration\n  const tags = []\n\n  if (env) {\n    tags.push(buildTag('env', env))\n  }\n  if (service) {\n    tags.push(buildTag('service', service))\n  }\n  if (version) {\n    tags.push(buildTag('version', version))\n  }\n  if (datacenter) {\n    tags.push(buildTag('datacenter', datacenter))\n  }\n\n  return tags\n}\n\nexport function buildTag(key: string, rawValue: string) {\n  // See https://docs.datadoghq.com/getting_started/tagging/#defining-tags for tags syntax. Note\n  // that the backend may not follow the exact same rules, so we only want to display an informal\n  // warning.\n  const valueSizeLimit = TAG_SIZE_LIMIT - key.length - 1\n\n  if (rawValue.length > valueSizeLimit || hasForbiddenCharacters(rawValue)) {\n    display.warn(\n      `${key} value doesn't meet tag requirements and will be sanitized. ${MORE_DETAILS} ${DOCS_ORIGIN}/getting_started/tagging/#defining-tags`\n    )\n  }\n\n  // Let the backend do most of the sanitization, but still make sure multiple tags can't be crafted\n  // by forging a value containing commas.\n  const sanitizedValue = rawValue.replace(/,/g, '_')\n\n  return `${key}:${sanitizedValue}`\n}\n\nfunction hasForbiddenCharacters(rawValue: string) {\n  // Unicode property escapes is not supported in all browsers, so we use a try/catch.\n  // Todo: Remove the try/catch when dropping support for Chrome 63 and Firefox 67\n  // see: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Unicode_character_class_escape#browser_compatibility\n  if (!supportUnicodePropertyEscapes()) {\n    return false\n  }\n\n  // We use the Unicode property escapes to match any character that is a letter including other languages like Chinese, Japanese, etc.\n  // p{Ll} matches a lowercase letter.\n  // p{Lo} matches a letter that is neither uppercase nor lowercase (ex: Japanese characters).\n  // See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Unicode_character_class_escape#unicode_property_escapes_vs._character_classes\n  return new RegExp('[^\\\\p{Ll}\\\\p{Lo}0-9_:./-]', 'u').test(rawValue)\n}\n\nexport function supportUnicodePropertyEscapes() {\n  try {\n    new RegExp('[\\\\p{Ll}]', 'u')\n    return true\n  } catch {\n    return false\n  }\n}\n","import type { InitConfiguration } from './configuration'\nimport type { EndpointBuilder } from './endpointBuilder'\nimport { createEndpointBuilder } from './endpointBuilder'\nimport { buildTags } from './tags'\nimport type { Site } from './intakeSites'\nimport { INTAKE_SITE_US1, INTAKE_URL_PARAMETERS } from './intakeSites'\n\nexport interface TransportConfiguration {\n  logsEndpointBuilder: EndpointBuilder\n  rumEndpointBuilder: EndpointBuilder\n  sessionReplayEndpointBuilder: EndpointBuilder\n  profilingEndpointBuilder: EndpointBuilder\n  replica?: ReplicaConfiguration\n  site: Site\n}\n\nexport interface ReplicaConfiguration {\n  applicationId?: string\n  logsEndpointBuilder: EndpointBuilder\n  rumEndpointBuilder: EndpointBuilder\n}\n\nexport function computeTransportConfiguration(initConfiguration: InitConfiguration): TransportConfiguration {\n  const site = initConfiguration.site || INTAKE_SITE_US1\n\n  const tags = buildTags(initConfiguration)\n\n  const endpointBuilders = computeEndpointBuilders(initConfiguration, tags)\n  const replicaConfiguration = computeReplicaConfiguration(initConfiguration, tags)\n\n  return {\n    replica: replicaConfiguration,\n    site,\n    ...endpointBuilders,\n  }\n}\n\nfunction computeEndpointBuilders(initConfiguration: InitConfiguration, tags: string[]) {\n  return {\n    logsEndpointBuilder: createEndpointBuilder(initConfiguration, 'logs', tags),\n    rumEndpointBuilder: createEndpointBuilder(initConfiguration, 'rum', tags),\n    profilingEndpointBuilder: createEndpointBuilder(initConfiguration, 'profile', tags),\n    sessionReplayEndpointBuilder: createEndpointBuilder(initConfiguration, 'replay', tags),\n  }\n}\n\nfunction computeReplicaConfiguration(\n  initConfiguration: InitConfiguration,\n  tags: string[]\n): ReplicaConfiguration | undefined {\n  if (!initConfiguration.replica) {\n    return\n  }\n\n  const replicaConfiguration: InitConfiguration = {\n    ...initConfiguration,\n    site: INTAKE_SITE_US1,\n    clientToken: initConfiguration.replica.clientToken,\n  }\n\n  const replicaEndpointBuilders = {\n    logsEndpointBuilder: createEndpointBuilder(replicaConfiguration, 'logs', tags),\n    rumEndpointBuilder: createEndpointBuilder(replicaConfiguration, 'rum', tags),\n  }\n\n  return { applicationId: initConfiguration.replica.applicationId, ...replicaEndpointBuilders }\n}\n\nexport function isIntakeUrl(url: string): boolean {\n  // check if tags is present in the query string\n  return INTAKE_URL_PARAMETERS.every((param) => url.includes(param))\n}\n","import { catchUserErrors } from '../../tools/catchUserErrors'\nimport { DOCS_ORIGIN, MORE_DETAILS, display } from '../../tools/display'\nimport type { RawTelemetryConfiguration } from '../telemetry'\nimport type { Duration } from '../../tools/utils/timeUtils'\nimport { ONE_SECOND } from '../../tools/utils/timeUtils'\nimport { isPercentage } from '../../tools/utils/numberUtils'\nimport { ONE_KIBI_BYTE } from '../../tools/utils/byteUtils'\nimport { objectHasValue } from '../../tools/utils/objectUtils'\nimport { selectSessionStoreStrategyType } from '../session/sessionStore'\nimport type { SessionStoreStrategyType } from '../session/storeStrategies/sessionStoreStrategy'\nimport { TrackingConsent } from '../trackingConsent'\nimport type { SessionPersistence } from '../session/sessionConstants'\nimport type { TransportConfiguration } from './transportConfiguration'\nimport { computeTransportConfiguration } from './transportConfiguration'\nimport type { Site } from './intakeSites'\n\nexport const DefaultPrivacyLevel = {\n  ALLOW: 'allow',\n  MASK: 'mask',\n  MASK_USER_INPUT: 'mask-user-input',\n} as const\nexport type DefaultPrivacyLevel = (typeof DefaultPrivacyLevel)[keyof typeof DefaultPrivacyLevel]\n\nexport const TraceContextInjection = {\n  ALL: 'all',\n  SAMPLED: 'sampled',\n} as const\n\nexport type TraceContextInjection = (typeof TraceContextInjection)[keyof typeof TraceContextInjection]\n\nexport interface InitConfiguration {\n  /**\n   * The client token for Datadog. Required for authenticating your application with Datadog.\n   */\n  clientToken: string\n  /**\n   * A callback function that can be used to modify events before they are sent to Datadog.\n   */\n  beforeSend?: GenericBeforeSendCallback | undefined\n  /**\n   * The percentage of sessions tracked. A value between 0 and 100.\n   * @default 100\n   */\n  sessionSampleRate?: number | undefined\n  /**\n   * The percentage of telemetry events sent. A value between 0 and 100.\n   * @default 20\n   */\n  telemetrySampleRate?: number | undefined\n  /**\n   * Initialization fails silently if the RUM Browser SDK is already initialized on the page.\n   * @default false\n   */\n  silentMultipleInit?: boolean | undefined\n\n  /**\n   * Which storage strategy to use for persisting sessions. Can be either 'cookie' or 'local-storage'.\n   * @default \"cookie\"\n   */\n  sessionPersistence?: SessionPersistence | undefined\n\n  /**\n   * Allows the use of localStorage when cookies cannot be set. This enables the RUM Browser SDK to run in environments that do not provide cookie support.\n   * See [Monitor Electron Applications Using the Browser SDK](https://docs.datadoghq.com/real_user_monitoring/guide/monitor-electron-applications-using-browser-sdk) for further information.\n   * @deprecated use `sessionPersistence: local-storage` where you want to use localStorage instead\n   */\n  allowFallbackToLocalStorage?: boolean | undefined\n\n  /**\n   * Allow listening to DOM events dispatched programmatically ([untrusted events](https://developer.mozilla.org/en-US/docs/Web/API/Event/isTrusted)). Enabling this option can be useful if you heavily rely on programmatic events, such as in an automated UI test environment.\n   * @default false\n   */\n  allowUntrustedEvents?: boolean | undefined\n  /**\n   * Store global context and user context in localStorage to preserve them along the user navigation.\n   * See [Contexts life cycle](https://docs.datadoghq.com/real_user_monitoring/browser/advanced_configuration/?tab=npm#contexts-life-cycle) for further information.\n   * @default false\n   */\n  storeContextsAcrossPages?: boolean | undefined\n  /**\n   * Set the initial user tracking consent state.\n   * See [User tracking consent](https://docs.datadoghq.com/real_user_monitoring/browser/advanced_configuration/?tab=npm#user-tracking-consent) for further information.\n   * @default granted\n   */\n  trackingConsent?: TrackingConsent | undefined\n\n  // transport options\n  /**\n   * Optional proxy URL, for example: https://www.proxy.com/path.\n   * See [Proxy Your Browser RUM Data](https://docs.datadoghq.com/real_user_monitoring/guide/proxy-rum-data) for further information.\n   */\n  proxy?: string | ProxyFn | undefined\n  /**\n   * The Datadog [site](https://docs.datadoghq.com/getting_started/site) parameter of your organization.\n   * @default datadoghq.com\n   */\n  site?: Site | undefined\n\n  // tag and context options\n  /**\n   * The service name for your application. Follows the [tag syntax requirements](https://docs.datadoghq.com/getting_started/tagging/#define-tags).\n   */\n  service?: string | undefined | null\n  /**\n   * The applications environment, for example: prod, pre-prod, and staging. Follows the [tag syntax requirements](https://docs.datadoghq.com/getting_started/tagging/#define-tags).\n   */\n  env?: string | undefined | null\n  /**\n   * The applications version, for example: 1.2.3, 6c44da20, and 2020.02.13. Follows the [tag syntax requirements](https://docs.datadoghq.com/getting_started/tagging/#define-tags).\n   */\n  version?: string | undefined | null\n\n  // cookie options\n  /**\n   * Use a partitioned secure cross-site session cookie. This allows the RUM Browser SDK to run when the site is loaded from another one (iframe). Implies `useSecureSessionCookie`.\n   * @default false\n   */\n  usePartitionedCrossSiteSessionCookie?: boolean | undefined\n  /**\n   * Use a secure session cookie. This disables RUM events sent on insecure (non-HTTPS) connections.\n   * @default false\n   */\n  useSecureSessionCookie?: boolean | undefined\n  /**\n   * Preserve the session across subdomains for the same site.\n   * @default false\n   */\n  trackSessionAcrossSubdomains?: boolean | undefined\n  /**\n   * Track anonymous user for the same site and extend cookie expiration date\n   * @default true\n   */\n  trackAnonymousUser?: boolean | undefined\n  // internal options\n  /**\n   * [Internal option] Enable experimental features\n   */\n  enableExperimentalFeatures?: string[] | undefined\n  /**\n   * [Internal option] Configure the dual chipping to another datacenter\n   */\n  replica?: ReplicaUserConfiguration | undefined\n  /**\n   * [Internal option] Set the datacenter from where the data is dual chipped\n   */\n  datacenter?: string\n  /**\n   * [Internal option] Datadog internal analytics subdomain\n   */\n  // TODO next major: remove this option and replace usages by proxyFn\n  internalAnalyticsSubdomain?: string\n  /**\n   * [Internal option] The percentage of telemetry configuration sent. A value between 0 and 100.\n   * @default 5\n   */\n  telemetryConfigurationSampleRate?: number\n  /**\n   * [Internal option] The percentage of telemetry usage sent. A value between 0 and 100.\n   * @default 5\n   */\n  telemetryUsageSampleRate?: number\n}\n\n// This type is only used to build the core configuration. Logs and RUM SDKs are using a proper type\n// for this option.\ntype GenericBeforeSendCallback = (event: any, context?: any) => unknown\n\n/**\n * path: /api/vX/product\n * parameters: xxx=yyy&zzz=aaa\n */\ntype ProxyFn = (options: { path: string; parameters: string }) => string\n\nexport interface ReplicaUserConfiguration {\n  applicationId?: string\n  clientToken: string\n}\n\nexport interface Configuration extends TransportConfiguration {\n  // Built from init configuration\n  beforeSend: GenericBeforeSendCallback | undefined\n  sessionStoreStrategyType: SessionStoreStrategyType | undefined\n  sessionSampleRate: number\n  telemetrySampleRate: number\n  telemetryConfigurationSampleRate: number\n  telemetryUsageSampleRate: number\n  service: string | undefined\n  silentMultipleInit: boolean\n  allowUntrustedEvents: boolean\n  trackingConsent: TrackingConsent\n  storeContextsAcrossPages: boolean\n  trackAnonymousUser?: boolean\n\n  // Event limits\n  eventRateLimiterThreshold: number // Limit the maximum number of actions, errors and logs per minutes\n  maxTelemetryEventsPerPage: number\n\n  // Batch configuration\n  batchBytesLimit: number\n  flushTimeout: Duration\n  batchMessagesLimit: number\n  messageBytesLimit: number\n}\n\nfunction isString(tag: unknown, tagName: string): tag is string | undefined | null {\n  if (tag !== undefined && tag !== null && typeof tag !== 'string') {\n    display.error(`${tagName} must be defined as a string`)\n    return false\n  }\n  return true\n}\n\nfunction isDatadogSite(site: unknown) {\n  if (site && typeof site === 'string' && !/(datadog|ddog|datad0g|dd0g)/.test(site)) {\n    display.error(`Site should be a valid Datadog site. ${MORE_DETAILS} ${DOCS_ORIGIN}/getting_started/site/.`)\n    return false\n  }\n  return true\n}\n\nexport function isSampleRate(sampleRate: unknown, name: string) {\n  if (sampleRate !== undefined && !isPercentage(sampleRate)) {\n    display.error(`${name} Sample Rate should be a number between 0 and 100`)\n    return false\n  }\n  return true\n}\n\nexport function validateAndBuildConfiguration(initConfiguration: InitConfiguration): Configuration | undefined {\n  if (!initConfiguration || !initConfiguration.clientToken) {\n    display.error('Client Token is not configured, we will not send any data.')\n    return\n  }\n\n  if (\n    !isDatadogSite(initConfiguration.site) ||\n    !isSampleRate(initConfiguration.sessionSampleRate, 'Session') ||\n    !isSampleRate(initConfiguration.telemetrySampleRate, 'Telemetry') ||\n    !isSampleRate(initConfiguration.telemetryConfigurationSampleRate, 'Telemetry Configuration') ||\n    !isSampleRate(initConfiguration.telemetryUsageSampleRate, 'Telemetry Usage') ||\n    !isString(initConfiguration.version, 'Version') ||\n    !isString(initConfiguration.env, 'Env') ||\n    !isString(initConfiguration.service, 'Service')\n  ) {\n    return\n  }\n\n  if (\n    initConfiguration.trackingConsent !== undefined &&\n    !objectHasValue(TrackingConsent, initConfiguration.trackingConsent)\n  ) {\n    display.error('Tracking Consent should be either \"granted\" or \"not-granted\"')\n    return\n  }\n\n  return {\n    beforeSend:\n      initConfiguration.beforeSend && catchUserErrors(initConfiguration.beforeSend, 'beforeSend threw an error:'),\n    sessionStoreStrategyType: selectSessionStoreStrategyType(initConfiguration),\n    sessionSampleRate: initConfiguration.sessionSampleRate ?? 100,\n    telemetrySampleRate: initConfiguration.telemetrySampleRate ?? 20,\n    telemetryConfigurationSampleRate: initConfiguration.telemetryConfigurationSampleRate ?? 5,\n    telemetryUsageSampleRate: initConfiguration.telemetryUsageSampleRate ?? 5,\n    service: initConfiguration.service || undefined,\n    silentMultipleInit: !!initConfiguration.silentMultipleInit,\n    allowUntrustedEvents: !!initConfiguration.allowUntrustedEvents,\n    trackingConsent: initConfiguration.trackingConsent ?? TrackingConsent.GRANTED,\n    trackAnonymousUser: initConfiguration.trackAnonymousUser ?? true,\n    storeContextsAcrossPages: !!initConfiguration.storeContextsAcrossPages,\n    /**\n     * beacon payload max queue size implementation is 64kb\n     * ensure that we leave room for logs, rum and potential other users\n     */\n    batchBytesLimit: 16 * ONE_KIBI_BYTE,\n\n    eventRateLimiterThreshold: 3000,\n    maxTelemetryEventsPerPage: 15,\n\n    /**\n     * flush automatically, aim to be lower than ALB connection timeout\n     * to maximize connection reuse.\n     */\n    flushTimeout: (30 * ONE_SECOND) as Duration,\n\n    /**\n     * Logs intake limit\n     */\n    batchMessagesLimit: 50,\n    messageBytesLimit: 256 * ONE_KIBI_BYTE,\n    ...computeTransportConfiguration(initConfiguration),\n  }\n}\n\nexport function serializeConfiguration(initConfiguration: InitConfiguration) {\n  return {\n    session_sample_rate: initConfiguration.sessionSampleRate,\n    telemetry_sample_rate: initConfiguration.telemetrySampleRate,\n    telemetry_configuration_sample_rate: initConfiguration.telemetryConfigurationSampleRate,\n    telemetry_usage_sample_rate: initConfiguration.telemetryUsageSampleRate,\n    use_before_send: !!initConfiguration.beforeSend,\n    use_partitioned_cross_site_session_cookie: initConfiguration.usePartitionedCrossSiteSessionCookie,\n    use_secure_session_cookie: initConfiguration.useSecureSessionCookie,\n    use_proxy: !!initConfiguration.proxy,\n    silent_multiple_init: initConfiguration.silentMultipleInit,\n    track_session_across_subdomains: initConfiguration.trackSessionAcrossSubdomains,\n    track_anonymous_user: initConfiguration.trackAnonymousUser,\n    session_persistence: initConfiguration.sessionPersistence,\n    allow_fallback_to_local_storage: !!initConfiguration.allowFallbackToLocalStorage,\n    store_contexts_across_pages: !!initConfiguration.storeContextsAcrossPages,\n    allow_untrusted_events: !!initConfiguration.allowUntrustedEvents,\n    tracking_consent: initConfiguration.trackingConsent,\n  } satisfies RawTelemetryConfiguration\n}\n","import { display } from './display'\nimport { getType } from './utils/typeUtils'\n\nexport type MatchOption = string | RegExp | ((value: string) => boolean)\n\nexport function isMatchOption(item: unknown): item is MatchOption {\n  const itemType = getType(item)\n  return itemType === 'string' || itemType === 'function' || item instanceof RegExp\n}\n\n/**\n * Returns true if value can be matched by at least one of the provided MatchOptions.\n * When comparing strings, setting useStartsWith to true will compare the value with the start of\n * the option, instead of requiring an exact match.\n */\nexport function matchList(list: MatchOption[], value: string, useStartsWith = false): boolean {\n  return list.some((item) => {\n    try {\n      if (typeof item === 'function') {\n        return item(value)\n      } else if (item instanceof RegExp) {\n        return item.test(value)\n      } else if (typeof item === 'string') {\n        return useStartsWith ? value.startsWith(item) : item === value\n      }\n    } catch (e) {\n      display.error(e)\n    }\n    return false\n  })\n}\n","interface BaseIdentifier {\n  toString(radix?: number): string\n}\n\nexport interface TraceIdentifier extends BaseIdentifier {\n  // We use a brand to distinguish between TraceIdentifier and SpanIdentifier, else TypeScript\n  // considers them as the same type\n  __brand: 'traceIdentifier'\n}\n\nexport interface SpanIdentifier extends BaseIdentifier {\n  __brand: 'spanIdentifier'\n}\n\nexport function createTraceIdentifier() {\n  return createIdentifier(64) as TraceIdentifier\n}\n\nexport function createSpanIdentifier() {\n  return createIdentifier(63) as SpanIdentifier\n}\n\nfunction createIdentifier(bits: 63 | 64): BaseIdentifier {\n  const buffer = crypto.getRandomValues(new Uint32Array(2))\n  if (bits === 63) {\n    // eslint-disable-next-line no-bitwise\n    buffer[buffer.length - 1] >>>= 1 // force 63-bit\n  }\n\n  // The `.toString` function is intentionally similar to Number and BigInt `.toString` method.\n  //\n  // JavaScript numbers can represent integers up to 48 bits, this is why we need two of them to\n  // represent a 64 bits identifier. But BigInts don't have this limitation and can represent larger\n  // integer values.\n  //\n  // In the future, when we drop browsers without BigInts support, we could use BigInts directly\n  // represent identifiers by simply returning a BigInt from this function (as all we need is a\n  // value with a `.toString` method).\n  //\n  // Examples:\n  //   const buffer = getCrypto().getRandomValues(new Uint32Array(2))\n  //   return BigInt(buffer[0]) + BigInt(buffer[1]) << 32n\n  //\n  //   // Alternative with BigUint64Array (different Browser support than plain bigints!):\n  //   return crypto.getRandomValues(new BigUint64Array(1))[0]\n  //\n  // For now, let's keep using two plain numbers as having two different implementations (one for\n  // browsers with BigInt support and one for older browsers) don't bring much value.\n  return {\n    toString(radix = 10) {\n      let high = buffer[1]\n      let low = buffer[0]\n      let str = ''\n\n      do {\n        const mod = (high % radix) * 4294967296 + low\n        high = Math.floor(high / radix)\n        low = Math.floor(mod / radix)\n        str = (mod % radix).toString(radix) + str\n      } while (high || low)\n\n      return str\n    },\n  }\n}\n\nexport function toPaddedHexadecimalString(id: BaseIdentifier) {\n  return id.toString(16).padStart(16, '0')\n}\n","import { performDraw } from '@datadog/browser-core'\n\nlet sampleDecisionCache: { sessionId: string; decision: boolean } | undefined\n\nexport function isTraceSampled(sessionId: string, sampleRate: number) {\n  // Shortcuts for common cases. This is not strictly necessary, but it makes the code faster for\n  // customers willing to ingest all traces.\n  if (sampleRate === 100) {\n    return true\n  }\n\n  if (sampleRate === 0) {\n    return false\n  }\n\n  if (sampleDecisionCache && sessionId === sampleDecisionCache.sessionId) {\n    return sampleDecisionCache.decision\n  }\n\n  let decision: boolean\n  // @ts-expect-error BigInt might not be defined in every browser we support\n  if (window.BigInt) {\n    decision = sampleUsingKnuthFactor(BigInt(`0x${sessionId.split('-')[4]}`), sampleRate)\n  } else {\n    // For simplicity, we don't use consistent sampling for browser without BigInt support\n    // TODO: remove this when all browser we support have BigInt support\n    decision = performDraw(sampleRate)\n  }\n  sampleDecisionCache = { sessionId, decision }\n  return decision\n}\n\n// Exported for tests\nexport function resetSampleDecisionCache() {\n  sampleDecisionCache = undefined\n}\n\n/**\n * Perform sampling using the Knuth factor method. This method offer consistent sampling result\n * based on the provided identifier.\n *\n * @param identifier The identifier to use for sampling.\n * @param sampleRate The sample rate in percentage between 0 and 100.\n */\nexport function sampleUsingKnuthFactor(identifier: bigint, sampleRate: number) {\n  // The formula is:\n  //\n  //   (identifier * knuthFactor) % 2^64 < sampleRate * 2^64\n  //\n  // Because JavaScript numbers are 64-bit floats, we can't represent 64-bit integers, and the\n  // modulo would be incorrect. Thus, we are using BigInts here.\n  //\n  // Implementation in other languages:\n  // * Go     https://github.com/DataDog/dd-trace-go/blob/ec6fbb1f2d517b7b8e69961052adf7136f3af773/ddtrace/tracer/sampler.go#L86-L91\n  // * Python https://github.com/DataDog/dd-trace-py/blob/0cee2f066fb6e79aa15947c1514c0f406dea47c5/ddtrace/sampling_rule.py#L197\n  // * Ruby   https://github.com/DataDog/dd-trace-rb/blob/1a6e255cdcb7e7e22235ea5955f90f6dfa91045d/lib/datadog/tracing/sampling/rate_sampler.rb#L42\n  // * C++    https://github.com/DataDog/dd-trace-cpp/blob/159629edc438ae45f2bb318eb7bd51abd05e94b5/src/datadog/trace_sampler.cpp#L58\n  // * Java   https://github.com/DataDog/dd-trace-java/blob/896dd6b380533216e0bdee59614606c8272d313e/dd-trace-core/src/main/java/datadog/trace/common/sampling/DeterministicSampler.java#L48\n  //\n  // Note: All implementations have slight variations. Some of them use '<=' instead of '<', and\n  // use `sampleRate * 2^64 - 1` instead of `sampleRate * 2^64`. The following implementation\n  // should adhere to the spec and is a bit simpler than using a 2^64-1 limit as there are less\n  // BigInt arithmetic to write. In practice this does not matter, as we are using floating point\n  // numbers in the end, and Number(2n**64n-1n) === Number(2n**64n).\n  const knuthFactor = BigInt('1111111111111111111')\n  const twoPow64 = BigInt('0x10000000000000000') // 2n ** 64n\n  const hash = (identifier * knuthFactor) % twoPow64\n  return Number(hash) <= (sampleRate / 100) * Number(twoPow64)\n}\n","export const encodedContextCache: Map<unknown, string> = new Map()\n\nexport function getEncodedContext(key: unknown): string | undefined {\n  if (!key || typeof key !== 'string') {\n    return undefined\n  }\n  if (encodedContextCache.has(key)) {\n    return encodedContextCache.get(key)\n  }\n  const encoded = encodeToUtf8Base64(key)\n  encodedContextCache.set(key, encoded)\n  return encoded\n}\n\n/**\n *\n * Helper function to encode a string to base64 in UTF-8\n * Comply with the `_dd.p.usr` standard and avoid non-ASCII characters\n * https://developer.mozilla.org/en-US/docs/Web/API/Window/btoa\n */\nexport function encodeToUtf8Base64(plainText: string) {\n  const bytes = new TextEncoder().encode(plainText)\n  const binString = String.fromCodePoint(...bytes)\n  return btoa(binString)\n}\n","import {\n  objectEntries,\n  shallowClone,\n  getType,\n  isMatchOption,\n  matchList,\n  TraceContextInjection,\n  isExperimentalFeatureEnabled,\n  ExperimentalFeature,\n} from '@datadog/browser-core'\nimport type { RumConfiguration } from '../configuration'\nimport type {\n  RumFetchResolveContext,\n  RumFetchStartContext,\n  RumXhrCompleteContext,\n  RumXhrStartContext,\n} from '../requestCollection'\nimport type { CommonContext } from '../contexts/commonContext'\nimport type { RumSessionManager } from '../rumSessionManager'\nimport type { PropagatorType, TracingOption } from './tracer.types'\nimport type { SpanIdentifier, TraceIdentifier } from './identifier'\nimport { createSpanIdentifier, createTraceIdentifier, toPaddedHexadecimalString } from './identifier'\nimport { isTraceSampled } from './sampler'\nimport { getEncodedContext } from './encodedContext'\n\nexport interface Tracer {\n  traceFetch: (context: Partial<RumFetchStartContext>) => void\n  traceXhr: (context: Partial<RumXhrStartContext>, xhr: XMLHttpRequest) => void\n  clearTracingIfNeeded: (context: RumFetchResolveContext | RumXhrCompleteContext) => void\n}\n\ninterface TracingHeaders {\n  [key: string]: string\n}\n\nexport function isTracingOption(item: unknown): item is TracingOption {\n  const expectedItem = item as TracingOption\n  return (\n    getType(expectedItem) === 'object' &&\n    isMatchOption(expectedItem.match) &&\n    Array.isArray(expectedItem.propagatorTypes)\n  )\n}\n\n/**\n * Clear tracing information to avoid incomplete traces. Ideally, we should do it when the\n * request did not reach the server, but the browser does not expose this. So, we clear tracing\n * information if the request ended with status 0 without being aborted by the application.\n *\n * Reasoning:\n *\n * * Applications are usually aborting requests after a bit of time, for example when the user is\n * typing (autocompletion) or navigating away (in a SPA). With a performant device and good\n * network conditions, the request is likely to reach the server before being canceled.\n *\n * * Requests aborted otherwise (ex: lack of internet, CORS issue, blocked by a privacy extension)\n * are likely to finish quickly and without reaching the server.\n *\n * Of course, it might not be the case every time, but it should limit having incomplete traces a\n * bit.\n * */\nexport function clearTracingIfNeeded(context: RumFetchResolveContext | RumXhrCompleteContext) {\n  if (context.status === 0 && !context.isAborted) {\n    context.traceId = undefined\n    context.spanId = undefined\n    context.traceSampled = undefined\n  }\n}\n\nexport function startTracer(\n  configuration: RumConfiguration,\n  sessionManager: RumSessionManager,\n  getCommonContext: () => CommonContext\n): Tracer {\n  return {\n    clearTracingIfNeeded,\n    traceFetch: (context) =>\n      injectHeadersIfTracingAllowed(\n        configuration,\n        context,\n        sessionManager,\n        getCommonContext,\n        (tracingHeaders: TracingHeaders) => {\n          if (context.input instanceof Request && !context.init?.headers) {\n            context.input = new Request(context.input)\n            Object.keys(tracingHeaders).forEach((key) => {\n              ;(context.input as Request).headers.append(key, tracingHeaders[key])\n            })\n          } else {\n            context.init = shallowClone(context.init)\n            const headers: Array<[string, string]> = []\n            if (context.init.headers instanceof Headers) {\n              context.init.headers.forEach((value, key) => {\n                headers.push([key, value])\n              })\n            } else if (Array.isArray(context.init.headers)) {\n              context.init.headers.forEach((header) => {\n                headers.push(header)\n              })\n            } else if (context.init.headers) {\n              Object.keys(context.init.headers).forEach((key) => {\n                headers.push([key, (context.init!.headers as Record<string, string>)[key]])\n              })\n            }\n            context.init.headers = headers.concat(objectEntries(tracingHeaders))\n          }\n        }\n      ),\n    traceXhr: (context, xhr) =>\n      injectHeadersIfTracingAllowed(\n        configuration,\n        context,\n        sessionManager,\n        getCommonContext,\n        (tracingHeaders: TracingHeaders) => {\n          Object.keys(tracingHeaders).forEach((name) => {\n            xhr.setRequestHeader(name, tracingHeaders[name])\n          })\n        }\n      ),\n  }\n}\n\nfunction injectHeadersIfTracingAllowed(\n  configuration: RumConfiguration,\n  context: Partial<RumFetchStartContext | RumXhrStartContext>,\n  sessionManager: RumSessionManager,\n  getCommonContext: () => CommonContext,\n  inject: (tracingHeaders: TracingHeaders) => void\n) {\n  const session = sessionManager.findTrackedSession()\n  if (!session) {\n    return\n  }\n\n  const tracingOption = configuration.allowedTracingUrls.find((tracingOption) =>\n    matchList([tracingOption.match], context.url!, true)\n  )\n  if (!tracingOption) {\n    return\n  }\n\n  const traceSampled = isTraceSampled(session.id, configuration.traceSampleRate)\n\n  const shouldInjectHeaders = traceSampled || configuration.traceContextInjection === TraceContextInjection.ALL\n  if (!shouldInjectHeaders) {\n    return\n  }\n\n  context.traceSampled = traceSampled\n  context.traceId = createTraceIdentifier()\n  context.spanId = createSpanIdentifier()\n\n  inject(\n    makeTracingHeaders(\n      context.traceId,\n      context.spanId,\n      context.traceSampled,\n      tracingOption.propagatorTypes,\n      getCommonContext\n    )\n  )\n}\n\n/**\n * When trace is not sampled, set priority to '0' instead of not adding the tracing headers\n * to prepare the implementation for sampling delegation.\n */\nfunction makeTracingHeaders(\n  traceId: TraceIdentifier,\n  spanId: SpanIdentifier,\n  traceSampled: boolean,\n  propagatorTypes: PropagatorType[],\n  getCommonContext: () => CommonContext\n): TracingHeaders {\n  const tracingHeaders: TracingHeaders = {}\n\n  propagatorTypes.forEach((propagatorType) => {\n    switch (propagatorType) {\n      case 'datadog': {\n        Object.assign(tracingHeaders, {\n          'x-datadog-origin': 'rum',\n          'x-datadog-parent-id': spanId.toString(),\n          'x-datadog-sampling-priority': traceSampled ? '1' : '0',\n          'x-datadog-trace-id': traceId.toString(),\n        })\n        break\n      }\n      // https://www.w3.org/TR/trace-context/\n      case 'tracecontext': {\n        Object.assign(tracingHeaders, {\n          traceparent: `00-0000000000000000${toPaddedHexadecimalString(traceId)}-${toPaddedHexadecimalString(spanId)}-0${\n            traceSampled ? '1' : '0'\n          }`,\n          tracestate: `dd=${getTraceStateDatadogItems(traceSampled, getCommonContext).join(';')}`,\n        })\n        break\n      }\n      // https://github.com/openzipkin/b3-propagation\n      case 'b3': {\n        Object.assign(tracingHeaders, {\n          b3: `${toPaddedHexadecimalString(traceId)}-${toPaddedHexadecimalString(spanId)}-${traceSampled ? '1' : '0'}`,\n        })\n        break\n      }\n      case 'b3multi': {\n        Object.assign(tracingHeaders, {\n          'X-B3-TraceId': toPaddedHexadecimalString(traceId),\n          'X-B3-SpanId': toPaddedHexadecimalString(spanId),\n          'X-B3-Sampled': traceSampled ? '1' : '0',\n        })\n        break\n      }\n    }\n  })\n  return tracingHeaders\n}\n\nfunction getTraceStateDatadogItems(traceSampled: boolean, getCommonContext: () => CommonContext): string[] {\n  const traceStateDatadogItems: string[] = [`s:${traceSampled ? '1' : '0'}`, 'o:rum']\n  if (isExperimentalFeatureEnabled(ExperimentalFeature.USER_ACCOUNT_TRACE_HEADER)) {\n    /**\n     * We should only enable this feature after the decoding service is available\n     */\n    const userIdEncoded = getEncodedContext(getCommonContext().user.id)\n    const accountIdEncoded = getEncodedContext(getCommonContext().account.id)\n    if (userIdEncoded) {\n      traceStateDatadogItems.push(`t.usr.id:${userIdEncoded}`)\n    }\n    if (accountIdEncoded) {\n      traceStateDatadogItems.push(`t.account.id:${accountIdEncoded}`)\n    }\n  }\n  return traceStateDatadogItems\n}\n","import type { Configuration, InitConfiguration, MatchOption, RawTelemetryConfiguration } from '@datadog/browser-core'\nimport {\n  getType,\n  isMatchOption,\n  serializeConfiguration,\n  DefaultPrivacyLevel,\n  TraceContextInjection,\n  display,\n  objectHasValue,\n  validateAndBuildConfiguration,\n  isSampleRate,\n  isNumber,\n  isExperimentalFeatureEnabled,\n  ExperimentalFeature,\n} from '@datadog/browser-core'\nimport type { RumEventDomainContext } from '../../domainContext.types'\nimport type { RumEvent } from '../../rumEvent.types'\nimport type { RumPlugin } from '../plugins'\nimport { isTracingOption } from '../tracing/tracer'\nimport type { PropagatorType, TracingOption } from '../tracing/tracer.types'\n\nexport const DEFAULT_PROPAGATOR_TYPES: PropagatorType[] = ['tracecontext', 'datadog']\n\nexport interface RumInitConfiguration extends InitConfiguration {\n  // global options\n  /**\n   * The RUM application ID.\n   */\n  applicationId: string\n  /**\n   * Access to every event collected by the RUM SDK before they are sent to Datadog.\n   * It allows:\n   * - Enrich your RUM events with additional context attributes\n   * - Modify your RUM events to modify their content, or redact sensitive sequences (see the list of editable properties)\n   * - Discard selected RUM events\n   *\n   * See [Enrich And Control Browser RUM Data With beforeSend](https://docs.datadoghq.com/real_user_monitoring/guide/enrich-and-control-rum-data) for further information.\n   */\n  beforeSend?: ((event: RumEvent, context: RumEventDomainContext) => boolean) | undefined\n  /**\n   * A list of request origins ignored when computing the page activity.\n   * See [How page activity is calculated](https://docs.datadoghq.com/real_user_monitoring/browser/monitoring_page_performance/#how-page-activity-is-calculated) for further information.\n   */\n  excludedActivityUrls?: MatchOption[] | undefined\n  /**\n   * URL pointing to the Datadog Browser SDK Worker JavaScript file. The URL can be relative or absolute, but is required to have the same origin as the web application.\n   * See [Content Security Policy guidelines](https://docs.datadoghq.com/integrations/content_security_policy_logs/?tab=firefox#use-csp-with-real-user-monitoring-and-session-replay) for further information.\n   */\n  workerUrl?: string\n  /**\n   * Compress requests sent to the Datadog intake to reduce bandwidth usage when sending large amounts of data. The compression is done in a Worker thread.\n   * See [Content Security Policy guidelines](https://docs.datadoghq.com/integrations/content_security_policy_logs/?tab=firefox#use-csp-with-real-user-monitoring-and-session-replay) for further information.\n   */\n  compressIntakeRequests?: boolean | undefined\n  remoteConfigurationId?: string | undefined\n\n  // tracing options\n  /**\n   * A list of request URLs used to inject tracing headers.\n   * See [Connect RUM and Traces](https://docs.datadoghq.com/real_user_monitoring/platform/connect_rum_and_traces/?tab=browserrum) for further information.\n   */\n  allowedTracingUrls?: Array<MatchOption | TracingOption> | undefined\n\n  /**\n   * The percentage of requests to trace: 100 for all, 0 for none.\n   * See [Connect RUM and Traces](https://docs.datadoghq.com/real_user_monitoring/platform/connect_rum_and_traces/?tab=browserrum) for further information.\n   */\n  traceSampleRate?: number | undefined\n  /**\n   * If you set a `traceSampleRate`, to ensure backend services' sampling decisions are still applied, configure the `traceContextInjection` initialization parameter to sampled.\n   * @default sampled\n   * See [Connect RUM and Traces](https://docs.datadoghq.com/real_user_monitoring/platform/connect_rum_and_traces/?tab=browserrum) for further information.\n   */\n  traceContextInjection?: TraceContextInjection | undefined\n\n  // replay options\n  /**\n   * Allow to protect end user privacy and prevent sensitive organizational information from being collected.\n   * @default mask\n   * See [Replay Privacy Options](https://docs.datadoghq.com/real_user_monitoring/session_replay/browser/privacy_options) for further information.\n   */\n  defaultPrivacyLevel?: DefaultPrivacyLevel | undefined\n  /**\n   * If you are accessing Datadog through a custom subdomain, you can set `subdomain` to include your custom domain in the `getSessionReplayLink()` returned URL .\n   * See [Connect Session Replay To Your Third-Party Tools](https://docs.datadoghq.com/real_user_monitoring/guide/connect-session-replay-to-your-third-party-tools) for further information.\n   */\n  subdomain?: string\n  /**\n   * The percentage of tracked sessions with [Browser RUM & Session Replay pricing](https://www.datadoghq.com/pricing/?product=real-user-monitoring--session-replay#real-user-monitoring--session-replay) features: 100 for all, 0 for none.\n   * See [Configure Your Setup For Browser RUM and Browser RUM & Session Replay Sampling](https://docs.datadoghq.com/real_user_monitoring/guide/sampling-browser-plans) for further information.\n   */\n  sessionReplaySampleRate?: number | undefined\n  /**\n   * If the session is sampled for Session Replay, only start the recording when `startSessionReplayRecording()` is called, instead of at the beginning of the session. Default: if startSessionReplayRecording is 0, true; otherwise, false.\n   * See [Session Replay Usage](https://docs.datadoghq.com/real_user_monitoring/session_replay/browser/#usage) for further information.\n   */\n  startSessionReplayRecordingManually?: boolean | undefined\n\n  /**\n   * Enables privacy control for action names.\n   */\n  enablePrivacyForActionName?: boolean | undefined // TODO next major: remove this option and make privacy for action name the default behavior\n  /**\n   * Enables automatic collection of users actions.\n   * See [Tracking User Actions](https://docs.datadoghq.com/real_user_monitoring/browser/tracking_user_actions) for further information.\n   * @default true\n   */\n  trackUserInteractions?: boolean | undefined\n  /**\n   * Specify your own attribute to use to name actions.\n   * See [Declare a name for click actions](https://docs.datadoghq.com/real_user_monitoring/browser/tracking_user_actions/#declare-a-name-for-click-actions) for further information.\n   */\n  actionNameAttribute?: string | undefined\n\n  // view options\n  /**\n   * Allows you to control RUM views creation. See [Override default RUM view names](https://docs.datadoghq.com/real_user_monitoring/browser/advanced_configuration/?tab=npm#override-default-rum-view-names) for further information.\n   */\n  trackViewsManually?: boolean | undefined\n  /**\n   * Enables collection of resource events.\n   * @default true\n   */\n  trackResources?: boolean | undefined\n  /**\n   * Enables collection of long task events.\n   * @default true\n   */\n  trackLongTasks?: boolean | undefined\n\n  /**\n   * List of plugins to enable. The plugins API is unstable and experimental, and may change without\n   * notice. Please use only plugins provided by Datadog matching the version of the SDK you are\n   * using.\n   */\n  plugins?: RumPlugin[] | undefined\n\n  /**\n   * Enables collection of features flags in chosen events.\n   */\n  trackFeatureFlagsForEvents?: FeatureFlagsForEvents[]\n\n  /**\n   * @experimental Not ready for production.\n   * The percentage of users profiled. A value between 0 and 100.\n   * @default 0\n   */\n  profilingSampleRate?: number | undefined\n}\n\nexport type HybridInitConfiguration = Omit<RumInitConfiguration, 'applicationId' | 'clientToken'>\n\nexport type FeatureFlagsForEvents = 'vital' | 'action' | 'long_task' | 'resource'\n\nexport interface RumConfiguration extends Configuration {\n  // Built from init configuration\n  actionNameAttribute: string | undefined\n  traceSampleRate: number\n  rulePsr: number | undefined\n  allowedTracingUrls: TracingOption[]\n  excludedActivityUrls: MatchOption[]\n  workerUrl: string | undefined\n  compressIntakeRequests: boolean\n  applicationId: string\n  defaultPrivacyLevel: DefaultPrivacyLevel\n  enablePrivacyForActionName: boolean\n  sessionReplaySampleRate: number\n  startSessionReplayRecordingManually: boolean\n  trackUserInteractions: boolean\n  trackViewsManually: boolean\n  trackResources: boolean\n  trackLongTasks: boolean\n  version?: string\n  subdomain?: string\n  customerDataTelemetrySampleRate: number\n  traceContextInjection: TraceContextInjection\n  plugins: RumPlugin[]\n  trackFeatureFlagsForEvents: FeatureFlagsForEvents[]\n  profilingSampleRate: number\n}\n\nexport function validateAndBuildRumConfiguration(\n  initConfiguration: RumInitConfiguration\n): RumConfiguration | undefined {\n  if (\n    initConfiguration.trackFeatureFlagsForEvents !== undefined &&\n    !Array.isArray(initConfiguration.trackFeatureFlagsForEvents)\n  ) {\n    display.warn('trackFeatureFlagsForEvents should be an array')\n  }\n\n  if (!initConfiguration.applicationId) {\n    display.error('Application ID is not configured, no RUM data will be collected.')\n    return\n  }\n\n  if (\n    !isSampleRate(initConfiguration.sessionReplaySampleRate, 'Session Replay') ||\n    !isSampleRate(initConfiguration.traceSampleRate, 'Trace')\n  ) {\n    return\n  }\n\n  if (initConfiguration.excludedActivityUrls !== undefined && !Array.isArray(initConfiguration.excludedActivityUrls)) {\n    display.error('Excluded Activity Urls should be an array')\n    return\n  }\n\n  const allowedTracingUrls = validateAndBuildTracingOptions(initConfiguration)\n  if (!allowedTracingUrls) {\n    return\n  }\n\n  const baseConfiguration = validateAndBuildConfiguration(initConfiguration)\n  if (!baseConfiguration) {\n    return\n  }\n\n  const profilingEnabled = isExperimentalFeatureEnabled(ExperimentalFeature.PROFILING)\n\n  const sessionReplaySampleRate = initConfiguration.sessionReplaySampleRate ?? 0\n\n  return {\n    applicationId: initConfiguration.applicationId,\n    version: initConfiguration.version || undefined,\n    actionNameAttribute: initConfiguration.actionNameAttribute,\n    sessionReplaySampleRate,\n    startSessionReplayRecordingManually:\n      initConfiguration.startSessionReplayRecordingManually !== undefined\n        ? !!initConfiguration.startSessionReplayRecordingManually\n        : sessionReplaySampleRate === 0,\n    traceSampleRate: initConfiguration.traceSampleRate ?? 100,\n    rulePsr: isNumber(initConfiguration.traceSampleRate) ? initConfiguration.traceSampleRate / 100 : undefined,\n    allowedTracingUrls,\n    excludedActivityUrls: initConfiguration.excludedActivityUrls ?? [],\n    workerUrl: initConfiguration.workerUrl,\n    compressIntakeRequests: !!initConfiguration.compressIntakeRequests,\n    trackUserInteractions: !!(initConfiguration.trackUserInteractions ?? true),\n    trackViewsManually: !!initConfiguration.trackViewsManually,\n    trackResources: !!(initConfiguration.trackResources ?? true),\n    trackLongTasks: !!(initConfiguration.trackLongTasks ?? true),\n    subdomain: initConfiguration.subdomain,\n    defaultPrivacyLevel: objectHasValue(DefaultPrivacyLevel, initConfiguration.defaultPrivacyLevel)\n      ? initConfiguration.defaultPrivacyLevel\n      : DefaultPrivacyLevel.MASK,\n    enablePrivacyForActionName: !!initConfiguration.enablePrivacyForActionName,\n    customerDataTelemetrySampleRate: 1,\n    traceContextInjection: objectHasValue(TraceContextInjection, initConfiguration.traceContextInjection)\n      ? initConfiguration.traceContextInjection\n      : TraceContextInjection.SAMPLED,\n    plugins: initConfiguration.plugins || [],\n    trackFeatureFlagsForEvents: initConfiguration.trackFeatureFlagsForEvents || [],\n    profilingSampleRate: profilingEnabled ? (initConfiguration.profilingSampleRate ?? 0) : 0, // Enforce 0 if profiling is not enabled, and set 0 as default when not set.\n    ...baseConfiguration,\n  }\n}\n\n/**\n * Validates allowedTracingUrls and converts match options to tracing options\n */\nfunction validateAndBuildTracingOptions(initConfiguration: RumInitConfiguration): TracingOption[] | undefined {\n  if (initConfiguration.allowedTracingUrls === undefined) {\n    return []\n  }\n  if (!Array.isArray(initConfiguration.allowedTracingUrls)) {\n    display.error('Allowed Tracing URLs should be an array')\n    return\n  }\n  if (initConfiguration.allowedTracingUrls.length !== 0 && initConfiguration.service === undefined) {\n    display.error('Service needs to be configured when tracing is enabled')\n    return\n  }\n  // Convert from (MatchOption | TracingOption) to TracingOption, remove unknown properties\n  const tracingOptions: TracingOption[] = []\n  initConfiguration.allowedTracingUrls.forEach((option) => {\n    if (isMatchOption(option)) {\n      tracingOptions.push({ match: option, propagatorTypes: DEFAULT_PROPAGATOR_TYPES })\n    } else if (isTracingOption(option)) {\n      tracingOptions.push(option)\n    } else {\n      display.warn(\n        'Allowed Tracing Urls parameters should be a string, RegExp, function, or an object. Ignoring parameter',\n        option\n      )\n    }\n  })\n\n  return tracingOptions\n}\n\n/**\n * Combines the selected tracing propagators from the different options in allowedTracingUrls\n */\nfunction getSelectedTracingPropagators(configuration: RumInitConfiguration): PropagatorType[] {\n  const usedTracingPropagators = new Set<PropagatorType>()\n\n  if (Array.isArray(configuration.allowedTracingUrls) && configuration.allowedTracingUrls.length > 0) {\n    configuration.allowedTracingUrls.forEach((option) => {\n      if (isMatchOption(option)) {\n        DEFAULT_PROPAGATOR_TYPES.forEach((propagatorType) => usedTracingPropagators.add(propagatorType))\n      } else if (getType(option) === 'object' && Array.isArray(option.propagatorTypes)) {\n        // Ensure we have an array, as we cannot rely on types yet (configuration is provided by users)\n        option.propagatorTypes.forEach((propagatorType) => usedTracingPropagators.add(propagatorType))\n      }\n    })\n  }\n\n  return Array.from(usedTracingPropagators)\n}\n\nexport function serializeRumConfiguration(configuration: RumInitConfiguration) {\n  const baseSerializedConfiguration = serializeConfiguration(configuration)\n\n  return {\n    session_replay_sample_rate: configuration.sessionReplaySampleRate,\n    start_session_replay_recording_manually: configuration.startSessionReplayRecordingManually,\n    trace_sample_rate: configuration.traceSampleRate,\n    trace_context_injection: configuration.traceContextInjection,\n    action_name_attribute: configuration.actionNameAttribute,\n    use_allowed_tracing_urls:\n      Array.isArray(configuration.allowedTracingUrls) && configuration.allowedTracingUrls.length > 0,\n    selected_tracing_propagators: getSelectedTracingPropagators(configuration),\n    default_privacy_level: configuration.defaultPrivacyLevel,\n    enable_privacy_for_action_name: configuration.enablePrivacyForActionName,\n    use_excluded_activity_urls:\n      Array.isArray(configuration.excludedActivityUrls) && configuration.excludedActivityUrls.length > 0,\n    use_worker_url: !!configuration.workerUrl,\n    compress_intake_requests: configuration.compressIntakeRequests,\n    track_views_manually: configuration.trackViewsManually,\n    track_user_interactions: configuration.trackUserInteractions,\n    track_resources: configuration.trackResources,\n    track_long_task: configuration.trackLongTasks,\n    plugins: configuration.plugins?.map((plugin) => ({\n      name: plugin.name,\n      ...plugin.getConfigurationTelemetry?.(),\n    })),\n    track_feature_flags_for_events: configuration.trackFeatureFlagsForEvents,\n    ...baseSerializedConfiguration,\n  } satisfies RawTelemetryConfiguration\n}\n","import { display, addEventListener, buildEndpointHost } from '@datadog/browser-core'\nimport type { RumInitConfiguration } from './configuration'\n\nconst REMOTE_CONFIGURATION_VERSION = 'v1'\n\nexport function fetchAndApplyRemoteConfiguration(\n  initConfiguration: RumInitConfiguration,\n  callback: (initConfiguration: RumInitConfiguration) => void\n) {\n  fetchRemoteConfiguration(initConfiguration, (remoteInitConfiguration) => {\n    callback(applyRemoteConfiguration(initConfiguration, remoteInitConfiguration))\n  })\n}\n\nexport function applyRemoteConfiguration(\n  initConfiguration: RumInitConfiguration,\n  remoteInitConfiguration: Partial<RumInitConfiguration>\n) {\n  return { ...initConfiguration, ...remoteInitConfiguration }\n}\n\nexport function fetchRemoteConfiguration(\n  configuration: RumInitConfiguration,\n  callback: (remoteConfiguration: Partial<RumInitConfiguration>) => void\n) {\n  const xhr = new XMLHttpRequest()\n\n  addEventListener(configuration, xhr, 'load', function () {\n    if (xhr.status === 200) {\n      const remoteConfiguration = JSON.parse(xhr.responseText)\n      callback(remoteConfiguration.rum)\n    } else {\n      displayRemoteConfigurationFetchingError()\n    }\n  })\n\n  addEventListener(configuration, xhr, 'error', function () {\n    displayRemoteConfigurationFetchingError()\n  })\n\n  xhr.open('GET', buildEndpoint(configuration))\n  xhr.send()\n}\n\nexport function buildEndpoint(configuration: RumInitConfiguration) {\n  return `https://sdk-configuration.${buildEndpointHost('rum', configuration)}/${REMOTE_CONFIGURATION_VERSION}/${encodeURIComponent(configuration.remoteConfigurationId!)}.json`\n}\n\nfunction displayRemoteConfigurationFetchingError() {\n  display.error('Error fetching the remote configuration.')\n}\n","import {\n  createBoundedBuffer,\n  display,\n  canUseEventBridge,\n  displayAlreadyInitializedError,\n  willSyntheticsInjectRum,\n  noop,\n  timeStampNow,\n  clocksNow,\n  getEventBridge,\n  initFeatureFlags,\n  addTelemetryConfiguration,\n  initFetchObservable,\n} from '@datadog/browser-core'\nimport type { TrackingConsentState, DeflateWorker, Context } from '@datadog/browser-core'\nimport {\n  validateAndBuildRumConfiguration,\n  type RumConfiguration,\n  type RumInitConfiguration,\n} from '../domain/configuration'\nimport type { CommonContext } from '../domain/contexts/commonContext'\nimport type { ViewOptions } from '../domain/view/trackViews'\nimport type { DurationVital, CustomVitalsState } from '../domain/vital/vitalCollection'\nimport { startDurationVital, stopDurationVital } from '../domain/vital/vitalCollection'\nimport { fetchAndApplyRemoteConfiguration, serializeRumConfiguration } from '../domain/configuration'\nimport { callPluginsMethod } from '../domain/plugins'\nimport type { RumPublicApiOptions, Strategy } from './rumPublicApi'\nimport type { StartRumResult } from './startRum'\n\nexport function createPreStartStrategy(\n  { ignoreInitIfSyntheticsWillInjectRum, startDeflateWorker }: RumPublicApiOptions,\n  getCommonContext: () => CommonContext,\n  trackingConsentState: TrackingConsentState,\n  customVitalsState: CustomVitalsState,\n  doStartRum: (\n    configuration: RumConfiguration,\n    deflateWorker: DeflateWorker | undefined,\n    initialViewOptions?: ViewOptions\n  ) => StartRumResult\n): Strategy {\n  const bufferApiCalls = createBoundedBuffer<StartRumResult>()\n\n  let firstStartViewCall:\n    | { options: ViewOptions | undefined; callback: (startRumResult: StartRumResult) => void }\n    | undefined\n  let deflateWorker: DeflateWorker | undefined\n\n  let cachedInitConfiguration: RumInitConfiguration | undefined\n  let cachedConfiguration: RumConfiguration | undefined\n\n  const trackingConsentStateSubscription = trackingConsentState.observable.subscribe(tryStartRum)\n\n  const emptyContext: Context = {}\n\n  function tryStartRum() {\n    if (!cachedInitConfiguration || !cachedConfiguration || !trackingConsentState.isGranted()) {\n      return\n    }\n\n    trackingConsentStateSubscription.unsubscribe()\n\n    let initialViewOptions: ViewOptions | undefined\n\n    if (cachedConfiguration.trackViewsManually) {\n      if (!firstStartViewCall) {\n        return\n      }\n      // An initial view is always created when starting RUM.\n      // When tracking views automatically, any startView call before RUM start creates an extra\n      // view.\n      // When tracking views manually, we use the ViewOptions from the first startView call as the\n      // initial view options, and we remove the actual startView call so we don't create an extra\n      // view.\n      bufferApiCalls.remove(firstStartViewCall.callback)\n      initialViewOptions = firstStartViewCall.options\n    }\n\n    const startRumResult = doStartRum(cachedConfiguration, deflateWorker, initialViewOptions)\n\n    bufferApiCalls.drain(startRumResult)\n  }\n\n  function doInit(initConfiguration: RumInitConfiguration) {\n    const eventBridgeAvailable = canUseEventBridge()\n    if (eventBridgeAvailable) {\n      initConfiguration = overrideInitConfigurationForBridge(initConfiguration)\n    }\n\n    // Update the exposed initConfiguration to reflect the bridge and remote configuration overrides\n    cachedInitConfiguration = initConfiguration\n    addTelemetryConfiguration(serializeRumConfiguration(initConfiguration))\n\n    if (cachedConfiguration) {\n      displayAlreadyInitializedError('DD_RUM', initConfiguration)\n      return\n    }\n\n    const configuration = validateAndBuildRumConfiguration(initConfiguration)\n    if (!configuration) {\n      return\n    }\n\n    if (!eventBridgeAvailable && !configuration.sessionStoreStrategyType) {\n      display.warn('No storage available for session. We will not send any data.')\n      return\n    }\n\n    if (configuration.compressIntakeRequests && !eventBridgeAvailable && startDeflateWorker) {\n      deflateWorker = startDeflateWorker(\n        configuration,\n        'Datadog RUM',\n        // Worker initialization can fail asynchronously, especially in Firefox where even CSP\n        // issues are reported asynchronously. For now, the SDK will continue its execution even if\n        // data won't be sent to Datadog. We could improve this behavior in the future.\n        noop\n      )\n      if (!deflateWorker) {\n        // `startDeflateWorker` should have logged an error message explaining the issue\n        return\n      }\n    }\n\n    cachedConfiguration = configuration\n    // Instrumuent fetch to track network requests\n    // This is needed in case the consent is not granted and some cutsomer\n    // library (Apollo Client) is storing uninstrumented fetch to be used later\n    // The subscrption is needed so that the instrumentation process is completed\n    initFetchObservable().subscribe(noop)\n\n    trackingConsentState.tryToInit(configuration.trackingConsent)\n    tryStartRum()\n  }\n\n  const addDurationVital = (vital: DurationVital) => {\n    bufferApiCalls.add((startRumResult) => startRumResult.addDurationVital(vital))\n  }\n\n  const strategy: Strategy = {\n    init(initConfiguration, publicApi) {\n      if (!initConfiguration) {\n        display.error('Missing configuration')\n        return\n      }\n      // Set the experimental feature flags as early as possible, so we can use them in most places\n      initFeatureFlags(initConfiguration.enableExperimentalFeatures)\n\n      // Expose the initial configuration regardless of initialization success.\n      cachedInitConfiguration = initConfiguration\n\n      // If we are in a Synthetics test configured to automatically inject a RUM instance, we want\n      // to completely discard the customer application RUM instance by ignoring their init() call.\n      // But, we should not ignore the init() call from the Synthetics-injected RUM instance, so the\n      // internal `ignoreInitIfSyntheticsWillInjectRum` option is here to bypass this condition.\n      if (ignoreInitIfSyntheticsWillInjectRum && willSyntheticsInjectRum()) {\n        return\n      }\n\n      callPluginsMethod(initConfiguration.plugins, 'onInit', { initConfiguration, publicApi })\n\n      if (initConfiguration.remoteConfigurationId) {\n        fetchAndApplyRemoteConfiguration(initConfiguration, doInit)\n      } else {\n        doInit(initConfiguration)\n      }\n    },\n\n    get initConfiguration() {\n      return cachedInitConfiguration\n    },\n\n    getInternalContext: noop as () => undefined,\n\n    stopSession: noop,\n\n    addTiming(name, time = timeStampNow()) {\n      bufferApiCalls.add((startRumResult) => startRumResult.addTiming(name, time))\n    },\n\n    startView(options, startClocks = clocksNow()) {\n      const callback = (startRumResult: StartRumResult) => {\n        startRumResult.startView(options, startClocks)\n      }\n      bufferApiCalls.add(callback)\n\n      if (!firstStartViewCall) {\n        firstStartViewCall = { options, callback }\n        tryStartRum()\n      }\n    },\n\n    setViewName(name) {\n      bufferApiCalls.add((startRumResult) => startRumResult.setViewName(name))\n    },\n\n    setViewContext(context) {\n      bufferApiCalls.add((startRumResult) => startRumResult.setViewContext(context))\n    },\n\n    setViewContextProperty(key, value) {\n      bufferApiCalls.add((startRumResult) => startRumResult.setViewContextProperty(key, value))\n    },\n\n    getViewContext: () => emptyContext,\n\n    addAction(action, commonContext = getCommonContext()) {\n      bufferApiCalls.add((startRumResult) => startRumResult.addAction(action, commonContext))\n    },\n\n    addError(providedError, commonContext = getCommonContext()) {\n      bufferApiCalls.add((startRumResult) => startRumResult.addError(providedError, commonContext))\n    },\n\n    addFeatureFlagEvaluation(key, value) {\n      bufferApiCalls.add((startRumResult) => startRumResult.addFeatureFlagEvaluation(key, value))\n    },\n\n    startDurationVital(name, options) {\n      return startDurationVital(customVitalsState, name, options)\n    },\n\n    stopDurationVital(name, options) {\n      stopDurationVital(addDurationVital, customVitalsState, name, options)\n    },\n\n    addDurationVital,\n  }\n\n  return strategy\n}\n\nfunction overrideInitConfigurationForBridge(initConfiguration: RumInitConfiguration): RumInitConfiguration {\n  return {\n    ...initConfiguration,\n    applicationId: '00000000-aaaa-0000-aaaa-000000000000',\n    clientToken: 'empty',\n    sessionSampleRate: 100,\n    defaultPrivacyLevel: initConfiguration.defaultPrivacyLevel ?? getEventBridge()?.getPrivacyLevel(),\n  }\n}\n","import type {\n  Context,\n  TimeStamp,\n  RelativeTime,\n  User,\n  Account,\n  DeflateWorker,\n  DeflateEncoderStreamId,\n  DeflateEncoder,\n  TrackingConsent,\n  PublicApi,\n  Duration,\n} from '@datadog/browser-core'\nimport {\n  addTelemetryUsage,\n  CustomerDataType,\n  createContextManager,\n  deepClone,\n  makePublicApi,\n  monitor,\n  clocksNow,\n  callMonitored,\n  createHandlingStack,\n  sanitize,\n  createIdentityEncoder,\n  CustomerDataCompressionStatus,\n  createCustomerDataTrackerManager,\n  storeContextManager,\n  displayAlreadyInitializedError,\n  createTrackingConsentState,\n  timeStampToClocks,\n} from '@datadog/browser-core'\nimport type { LifeCycle } from '../domain/lifeCycle'\nimport type { ViewHistory } from '../domain/contexts/viewHistory'\nimport type { RumSessionManager } from '../domain/rumSessionManager'\nimport type { ReplayStats } from '../rawRumEvent.types'\nimport { ActionType, VitalType } from '../rawRumEvent.types'\nimport type { RumConfiguration, RumInitConfiguration } from '../domain/configuration'\nimport type { ViewOptions } from '../domain/view/trackViews'\nimport { buildCommonContext } from '../domain/contexts/commonContext'\nimport type { InternalContext } from '../domain/contexts/internalContext'\nimport type { DurationVitalReference } from '../domain/vital/vitalCollection'\nimport { createCustomVitalsState } from '../domain/vital/vitalCollection'\nimport { callPluginsMethod } from '../domain/plugins'\nimport { createPreStartStrategy } from './preStartRum'\nimport type { StartRum, StartRumResult } from './startRum'\n\nexport interface StartRecordingOptions {\n  force: boolean\n}\nexport interface RumPublicApi extends PublicApi {\n  /**\n   * Init the RUM browser SDK.\n   * @param initConfiguration Configuration options of the SDK\n   *\n   * See [RUM Browser Monitoring Setup](https://docs.datadoghq.com/real_user_monitoring/browser) for further information.\n   */\n  init: (initConfiguration: RumInitConfiguration) => void\n\n  /**\n   * Set the tracking consent of the current user.\n   *\n   * @param {\"granted\" | \"not-granted\"} trackingConsent The user tracking consent\n   *\n   * Data will be sent only if it is set to \"granted\". This value won't be stored by the library\n   * across page loads: you will need to call this method or set the appropriate `trackingConsent`\n   * field in the init() method at each page load.\n   *\n   * If this method is called before the init() method, the provided value will take precedence\n   * over the one provided as initialization parameter.\n   *\n   * See [User tracking consent](https://docs.datadoghq.com/real_user_monitoring/browser/advanced_configuration/#user-tracking-consent) for further information.\n   */\n  setTrackingConsent: (trackingConsent: TrackingConsent) => void\n\n  /**\n   * Set View Name.\n   *\n   * Enable to manually change the name of the current view.\n   * @param name name of the view\n   * See [Override default RUM view names](https://docs.datadoghq.com/real_user_monitoring/browser/advanced_configuration/#override-default-rum-view-names) for further information.\n   */\n  setViewName: (name: string) => void\n\n  /**\n   * Set View Context.\n   *\n   * Enable to manually set the context of the current view.\n   * @param context context of the view\n   */\n  setViewContext: (context: Context) => void\n  /**\n   * Set View Context Property.\n   *\n   * Enable to manually set a property of the context of the current view.\n   * @param key key of the property\n   * @param value value of the property\n   */\n  setViewContextProperty: (key: string, value: any) => void\n\n  /**\n   * Get View Context.\n   */\n  getViewContext: () => Context\n\n  /**\n   * Set the global context information to all events, stored in `@context`\n   *\n   * @param context Global context\n   *\n   * See [Global context](https://docs.datadoghq.com/real_user_monitoring/browser/advanced_configuration/#global-context) for further information.\n   */\n  setGlobalContext: (context: any) => void\n\n  /**\n   * Get the global Context\n   *\n   * See [Global context](https://docs.datadoghq.com/real_user_monitoring/browser/advanced_configuration/#global-context) for further information.\n   */\n  getGlobalContext: () => Context\n\n  /**\n   * Set or update a global context property, stored in `@context.<key>`\n   *\n   * @param key Key of the property\n   * @param property Value of the property\n   *\n   * See [Global context](https://docs.datadoghq.com/real_user_monitoring/browser/advanced_configuration/#global-context) for further information.\n   */\n  setGlobalContextProperty: (key: any, value: any) => void\n\n  /**\n   * Remove a global context property\n   *\n   * See [Global context](https://docs.datadoghq.com/real_user_monitoring/browser/advanced_configuration/#global-context) for further information.\n   */\n  removeGlobalContextProperty: (key: any) => void\n\n  /**\n   * Clear the global context\n   *\n   * See [Global context](https://docs.datadoghq.com/real_user_monitoring/browser/advanced_configuration/#global-context) for further information.\n   */\n  clearGlobalContext: () => void\n\n  /**\n   * [Internal API] Get the internal SDK context\n   */\n  getInternalContext: (startTime?: number) => InternalContext | undefined\n\n  /**\n   * Get the init configuration\n   */\n  getInitConfiguration: () => RumInitConfiguration | undefined\n\n  /**\n   * Add a custom action, stored in `@action`\n   * @param name Name of the action\n   * @param context Context of the action\n   *\n   * See [Send RUM Custom Actions](https://docs.datadoghq.com/real_user_monitoring/guide/send-rum-custom-actions) for further information.\n   */\n  addAction: (name: string, context?: object) => void\n\n  /**\n   * Add a custom error, stored in `@error`.\n   * @param error Error. Favor sending a [Javascript Error](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error) to have a stack trace attached to the error event.\n   * @param context Context of the error\n   *\n   * See [Send RUM Custom Actions](https://docs.datadoghq.com/real_user_monitoring/guide/send-rum-custom-actions) for further information.\n   */\n  addError: (error: unknown, context?: object) => void\n\n  /**\n   * Add a custom timing relative to the start of the current view,\n   * stored in `@view.custom_timings.<timing_name>`\n   *\n   * @param name Name of the custom timing\n   * @param [time] Epoch timestamp of the custom timing (if not set, will use current time)\n   *\n   * Note: passing a relative time is discouraged since it is actually used as-is but displayed relative to the view start.\n   * We currently don't provide a way to retrieve the view start time, so it can be challenging to provide a timing relative to the view start.\n   * see https://github.com/DataDog/browser-sdk/issues/2552\n   */\n  addTiming: (name: string, time?: number) => void\n\n  /**\n   * Set user information to all events, stored in `@usr`\n   *\n   * See [User session](https://docs.datadoghq.com/real_user_monitoring/browser/advanced_configuration/#user-session) for further information.\n   */\n  setUser(newUser: User & { id: string }): void\n\n  /**\n   * Set user information to all events, stored in `@usr`\n   *\n   * @deprecated You must specify a user id\n   * @see {@link setUser}\n   */\n  setUser(newUser: User): void\n  /**\n   * Get user information\n   *\n   * See [User session](https://docs.datadoghq.com/real_user_monitoring/browser/advanced_configuration/#user-session) for further information.\n   */\n  getUser: () => Context\n\n  /**\n   * Set or update the user property, stored in `@usr.<key>`\n   *\n   * @param key Key of the property\n   * @param property Value of the property\n   *\n   * See [User session](https://docs.datadoghq.com/real_user_monitoring/browser/advanced_configuration/#user-session) for further information.\n   */\n  setUserProperty: (key: any, property: any) => void\n\n  /**\n   * Remove a user property\n   *\n   * See [User session](https://docs.datadoghq.com/real_user_monitoring/browser/advanced_configuration/#user-session) for further information.\n   */\n  removeUserProperty: (key: any) => void\n\n  /**\n   * Clear all user information\n   *\n   * See [User session](https://docs.datadoghq.com/real_user_monitoring/browser/advanced_configuration/#user-session) for further information.\n   */\n  clearUser: () => void\n\n  /**\n   * Set account information to all events, stored in `@account`\n   */\n  setAccount: (newAccount: Account) => void\n\n  /**\n   * Get account information\n   */\n  getAccount: () => Context\n\n  /**\n   * Set or update the account property, stored in `@account.<key>`\n   *\n   * @param key Key of the property\n   * @param property Value of the property\n   */\n  setAccountProperty: (key: string, property: any) => void\n\n  /**\n   * Remove an account property\n   */\n  removeAccountProperty: (key: string) => void\n\n  /**\n   * Clear all account information\n   */\n  clearAccount: () => void\n\n  /**\n   * Start a view manually.\n   * Enable to manual start a view, use `trackViewsManually: true` init parameter and call `startView()` to create RUM views and be aligned with how youve defined them in your SPA application routing.\n   *\n   * @param options.name name of the view\n   * @param options.service service of the view\n   * @param options.version version of the view\n   *\n   * See [Override default RUM view names](https://docs.datadoghq.com/real_user_monitoring/browser/advanced_configuration/#override-default-rum-view-names) for further information.\n   */\n  startView: {\n    (name?: string): void\n    (options: ViewOptions): void\n  }\n\n  /**\n   * Stop the session. A new session will start at the next user interaction with the page.\n   */\n  stopSession: () => void\n\n  /**\n   * Add a feature flag evaluation,\n   * stored in `@feature_flags.<feature_flag_key>`\n   *\n   * @param {string} key The key of the feature flag.\n   * @param {any} value The value of the feature flag.\n   *\n   * We recommend enabling the intake request compression when using feature flags `compressIntakeRequests: true`.\n   *\n   * See [Feature Flag Tracking](https://docs.datadoghq.com/real_user_monitoring/feature_flag_tracking/) for further information.\n   */\n  addFeatureFlagEvaluation: (key: string, value: any) => void\n\n  /**\n   * Get the Session Replay Link.\n   *\n   * See [Connect Session Replay To Your Third-Party Tools](https://docs.datadoghq.com/real_user_monitoring/guide/connect-session-replay-to-your-third-party-tools) for further information.\n   */\n  getSessionReplayLink: () => string | undefined\n\n  /**\n   * Start Session Replay recording.\n   * Enable to conditionally start the recording, use the `startSessionReplayRecordingManually:true` init parameter and call `startSessionReplayRecording()`\n   *\n   * See [Browser Session Replay](https://docs.datadoghq.com/real_user_monitoring/session_replay/browser) for further information.\n   */\n  startSessionReplayRecording: (options?: StartRecordingOptions) => void\n\n  /**\n   * Stop Session Replay recording.\n   *\n   * See [Browser Session Replay](https://docs.datadoghq.com/real_user_monitoring/session_replay/browser) for further information.\n   */\n  stopSessionReplayRecording: () => void\n\n  /**\n   * Add a custom duration vital\n   *\n   * @param name name of the custom vital\n   * @param options.startTime epoch timestamp of the start of the custom vital\n   * @param options.duration duration of the custom vital in millisecond\n   * @param options.context custom context attached to the vital\n   * @param options.description  Description of the vital\n   */\n  addDurationVital: (\n    name: string,\n    options: { startTime: number; duration: number; context?: object; description?: string }\n  ) => void\n\n  /**\n   * Start a custom duration vital.\n   *\n   * If you plan to have multiple durations for the same vital, you should use the reference returned by this method.\n   *\n   * @param name name of the custom vital\n   * @param options.context custom context attached to the vital\n   * @param options.description Description of the vital\n   * @returns reference to the custom vital\n   */\n  startDurationVital: (name: string, options?: { context?: object; description?: string }) => DurationVitalReference\n\n  /**\n   * Stop a custom duration vital\n   *\n   * @param nameOrRef name of the custom vital or the reference to it\n   * @param options.context custom context attached to the vital\n   * @param options.description Description of the vital\n   */\n  stopDurationVital: (\n    nameOrRef: string | DurationVitalReference,\n    options?: { context?: object; description?: string }\n  ) => void\n}\n\nexport interface RecorderApi {\n  start: (options?: StartRecordingOptions) => void\n  stop: () => void\n  onRumStart: (\n    lifeCycle: LifeCycle,\n    configuration: RumConfiguration,\n    sessionManager: RumSessionManager,\n    viewHistory: ViewHistory,\n    deflateWorker: DeflateWorker | undefined\n  ) => void\n  isRecording: () => boolean\n  getReplayStats: (viewId: string) => ReplayStats | undefined\n  getSessionReplayLink: () => string | undefined\n}\n\nexport interface ProfilerApi {\n  stop: () => void\n  onRumStart: (\n    lifeCycle: LifeCycle,\n    configuration: RumConfiguration,\n    sessionManager: RumSessionManager,\n    viewHistory: ViewHistory\n  ) => void\n}\n\nexport interface RumPublicApiOptions {\n  ignoreInitIfSyntheticsWillInjectRum?: boolean\n  startDeflateWorker?: (\n    configuration: RumConfiguration,\n    source: string,\n    onInitializationFailure: () => void\n  ) => DeflateWorker | undefined\n  createDeflateEncoder?: (\n    configuration: RumConfiguration,\n    worker: DeflateWorker,\n    streamId: DeflateEncoderStreamId\n  ) => DeflateEncoder\n}\n\nconst RUM_STORAGE_KEY = 'rum'\n\nexport interface Strategy {\n  init: (initConfiguration: RumInitConfiguration, publicApi: RumPublicApi) => void\n  initConfiguration: RumInitConfiguration | undefined\n  getInternalContext: StartRumResult['getInternalContext']\n  stopSession: StartRumResult['stopSession']\n  addTiming: StartRumResult['addTiming']\n  startView: StartRumResult['startView']\n  setViewName: StartRumResult['setViewName']\n  setViewContext: StartRumResult['setViewContext']\n  setViewContextProperty: StartRumResult['setViewContextProperty']\n  getViewContext: StartRumResult['getViewContext']\n  addAction: StartRumResult['addAction']\n  addError: StartRumResult['addError']\n  addFeatureFlagEvaluation: StartRumResult['addFeatureFlagEvaluation']\n  startDurationVital: StartRumResult['startDurationVital']\n  stopDurationVital: StartRumResult['stopDurationVital']\n  addDurationVital: StartRumResult['addDurationVital']\n}\n\nexport function makeRumPublicApi(\n  startRumImpl: StartRum,\n  recorderApi: RecorderApi,\n  profilerApi: ProfilerApi,\n  options: RumPublicApiOptions = {}\n): RumPublicApi {\n  const customerDataTrackerManager = createCustomerDataTrackerManager(CustomerDataCompressionStatus.Unknown)\n  const globalContextManager = createContextManager('global context', {\n    customerDataTracker: customerDataTrackerManager.getOrCreateTracker(CustomerDataType.GlobalContext),\n  })\n  const userContextManager = createContextManager('user', {\n    customerDataTracker: customerDataTrackerManager.getOrCreateTracker(CustomerDataType.User),\n    propertiesConfig: {\n      id: { type: 'string' },\n      name: { type: 'string' },\n      email: { type: 'string' },\n    },\n  })\n  const accountContextManager = createContextManager('account', {\n    customerDataTracker: customerDataTrackerManager.getOrCreateTracker(CustomerDataType.Account),\n    propertiesConfig: {\n      id: { type: 'string', required: true },\n      name: { type: 'string' },\n    },\n  })\n  const trackingConsentState = createTrackingConsentState()\n  const customVitalsState = createCustomVitalsState()\n\n  function getCommonContext() {\n    return buildCommonContext(globalContextManager, userContextManager, accountContextManager, recorderApi)\n  }\n\n  let strategy = createPreStartStrategy(\n    options,\n    getCommonContext,\n    trackingConsentState,\n    customVitalsState,\n    (configuration, deflateWorker, initialViewOptions) => {\n      if (configuration.storeContextsAcrossPages) {\n        storeContextManager(configuration, globalContextManager, RUM_STORAGE_KEY, CustomerDataType.GlobalContext)\n        storeContextManager(configuration, userContextManager, RUM_STORAGE_KEY, CustomerDataType.User)\n        storeContextManager(configuration, accountContextManager, RUM_STORAGE_KEY, CustomerDataType.Account)\n      }\n\n      customerDataTrackerManager.setCompressionStatus(\n        deflateWorker ? CustomerDataCompressionStatus.Enabled : CustomerDataCompressionStatus.Disabled\n      )\n\n      const startRumResult = startRumImpl(\n        configuration,\n        recorderApi,\n        profilerApi,\n        customerDataTrackerManager,\n        getCommonContext,\n        initialViewOptions,\n        deflateWorker && options.createDeflateEncoder\n          ? (streamId) => options.createDeflateEncoder!(configuration, deflateWorker, streamId)\n          : createIdentityEncoder,\n        trackingConsentState,\n        customVitalsState\n      )\n\n      recorderApi.onRumStart(\n        startRumResult.lifeCycle,\n        configuration,\n        startRumResult.session,\n        startRumResult.viewHistory,\n        deflateWorker\n      )\n\n      profilerApi.onRumStart(\n        startRumResult.lifeCycle,\n        configuration,\n        startRumResult.session,\n        startRumResult.viewHistory\n      )\n\n      strategy = createPostStartStrategy(strategy, startRumResult)\n\n      callPluginsMethod(configuration.plugins, 'onRumStart', { strategy })\n\n      return startRumResult\n    }\n  )\n\n  const startView: {\n    (name?: string): void\n    (options: ViewOptions): void\n  } = monitor((options?: string | ViewOptions) => {\n    const sanitizedOptions = typeof options === 'object' ? options : { name: options }\n    if (sanitizedOptions.context) {\n      customerDataTrackerManager.getOrCreateTracker(CustomerDataType.View).updateCustomerData(sanitizedOptions.context)\n    }\n    strategy.startView(sanitizedOptions)\n    addTelemetryUsage({ feature: 'start-view' })\n  })\n\n  const rumPublicApi: RumPublicApi = makePublicApi<RumPublicApi>({\n    init: monitor((initConfiguration) => {\n      strategy.init(initConfiguration, rumPublicApi)\n    }),\n\n    setTrackingConsent: monitor((trackingConsent) => {\n      trackingConsentState.update(trackingConsent)\n      addTelemetryUsage({ feature: 'set-tracking-consent', tracking_consent: trackingConsent })\n    }),\n\n    setViewName: monitor((name: string) => {\n      strategy.setViewName(name)\n      addTelemetryUsage({ feature: 'set-view-name' })\n    }),\n\n    setViewContext: monitor((context: Context) => {\n      strategy.setViewContext(context)\n      addTelemetryUsage({ feature: 'set-view-context' })\n    }),\n\n    setViewContextProperty: monitor((key: string, value: any) => {\n      strategy.setViewContextProperty(key, value)\n      addTelemetryUsage({ feature: 'set-view-context-property' })\n    }),\n\n    getViewContext: monitor(() => {\n      addTelemetryUsage({ feature: 'set-view-context-property' })\n      return strategy.getViewContext()\n    }),\n\n    setGlobalContext: monitor((context) => {\n      globalContextManager.setContext(context)\n      addTelemetryUsage({ feature: 'set-global-context' })\n    }),\n\n    getGlobalContext: monitor(() => globalContextManager.getContext()),\n\n    setGlobalContextProperty: monitor((key, value) => {\n      globalContextManager.setContextProperty(key, value)\n      addTelemetryUsage({ feature: 'set-global-context' })\n    }),\n\n    removeGlobalContextProperty: monitor((key) => globalContextManager.removeContextProperty(key)),\n\n    clearGlobalContext: monitor(() => globalContextManager.clearContext()),\n\n    getInternalContext: monitor((startTime) => strategy.getInternalContext(startTime)),\n\n    getInitConfiguration: monitor(() => deepClone(strategy.initConfiguration)),\n\n    addAction: (name, context) => {\n      const handlingStack = createHandlingStack('action')\n\n      callMonitored(() => {\n        strategy.addAction({\n          name: sanitize(name)!,\n          context: sanitize(context) as Context,\n          startClocks: clocksNow(),\n          type: ActionType.CUSTOM,\n          handlingStack,\n        })\n        addTelemetryUsage({ feature: 'add-action' })\n      })\n    },\n\n    addError: (error, context) => {\n      const handlingStack = createHandlingStack('error')\n      callMonitored(() => {\n        strategy.addError({\n          error, // Do not sanitize error here, it is needed unserialized by computeRawError()\n          handlingStack,\n          context: sanitize(context) as Context,\n          startClocks: clocksNow(),\n        })\n        addTelemetryUsage({ feature: 'add-error' })\n      })\n    },\n\n    addTiming: monitor((name, time) => {\n      // TODO: next major decide to drop relative time support or update its behaviour\n      strategy.addTiming(sanitize(name)!, time as RelativeTime | TimeStamp | undefined)\n    }),\n\n    setUser: monitor((newUser) => {\n      userContextManager.setContext(newUser)\n      addTelemetryUsage({ feature: 'set-user' })\n    }),\n\n    getUser: monitor(userContextManager.getContext),\n\n    setUserProperty: monitor((key, property) => {\n      userContextManager.setContextProperty(key, property)\n      addTelemetryUsage({ feature: 'set-user' })\n    }),\n\n    removeUserProperty: monitor(userContextManager.removeContextProperty),\n\n    clearUser: monitor(userContextManager.clearContext),\n\n    setAccount: monitor(accountContextManager.setContext),\n\n    getAccount: monitor(accountContextManager.getContext),\n\n    setAccountProperty: monitor(accountContextManager.setContextProperty),\n\n    removeAccountProperty: monitor(accountContextManager.removeContextProperty),\n\n    clearAccount: monitor(accountContextManager.clearContext),\n\n    startView,\n\n    stopSession: monitor(() => {\n      strategy.stopSession()\n      addTelemetryUsage({ feature: 'stop-session' })\n    }),\n\n    addFeatureFlagEvaluation: monitor((key, value) => {\n      strategy.addFeatureFlagEvaluation(sanitize(key)!, sanitize(value))\n      addTelemetryUsage({ feature: 'add-feature-flag-evaluation' })\n    }),\n\n    getSessionReplayLink: monitor(() => recorderApi.getSessionReplayLink()),\n    startSessionReplayRecording: monitor((options?: StartRecordingOptions) => {\n      recorderApi.start(options)\n      addTelemetryUsage({ feature: 'start-session-replay-recording', force: options && options.force })\n    }),\n\n    stopSessionReplayRecording: monitor(() => recorderApi.stop()),\n\n    addDurationVital: monitor((name, options) => {\n      addTelemetryUsage({ feature: 'add-duration-vital' })\n      strategy.addDurationVital({\n        name: sanitize(name)!,\n        type: VitalType.DURATION,\n        startClocks: timeStampToClocks(options.startTime as TimeStamp),\n        duration: options.duration as Duration,\n        context: sanitize(options && options.context) as Context,\n        description: sanitize(options && options.description) as string | undefined,\n      })\n    }),\n\n    startDurationVital: monitor((name, options) => {\n      addTelemetryUsage({ feature: 'start-duration-vital' })\n      return strategy.startDurationVital(sanitize(name)!, {\n        context: sanitize(options && options.context) as Context,\n        description: sanitize(options && options.description) as string | undefined,\n      })\n    }),\n\n    stopDurationVital: monitor((nameOrRef, options) => {\n      addTelemetryUsage({ feature: 'stop-duration-vital' })\n      strategy.stopDurationVital(typeof nameOrRef === 'string' ? sanitize(nameOrRef)! : nameOrRef, {\n        context: sanitize(options && options.context) as Context,\n        description: sanitize(options && options.description) as string | undefined,\n      })\n    }),\n  })\n\n  return rumPublicApi\n}\n\nfunction createPostStartStrategy(preStartStrategy: Strategy, startRumResult: StartRumResult): Strategy {\n  return {\n    init: (initConfiguration: RumInitConfiguration) => {\n      displayAlreadyInitializedError('DD_RUM', initConfiguration)\n    },\n    initConfiguration: preStartStrategy.initConfiguration,\n    ...startRumResult,\n  }\n}\n","import type { Context, ContextManager, User } from '@datadog/browser-core'\nimport type { RecorderApi } from '../../boot/rumPublicApi'\n\nexport interface CommonContext {\n  user: User\n  // We don't want to enforce id internally so use Context as internal type\n  account: Context\n  context: Context\n  hasReplay: true | undefined\n}\n\nexport function buildCommonContext(\n  globalContextManager: ContextManager,\n  userContextManager: ContextManager,\n  accountContextManager: ContextManager,\n  recorderApi: RecorderApi\n): CommonContext {\n  return {\n    context: globalContextManager.getContext(),\n    user: userContextManager.getContext(),\n    account: accountContextManager.getContext(),\n    hasReplay: recorderApi.isRecording() ? true : undefined,\n  }\n}\n","import { monitor, noop, Observable, getZoneJsOriginalValue } from '@datadog/browser-core'\n\nexport function createDOMMutationObservable() {\n  const MutationObserver = getMutationObserverConstructor()\n\n  return new Observable<void>((observable) => {\n    if (!MutationObserver) {\n      return\n    }\n    const observer = new MutationObserver(monitor(() => observable.notify()))\n    observer.observe(document, {\n      attributes: true,\n      characterData: true,\n      childList: true,\n      subtree: true,\n    })\n    return () => observer.disconnect()\n  })\n}\n\ntype MutationObserverConstructor = new (callback: MutationCallback) => MutationObserver\n\nexport interface BrowserWindow extends Window {\n  MutationObserver?: MutationObserverConstructor\n  Zone?: unknown\n}\n\nexport function getMutationObserverConstructor(): MutationObserverConstructor | undefined {\n  let constructor: MutationObserverConstructor | undefined\n  const browserWindow: BrowserWindow = window\n\n  // Angular uses Zone.js to provide a context persisting across async tasks.  Zone.js replaces the\n  // global MutationObserver constructor with a patched version to support the context propagation.\n  // There is an ongoing issue[1][2] with this setup when using a MutationObserver within a Angular\n  // component: on some occasions, the callback is being called in an infinite loop, causing the\n  // page to freeze (even if the callback is completely empty).\n  //\n  // To work around this issue, we try to get the original MutationObserver constructor stored by\n  // Zone.js.\n  //\n  // [1] https://github.com/angular/angular/issues/26948\n  // [2] https://github.com/angular/angular/issues/31712\n  if (browserWindow.Zone) {\n    // Zone.js 0.8.6+ is storing original class constructors into the browser 'window' object[3].\n    //\n    // [3] https://github.com/angular/angular/blob/6375fa79875c0fe7b815efc45940a6e6f5c9c9eb/packages/zone.js/lib/common/utils.ts#L288\n    constructor = getZoneJsOriginalValue(browserWindow, 'MutationObserver')\n\n    if (browserWindow.MutationObserver && constructor === browserWindow.MutationObserver) {\n      // Anterior Zone.js versions (used in Angular 2) does not expose the original MutationObserver\n      // in the 'window' object. Luckily, the patched MutationObserver class is storing an original\n      // instance in its properties[4]. Let's get the original MutationObserver constructor from\n      // there.\n      //\n      // [4] https://github.com/angular/zone.js/blob/v0.8.5/lib/common/utils.ts#L412\n\n      const patchedInstance = new browserWindow.MutationObserver(noop) as {\n        originalInstance?: { constructor: MutationObserverConstructor }\n      }\n\n      const originalInstance = getZoneJsOriginalValue(patchedInstance, 'originalInstance')\n      constructor = originalInstance && originalInstance.constructor\n    }\n  }\n\n  if (!constructor) {\n    constructor = browserWindow.MutationObserver\n  }\n\n  return constructor\n}\n","import { setTimeout } from '../../tools/timer'\nimport { clocksNow, ONE_MINUTE } from '../../tools/utils/timeUtils'\nimport type { RawError } from '../error/error.types'\nimport { ErrorSource } from '../error/error.types'\n\nexport type EventRateLimiter = ReturnType<typeof createEventRateLimiter>\n\nexport function createEventRateLimiter(\n  eventType: string,\n  limit: number,\n  onLimitReached: (limitError: RawError) => void\n) {\n  let eventCount = 0\n  let allowNextEvent = false\n\n  return {\n    isLimitReached() {\n      if (eventCount === 0) {\n        setTimeout(() => {\n          eventCount = 0\n        }, ONE_MINUTE)\n      }\n\n      eventCount += 1\n      if (eventCount <= limit || allowNextEvent) {\n        allowNextEvent = false\n        return false\n      }\n\n      if (eventCount === limit + 1) {\n        allowNextEvent = true\n        try {\n          onLimitReached({\n            message: `Reached max number of ${eventType}s by minute: ${limit}`,\n            source: ErrorSource.AGENT,\n            startClocks: clocksNow(),\n          })\n        } finally {\n          allowNextEvent = false\n        }\n      }\n\n      return true\n    },\n  }\n}\n","import { sanitize, deepClone, getType, objectEntries } from '@datadog/browser-core'\nimport type { Context } from '@datadog/browser-core'\n\nexport type ModifiableFieldPaths = Record<string, 'string' | 'object'>\n\n/**\n * Allows declaring and enforcing modifications to specific fields of an object.\n * Only supports modifying properties of an object (even if nested in an array).\n * Does not support array manipulation (adding/removing items).\n */\nexport function limitModification<T extends Context, Result>(\n  object: T,\n  modifiableFieldPaths: ModifiableFieldPaths,\n  modifier: (object: T) => Result\n): Result | undefined {\n  const clone = deepClone(object)\n  const result = modifier(clone)\n\n  objectEntries(modifiableFieldPaths).forEach(([fieldPath, fieldType]) =>\n    // Traverse both object and clone simultaneously up to the path and apply the modification from the clone to the original object when the type is valid\n    setValueAtPath(object, clone, fieldPath.split(/\\.|(?=\\[\\])/), fieldType)\n  )\n\n  return result\n}\n\nfunction setValueAtPath(object: unknown, clone: unknown, pathSegments: string[], fieldType: 'string' | 'object') {\n  const [field, ...restPathSegments] = pathSegments\n\n  if (field === '[]') {\n    if (Array.isArray(object) && Array.isArray(clone)) {\n      object.forEach((item, i) => setValueAtPath(item, clone[i], restPathSegments, fieldType))\n    }\n\n    return\n  }\n\n  if (!isValidObject(object) || !isValidObject(clone)) {\n    return\n  }\n\n  if (restPathSegments.length > 0) {\n    return setValueAtPath(object[field], clone[field], restPathSegments, fieldType)\n  }\n\n  setNestedValue(object, field, clone[field], fieldType)\n}\n\nfunction setNestedValue(\n  object: Record<string, unknown>,\n  field: string,\n  value: unknown,\n  fieldType: 'string' | 'object'\n) {\n  const newType = getType(value)\n\n  if (newType === fieldType) {\n    object[field] = sanitize(value)\n  } else if (fieldType === 'object' && (newType === 'undefined' || newType === 'null')) {\n    object[field] = {}\n  }\n}\n\nfunction isValidObject(object: unknown): object is Record<string, unknown> {\n  return getType(object) === 'object'\n}\n","import type { Context, RawError, EventRateLimiter, User, Account } from '@datadog/browser-core'\nimport {\n  combine,\n  isEmptyObject,\n  timeStampNow,\n  currentDrift,\n  display,\n  createEventRateLimiter,\n  canUseEventBridge,\n  round,\n  isExperimentalFeatureEnabled,\n  ExperimentalFeature,\n  getConnectivity,\n  addTelemetryDebug,\n} from '@datadog/browser-core'\nimport type { RumEventDomainContext } from '../domainContext.types'\nimport { RumEventType } from '../rawRumEvent.types'\nimport type { CommonProperties, RumEvent } from '../rumEvent.types'\nimport type { Hooks } from '../hooks'\nimport { HookNames } from '../hooks'\nimport type { LifeCycle } from './lifeCycle'\nimport { LifeCycleEventType } from './lifeCycle'\nimport type { ViewHistory } from './contexts/viewHistory'\nimport { SessionReplayState, SessionType, type RumSessionManager } from './rumSessionManager'\nimport type { RumConfiguration } from './configuration'\nimport type { DisplayContext } from './contexts/displayContext'\nimport type { CommonContext } from './contexts/commonContext'\nimport type { ModifiableFieldPaths } from './limitModification'\nimport { limitModification } from './limitModification'\nimport type { UrlContexts } from './contexts/urlContexts'\n\n// replaced at build time\ndeclare const __BUILD_ENV__SDK_VERSION__: string\n\nconst VIEW_MODIFIABLE_FIELD_PATHS: ModifiableFieldPaths = {\n  'view.name': 'string',\n  'view.url': 'string',\n  'view.referrer': 'string',\n}\n\nconst USER_CUSTOMIZABLE_FIELD_PATHS: ModifiableFieldPaths = {\n  context: 'object',\n}\n\nconst ROOT_MODIFIABLE_FIELD_PATHS: ModifiableFieldPaths = {\n  service: 'string',\n  version: 'string',\n}\n\nlet modifiableFieldPathsByEvent: { [key in RumEventType]: ModifiableFieldPaths }\n\ntype Mutable<T> = { -readonly [P in keyof T]: T[P] }\n\nexport function startRumAssembly(\n  configuration: RumConfiguration,\n  lifeCycle: LifeCycle,\n  hooks: Hooks,\n  sessionManager: RumSessionManager,\n  viewHistory: ViewHistory,\n  urlContexts: UrlContexts,\n  displayContext: DisplayContext,\n  getCommonContext: () => CommonContext,\n  reportError: (error: RawError) => void\n) {\n  modifiableFieldPathsByEvent = {\n    [RumEventType.VIEW]: {\n      'view.performance.lcp.resource_url': 'string',\n      ...USER_CUSTOMIZABLE_FIELD_PATHS,\n      ...VIEW_MODIFIABLE_FIELD_PATHS,\n    },\n    [RumEventType.ERROR]: {\n      'error.message': 'string',\n      'error.stack': 'string',\n      'error.resource.url': 'string',\n      'error.fingerprint': 'string',\n      ...USER_CUSTOMIZABLE_FIELD_PATHS,\n      ...VIEW_MODIFIABLE_FIELD_PATHS,\n      ...ROOT_MODIFIABLE_FIELD_PATHS,\n    },\n    [RumEventType.RESOURCE]: {\n      'resource.url': 'string',\n      ...(isExperimentalFeatureEnabled(ExperimentalFeature.WRITABLE_RESOURCE_GRAPHQL)\n        ? { 'resource.graphql': 'object' }\n        : {}),\n      ...USER_CUSTOMIZABLE_FIELD_PATHS,\n      ...VIEW_MODIFIABLE_FIELD_PATHS,\n      ...ROOT_MODIFIABLE_FIELD_PATHS,\n    },\n    [RumEventType.ACTION]: {\n      'action.target.name': 'string',\n      ...USER_CUSTOMIZABLE_FIELD_PATHS,\n      ...VIEW_MODIFIABLE_FIELD_PATHS,\n      ...ROOT_MODIFIABLE_FIELD_PATHS,\n    },\n    [RumEventType.LONG_TASK]: {\n      'long_task.scripts[].source_url': 'string',\n      'long_task.scripts[].invoker': 'string',\n      ...USER_CUSTOMIZABLE_FIELD_PATHS,\n      ...VIEW_MODIFIABLE_FIELD_PATHS,\n    },\n    [RumEventType.VITAL]: {\n      ...USER_CUSTOMIZABLE_FIELD_PATHS,\n      ...VIEW_MODIFIABLE_FIELD_PATHS,\n    },\n  }\n  const eventRateLimiters = {\n    [RumEventType.ERROR]: createEventRateLimiter(\n      RumEventType.ERROR,\n      configuration.eventRateLimiterThreshold,\n      reportError\n    ),\n    [RumEventType.ACTION]: createEventRateLimiter(\n      RumEventType.ACTION,\n      configuration.eventRateLimiterThreshold,\n      reportError\n    ),\n    [RumEventType.VITAL]: createEventRateLimiter(\n      RumEventType.VITAL,\n      configuration.eventRateLimiterThreshold,\n      reportError\n    ),\n  }\n\n  lifeCycle.subscribe(\n    LifeCycleEventType.RAW_RUM_EVENT_COLLECTED,\n    ({ startTime, duration, rawRumEvent, domainContext, savedCommonContext, customerContext }) => {\n      const viewHistoryEntry = viewHistory.findView(startTime)\n      const urlContext = urlContexts.findUrl(startTime)\n      const session = sessionManager.findTrackedSession(startTime)\n\n      if (\n        session &&\n        viewHistoryEntry &&\n        !urlContext &&\n        isExperimentalFeatureEnabled(ExperimentalFeature.MISSING_URL_CONTEXT_TELEMETRY)\n      ) {\n        addTelemetryDebug('Missing URL entry', {\n          debug: {\n            eventType: rawRumEvent.type,\n            startTime,\n            urlEntries: urlContexts.getAllEntries(),\n            urlDeletedEntries: urlContexts.getDeletedEntries(),\n            viewEntries: viewHistory.getAllEntries(),\n            viewDeletedEntries: viewHistory.getDeletedEntries(),\n          },\n        })\n      }\n\n      if (session && viewHistoryEntry && urlContext) {\n        const commonContext = savedCommonContext || getCommonContext()\n\n        const rumContext: Partial<CommonProperties> = {\n          _dd: {\n            format_version: 2,\n            drift: currentDrift(),\n            configuration: {\n              session_sample_rate: round(configuration.sessionSampleRate, 3),\n              session_replay_sample_rate: round(configuration.sessionReplaySampleRate, 3),\n            },\n            browser_sdk_version: canUseEventBridge() ? __BUILD_ENV__SDK_VERSION__ : undefined,\n          },\n          application: {\n            id: configuration.applicationId,\n          },\n          date: timeStampNow(),\n          source: 'browser',\n          session: {\n            id: session.id,\n            type: SessionType.USER,\n          },\n          display: displayContext.get(),\n          connectivity: getConnectivity(),\n          context: commonContext.context,\n        }\n\n        const serverRumEvent = combine(\n          rumContext,\n          hooks.triggerHook(HookNames.Assemble, {\n            eventType: rawRumEvent.type,\n            startTime,\n            duration,\n          }) as RumEvent & Context,\n          { context: customerContext },\n          rawRumEvent\n        ) as RumEvent & Context\n\n        if (!('has_replay' in serverRumEvent.session)) {\n          ;(serverRumEvent.session as Mutable<RumEvent['session']>).has_replay = commonContext.hasReplay\n        }\n        if (serverRumEvent.type === 'view') {\n          ;(serverRumEvent.session as Mutable<RumEvent['session']>).sampled_for_replay =\n            session.sessionReplay === SessionReplayState.SAMPLED\n        }\n\n        if (session.anonymousId && !commonContext.user.anonymous_id && !!configuration.trackAnonymousUser) {\n          commonContext.user.anonymous_id = session.anonymousId\n        }\n        if (!isEmptyObject(commonContext.user)) {\n          ;(serverRumEvent.usr as Mutable<RumEvent['usr']>) = commonContext.user as User & Context\n        }\n\n        if (!isEmptyObject(commonContext.account) && commonContext.account.id) {\n          ;(serverRumEvent.account as Mutable<RumEvent['account']>) = commonContext.account as Account\n        }\n\n        if (shouldSend(serverRumEvent, configuration.beforeSend, domainContext, eventRateLimiters)) {\n          if (isEmptyObject(serverRumEvent.context!)) {\n            delete serverRumEvent.context\n          }\n          lifeCycle.notify(LifeCycleEventType.RUM_EVENT_COLLECTED, serverRumEvent)\n        }\n      }\n    }\n  )\n}\n\nfunction shouldSend(\n  event: RumEvent & Context,\n  beforeSend: RumConfiguration['beforeSend'],\n  domainContext: RumEventDomainContext,\n  eventRateLimiters: { [key in RumEventType]?: EventRateLimiter }\n) {\n  if (beforeSend) {\n    const result = limitModification(event, modifiableFieldPathsByEvent[event.type], (event) =>\n      beforeSend(event, domainContext)\n    )\n    if (result === false && event.type !== RumEventType.VIEW) {\n      return false\n    }\n    if (result === false) {\n      display.warn(\"Can't dismiss view events using beforeSend!\")\n    }\n  }\n\n  const rateLimitReached = eventRateLimiters[event.type]?.isLimitReached()\n\n  return !rateLimitReached\n}\n","import type { Context, Duration, PageExitEvent, RawError, RelativeTime } from '@datadog/browser-core'\nimport { AbstractLifeCycle } from '@datadog/browser-core'\nimport type { RumEventDomainContext } from '../domainContext.types'\nimport type { RawRumEvent } from '../rawRumEvent.types'\nimport type { RumEvent } from '../rumEvent.types'\nimport type { CommonContext } from './contexts/commonContext'\nimport type { RequestCompleteEvent, RequestStartEvent } from './requestCollection'\nimport type { AutoAction } from './action/actionCollection'\nimport type { ViewEvent, ViewCreatedEvent, ViewEndedEvent, BeforeViewUpdateEvent } from './view/trackViews'\n\nexport const enum LifeCycleEventType {\n  // Contexts (like viewHistory) should be opened using prefixed BEFORE_XXX events and closed using prefixed AFTER_XXX events\n  // It ensures the context is available during the non prefixed event callbacks\n  AUTO_ACTION_COMPLETED,\n  BEFORE_VIEW_CREATED,\n  VIEW_CREATED,\n  BEFORE_VIEW_UPDATED,\n  VIEW_UPDATED,\n  VIEW_ENDED,\n  AFTER_VIEW_ENDED,\n  REQUEST_STARTED,\n  REQUEST_COMPLETED,\n\n  // The SESSION_EXPIRED lifecycle event has been introduced to represent when a session has expired\n  // and trigger cleanup tasks related to this, prior to renewing the session. Its implementation is\n  // slightly naive: it is not triggered as soon as the session is expired, but rather just before\n  // notifying that the session is renewed. Thus, the session id is already set to the newly renewed\n  // session.\n  //\n  // This implementation is \"good enough\" for our use-cases. Improving this is not trivial,\n  // primarily because multiple instances of the SDK may be managing the same session cookie at\n  // the same time, for example when using Logs and RUM on the same page, or opening multiple tabs\n  // on the same domain.\n  SESSION_EXPIRED,\n  SESSION_RENEWED,\n  PAGE_EXITED,\n  RAW_RUM_EVENT_COLLECTED,\n  RUM_EVENT_COLLECTED,\n  RAW_ERROR_COLLECTED,\n}\n\n// This is a workaround for an issue occurring when the Browser SDK is included in a TypeScript\n// project configured with `isolatedModules: true`. Even if the const enum is declared in this\n// module, we cannot use it directly to define the EventMap interface keys (TS error: \"Cannot access\n// ambient const enums when the '--isolatedModules' flag is provided.\").\n//\n// Using a plain enum would fix the issue, but would also add 2KB to the minified bundle. By using\n// this workaround, we can keep using a const enum without impacting the bundle size (since it is a\n// \"declare\" statement, it will only be used during typecheck and completely ignored when building\n// JavaScript).\n//\n// See issues:\n// * https://github.com/DataDog/browser-sdk/issues/2208\n// * https://github.com/microsoft/TypeScript/issues/54152\ndeclare const LifeCycleEventTypeAsConst: {\n  AUTO_ACTION_COMPLETED: LifeCycleEventType.AUTO_ACTION_COMPLETED\n  BEFORE_VIEW_CREATED: LifeCycleEventType.BEFORE_VIEW_CREATED\n  VIEW_CREATED: LifeCycleEventType.VIEW_CREATED\n  BEFORE_VIEW_UPDATED: LifeCycleEventType.BEFORE_VIEW_UPDATED\n  VIEW_UPDATED: LifeCycleEventType.VIEW_UPDATED\n  VIEW_ENDED: LifeCycleEventType.VIEW_ENDED\n  AFTER_VIEW_ENDED: LifeCycleEventType.AFTER_VIEW_ENDED\n  REQUEST_STARTED: LifeCycleEventType.REQUEST_STARTED\n  REQUEST_COMPLETED: LifeCycleEventType.REQUEST_COMPLETED\n  SESSION_EXPIRED: LifeCycleEventType.SESSION_EXPIRED\n  SESSION_RENEWED: LifeCycleEventType.SESSION_RENEWED\n  PAGE_EXITED: LifeCycleEventType.PAGE_EXITED\n  RAW_RUM_EVENT_COLLECTED: LifeCycleEventType.RAW_RUM_EVENT_COLLECTED\n  RUM_EVENT_COLLECTED: LifeCycleEventType.RUM_EVENT_COLLECTED\n  RAW_ERROR_COLLECTED: LifeCycleEventType.RAW_ERROR_COLLECTED\n}\n\n// Note: this interface needs to be exported even if it is not used outside of this module, else TS\n// fails to build the rum-core package with error TS4058\nexport interface LifeCycleEventMap {\n  [LifeCycleEventTypeAsConst.AUTO_ACTION_COMPLETED]: AutoAction\n  [LifeCycleEventTypeAsConst.BEFORE_VIEW_CREATED]: ViewCreatedEvent\n  [LifeCycleEventTypeAsConst.VIEW_CREATED]: ViewCreatedEvent\n  [LifeCycleEventTypeAsConst.BEFORE_VIEW_UPDATED]: BeforeViewUpdateEvent\n  [LifeCycleEventTypeAsConst.VIEW_UPDATED]: ViewEvent\n  [LifeCycleEventTypeAsConst.VIEW_ENDED]: ViewEndedEvent\n  [LifeCycleEventTypeAsConst.AFTER_VIEW_ENDED]: ViewEndedEvent\n  [LifeCycleEventTypeAsConst.REQUEST_STARTED]: RequestStartEvent\n  [LifeCycleEventTypeAsConst.REQUEST_COMPLETED]: RequestCompleteEvent\n  [LifeCycleEventTypeAsConst.SESSION_EXPIRED]: void\n  [LifeCycleEventTypeAsConst.SESSION_RENEWED]: void\n  [LifeCycleEventTypeAsConst.PAGE_EXITED]: PageExitEvent\n  [LifeCycleEventTypeAsConst.RAW_RUM_EVENT_COLLECTED]: RawRumEventCollectedData\n  [LifeCycleEventTypeAsConst.RUM_EVENT_COLLECTED]: RumEvent & Context\n  [LifeCycleEventTypeAsConst.RAW_ERROR_COLLECTED]: {\n    error: RawError\n    savedCommonContext?: CommonContext\n    customerContext?: Context\n  }\n}\n\nexport interface RawRumEventCollectedData<E extends RawRumEvent = RawRumEvent> {\n  startTime: RelativeTime\n  duration?: Duration\n  savedCommonContext?: CommonContext\n  customerContext?: Context\n  rawRumEvent: E\n  domainContext: RumEventDomainContext<E['type']>\n}\n\nexport const LifeCycle = AbstractLifeCycle<LifeCycleEventMap>\nexport type LifeCycle = AbstractLifeCycle<LifeCycleEventMap>\n","import type { Subscription } from './observable'\n\n/**\n * Type helper to extract event types that have \"void\" data. This allows to call `notify` without a\n * second argument. Ex:\n *\n * ```\n * interface EventMap {\n *   foo: void\n * }\n * const LifeCycle = AbstractLifeCycle<EventMap>\n * new LifeCycle().notify('foo')\n * ```\n */\ntype EventTypesWithoutData<EventMap> = {\n  [K in keyof EventMap]: EventMap[K] extends void ? K : never\n}[keyof EventMap]\n\n// eslint-disable-next-line no-restricted-syntax\nexport class AbstractLifeCycle<EventMap> {\n  private callbacks: { [key in keyof EventMap]?: Array<(data: any) => void> } = {}\n\n  notify<EventType extends EventTypesWithoutData<EventMap>>(eventType: EventType): void\n  notify<EventType extends keyof EventMap>(eventType: EventType, data: EventMap[EventType]): void\n  notify(eventType: keyof EventMap, data?: unknown) {\n    const eventCallbacks = this.callbacks[eventType]\n    if (eventCallbacks) {\n      eventCallbacks.forEach((callback) => callback(data))\n    }\n  }\n\n  subscribe<EventType extends keyof EventMap>(\n    eventType: EventType,\n    callback: (data: EventMap[EventType]) => void\n  ): Subscription {\n    if (!this.callbacks[eventType]) {\n      this.callbacks[eventType] = []\n    }\n    this.callbacks[eventType]!.push(callback)\n    return {\n      unsubscribe: () => {\n        this.callbacks[eventType] = this.callbacks[eventType]!.filter((other) => callback !== other)\n      },\n    }\n  }\n}\n","import type { Context } from './serialisation/context'\nimport { setInterval, clearInterval } from './timer'\nimport type { TimeoutId } from './timer'\nimport { removeItem } from './utils/arrayUtils'\nimport type { Duration, RelativeTime } from './utils/timeUtils'\nimport { addDuration, relativeNow, ONE_MINUTE } from './utils/timeUtils'\n\nconst END_OF_TIMES = Infinity as RelativeTime\n\nexport interface ValueHistoryEntry<T> {\n  startTime: RelativeTime\n  endTime: RelativeTime\n  value: T\n  remove(): void\n  close(endTime: RelativeTime): void\n}\n\nexport const CLEAR_OLD_VALUES_INTERVAL = ONE_MINUTE\n\n/**\n * Store and keep track of values spans. This whole cache assumes that values are added in\n * chronological order (i.e. all entries have an increasing start time).\n */\nexport interface ValueHistory<Value> {\n  add: (value: Value, startTime: RelativeTime) => ValueHistoryEntry<Value>\n  find: (startTime?: RelativeTime, options?: { returnInactive: boolean }) => Value | undefined\n\n  closeActive: (endTime: RelativeTime) => void\n  findAll: (startTime?: RelativeTime, duration?: Duration) => Value[]\n  reset: () => void\n  stop: () => void\n\n  getAllEntries: () => Context[]\n  getDeletedEntries: () => RelativeTime[]\n}\n\nlet cleanupHistoriesInterval: TimeoutId | null = null\n\nconst cleanupTasks: Set<() => void> = new Set()\n\nfunction cleanupHistories() {\n  cleanupTasks.forEach((task) => task())\n}\n\nexport function createValueHistory<Value>({\n  expireDelay,\n  maxEntries,\n}: {\n  expireDelay: number\n  maxEntries?: number\n}): ValueHistory<Value> {\n  let entries: Array<ValueHistoryEntry<Value>> = []\n  const deletedEntries: RelativeTime[] = []\n\n  if (!cleanupHistoriesInterval) {\n    cleanupHistoriesInterval = setInterval(() => cleanupHistories(), CLEAR_OLD_VALUES_INTERVAL)\n  }\n\n  const clearExpiredValues = () => {\n    const oldTimeThreshold = relativeNow() - expireDelay\n    while (entries.length > 0 && entries[entries.length - 1].endTime < oldTimeThreshold) {\n      const entry = entries.pop()\n      if (entry) {\n        deletedEntries.push(entry.startTime)\n      }\n    }\n  }\n\n  cleanupTasks.add(clearExpiredValues)\n\n  /**\n   * Add a value to the history associated with a start time. Returns a reference to this newly\n   * added entry that can be removed or closed.\n   */\n  function add(value: Value, startTime: RelativeTime): ValueHistoryEntry<Value> {\n    const entry: ValueHistoryEntry<Value> = {\n      value,\n      startTime,\n      endTime: END_OF_TIMES,\n      remove: () => {\n        removeItem(entries, entry)\n      },\n      close: (endTime: RelativeTime) => {\n        entry.endTime = endTime\n      },\n    }\n\n    if (maxEntries && entries.length >= maxEntries) {\n      entries.pop()\n    }\n\n    entries.unshift(entry)\n\n    return entry\n  }\n\n  /**\n   * Return the latest value that was active during `startTime`, or the currently active value\n   * if no `startTime` is provided. This method assumes that entries are not overlapping.\n   *\n   * If `option.returnInactive` is true, returns the value at `startTime` (active or not).\n   */\n  function find(\n    startTime: RelativeTime = END_OF_TIMES,\n    options: { returnInactive: boolean } = { returnInactive: false }\n  ): Value | undefined {\n    for (const entry of entries) {\n      if (entry.startTime <= startTime) {\n        if (options.returnInactive || startTime <= entry.endTime) {\n          return entry.value\n        }\n        break\n      }\n    }\n  }\n\n  /**\n   * Helper function to close the currently active value, if any. This method assumes that entries\n   * are not overlapping.\n   */\n  function closeActive(endTime: RelativeTime) {\n    const latestEntry = entries[0]\n    if (latestEntry && latestEntry.endTime === END_OF_TIMES) {\n      latestEntry.close(endTime)\n    }\n  }\n\n  /**\n   * Return all values with an active period overlapping with the duration,\n   * or all values that were active during `startTime` if no duration is provided,\n   * or all currently active values if no `startTime` is provided.\n   */\n  function findAll(startTime: RelativeTime = END_OF_TIMES, duration = 0 as Duration): Value[] {\n    const endTime = addDuration(startTime, duration)\n    return entries\n      .filter((entry) => entry.startTime <= endTime && startTime <= entry.endTime)\n      .map((entry) => entry.value)\n  }\n\n  function getAllEntries() {\n    return entries.map(({ startTime, endTime, value }) => ({\n      startTime,\n      endTime: endTime === END_OF_TIMES ? 'Infinity' : endTime,\n      value,\n    })) as Context[]\n  }\n\n  function getDeletedEntries() {\n    return deletedEntries\n  }\n\n  /**\n   * Remove all entries from this collection.\n   */\n  function reset() {\n    entries = []\n  }\n\n  /**\n   * Stop internal garbage collection of past entries.\n   */\n  function stop() {\n    cleanupTasks.delete(clearExpiredValues)\n    if (cleanupTasks.size === 0 && cleanupHistoriesInterval) {\n      clearInterval(cleanupHistoriesInterval)\n      cleanupHistoriesInterval = null\n    }\n  }\n\n  return { add, find, closeActive, findAll, reset, stop, getAllEntries, getDeletedEntries }\n}\n","import type { RelativeTime, ClocksState, Context } from '@datadog/browser-core'\nimport { SESSION_TIME_OUT_DELAY, createValueHistory } from '@datadog/browser-core'\nimport type { LifeCycle } from '../lifeCycle'\nimport { LifeCycleEventType } from '../lifeCycle'\nimport type { BeforeViewUpdateEvent, ViewCreatedEvent } from '../view/trackViews'\n\nexport const VIEW_CONTEXT_TIME_OUT_DELAY = SESSION_TIME_OUT_DELAY\n\nexport interface ViewHistoryEntry {\n  service?: string\n  version?: string\n  context?: Context | undefined\n  id: string\n  name?: string\n  startClocks: ClocksState\n}\n\nexport interface ViewHistory {\n  findView: (startTime?: RelativeTime) => ViewHistoryEntry | undefined\n  stop: () => void\n  getAllEntries: () => Context[]\n  getDeletedEntries: () => RelativeTime[]\n}\n\nexport function startViewHistory(lifeCycle: LifeCycle): ViewHistory {\n  const viewValueHistory = createValueHistory<ViewHistoryEntry>({ expireDelay: VIEW_CONTEXT_TIME_OUT_DELAY })\n\n  lifeCycle.subscribe(LifeCycleEventType.BEFORE_VIEW_CREATED, (view) => {\n    viewValueHistory.add(buildViewHistoryEntry(view), view.startClocks.relative)\n  })\n\n  lifeCycle.subscribe(LifeCycleEventType.AFTER_VIEW_ENDED, ({ endClocks }) => {\n    viewValueHistory.closeActive(endClocks.relative)\n  })\n\n  lifeCycle.subscribe(LifeCycleEventType.BEFORE_VIEW_UPDATED, (viewUpdate: BeforeViewUpdateEvent) => {\n    const currentView = viewValueHistory.find(viewUpdate.startClocks.relative)\n    if (currentView && viewUpdate.name) {\n      currentView.name = viewUpdate.name\n    }\n    if (currentView && viewUpdate.context) {\n      currentView.context = viewUpdate.context\n    }\n  })\n\n  lifeCycle.subscribe(LifeCycleEventType.SESSION_RENEWED, () => {\n    viewValueHistory.reset()\n  })\n\n  function buildViewHistoryEntry(view: ViewCreatedEvent) {\n    return {\n      service: view.service,\n      version: view.version,\n      context: view.context,\n      id: view.id,\n      name: view.name,\n      startClocks: view.startClocks,\n    }\n  }\n\n  return {\n    findView: (startTime) => viewValueHistory.find(startTime),\n    getAllEntries: () => viewValueHistory.getAllEntries(),\n    getDeletedEntries: () => viewValueHistory.getDeletedEntries(),\n    stop: () => {\n      viewValueHistory.stop()\n    },\n  }\n}\n","import type { InstrumentedMethodCall } from '../tools/instrumentMethod'\nimport { instrumentMethod } from '../tools/instrumentMethod'\nimport { Observable } from '../tools/observable'\nimport type { Duration, ClocksState } from '../tools/utils/timeUtils'\nimport { elapsed, clocksNow, timeStampNow } from '../tools/utils/timeUtils'\nimport { normalizeUrl } from '../tools/utils/urlPolyfill'\nimport { shallowClone } from '../tools/utils/objectUtils'\nimport type { Configuration } from '../domain/configuration'\nimport { addEventListener } from './addEventListener'\n\nexport interface XhrOpenContext {\n  state: 'open'\n  method: string\n  url: string\n}\n\nexport interface XhrStartContext extends Omit<XhrOpenContext, 'state'> {\n  state: 'start'\n  startClocks: ClocksState\n  isAborted: boolean\n  xhr: XMLHttpRequest\n  handlingStack?: string\n}\n\nexport interface XhrCompleteContext extends Omit<XhrStartContext, 'state'> {\n  state: 'complete'\n  duration: Duration\n  status: number\n}\n\nexport type XhrContext = XhrOpenContext | XhrStartContext | XhrCompleteContext\n\nlet xhrObservable: Observable<XhrContext> | undefined\nconst xhrContexts = new WeakMap<XMLHttpRequest, XhrContext>()\n\nexport function initXhrObservable(configuration: Configuration) {\n  if (!xhrObservable) {\n    xhrObservable = createXhrObservable(configuration)\n  }\n  return xhrObservable\n}\n\nfunction createXhrObservable(configuration: Configuration) {\n  return new Observable<XhrContext>((observable) => {\n    const { stop: stopInstrumentingStart } = instrumentMethod(XMLHttpRequest.prototype, 'open', openXhr)\n\n    const { stop: stopInstrumentingSend } = instrumentMethod(\n      XMLHttpRequest.prototype,\n      'send',\n      (call) => {\n        sendXhr(call, configuration, observable)\n      },\n      { computeHandlingStack: true }\n    )\n\n    const { stop: stopInstrumentingAbort } = instrumentMethod(XMLHttpRequest.prototype, 'abort', abortXhr)\n\n    return () => {\n      stopInstrumentingStart()\n      stopInstrumentingSend()\n      stopInstrumentingAbort()\n    }\n  })\n}\n\nfunction openXhr({ target: xhr, parameters: [method, url] }: InstrumentedMethodCall<XMLHttpRequest, 'open'>) {\n  xhrContexts.set(xhr, {\n    state: 'open',\n    method: String(method).toUpperCase(),\n    url: normalizeUrl(String(url)),\n  })\n}\n\nfunction sendXhr(\n  { target: xhr, handlingStack }: InstrumentedMethodCall<XMLHttpRequest, 'send'>,\n  configuration: Configuration,\n  observable: Observable<XhrContext>\n) {\n  const context = xhrContexts.get(xhr)\n  if (!context) {\n    return\n  }\n\n  const startContext = context as XhrStartContext\n  startContext.state = 'start'\n  startContext.startClocks = clocksNow()\n  startContext.isAborted = false\n  startContext.xhr = xhr\n  startContext.handlingStack = handlingStack\n\n  let hasBeenReported = false\n\n  const { stop: stopInstrumentingOnReadyStateChange } = instrumentMethod(xhr, 'onreadystatechange', () => {\n    if (xhr.readyState === XMLHttpRequest.DONE) {\n      // Try to report the XHR as soon as possible, because the XHR may be mutated by the\n      // application during a future event. For example, Angular is calling .abort() on\n      // completed requests during an onreadystatechange event, so the status becomes '0'\n      // before the request is collected.\n      onEnd()\n    }\n  })\n\n  const onEnd = () => {\n    unsubscribeLoadEndListener()\n    stopInstrumentingOnReadyStateChange()\n    if (hasBeenReported) {\n      return\n    }\n    hasBeenReported = true\n\n    const completeContext = context as XhrCompleteContext\n    completeContext.state = 'complete'\n    completeContext.duration = elapsed(startContext.startClocks.timeStamp, timeStampNow())\n    completeContext.status = xhr.status\n    observable.notify(shallowClone(completeContext))\n  }\n\n  const { stop: unsubscribeLoadEndListener } = addEventListener(configuration, xhr, 'loadend', onEnd)\n\n  observable.notify(startContext)\n}\n\nfunction abortXhr({ target: xhr }: InstrumentedMethodCall<XMLHttpRequest, 'abort'>) {\n  const context = xhrContexts.get(xhr) as XhrStartContext | undefined\n  if (context) {\n    context.isAborted = true\n  }\n}\n","import type { Duration, RelativeTime } from '@datadog/browser-core'\nimport {\n  addTelemetryDebug,\n  elapsed,\n  getPathName,\n  isValidUrl,\n  ResourceType,\n  toServerDuration,\n  isIntakeUrl,\n} from '@datadog/browser-core'\n\nimport type { RumPerformanceResourceTiming } from '../../browser/performanceObservable'\n\nimport type { ResourceEntryDetailsElement, DeliveryType } from '../../rawRumEvent.types'\n\nexport interface ResourceEntryDetails {\n  worker?: ResourceEntryDetailsElement\n  redirect?: ResourceEntryDetailsElement\n  dns?: ResourceEntryDetailsElement\n  connect?: ResourceEntryDetailsElement\n  ssl?: ResourceEntryDetailsElement\n  first_byte?: ResourceEntryDetailsElement\n  download?: ResourceEntryDetailsElement\n}\n\nexport const FAKE_INITIAL_DOCUMENT = 'initial_document'\n\nconst RESOURCE_TYPES: Array<[ResourceType, (initiatorType: string, path: string) => boolean]> = [\n  [ResourceType.DOCUMENT, (initiatorType: string) => FAKE_INITIAL_DOCUMENT === initiatorType],\n  [ResourceType.XHR, (initiatorType: string) => 'xmlhttprequest' === initiatorType],\n  [ResourceType.FETCH, (initiatorType: string) => 'fetch' === initiatorType],\n  [ResourceType.BEACON, (initiatorType: string) => 'beacon' === initiatorType],\n  [ResourceType.CSS, (_: string, path: string) => /\\.css$/i.test(path)],\n  [ResourceType.JS, (_: string, path: string) => /\\.js$/i.test(path)],\n  [\n    ResourceType.IMAGE,\n    (initiatorType: string, path: string) =>\n      ['image', 'img', 'icon'].includes(initiatorType) || /\\.(gif|jpg|jpeg|tiff|png|svg|ico)$/i.exec(path) !== null,\n  ],\n  [ResourceType.FONT, (_: string, path: string) => /\\.(woff|eot|woff2|ttf)$/i.exec(path) !== null],\n  [\n    ResourceType.MEDIA,\n    (initiatorType: string, path: string) =>\n      ['audio', 'video'].includes(initiatorType) || /\\.(mp3|mp4)$/i.exec(path) !== null,\n  ],\n]\n\nexport function computeResourceEntryType(entry: RumPerformanceResourceTiming) {\n  const url = entry.name\n  if (!isValidUrl(url)) {\n    addTelemetryDebug(`Failed to construct URL for \"${entry.name}\"`)\n    return ResourceType.OTHER\n  }\n  const path = getPathName(url)\n  for (const [type, isType] of RESOURCE_TYPES) {\n    if (isType(entry.initiatorType, path)) {\n      return type\n    }\n  }\n  return ResourceType.OTHER\n}\n\nfunction areInOrder(...numbers: number[]) {\n  for (let i = 1; i < numbers.length; i += 1) {\n    if (numbers[i - 1] > numbers[i]) {\n      return false\n    }\n  }\n  return true\n}\n\nexport function isResourceEntryRequestType(entry: RumPerformanceResourceTiming) {\n  return entry.initiatorType === 'xmlhttprequest' || entry.initiatorType === 'fetch'\n}\n\nexport function computeResourceEntryDuration(entry: RumPerformanceResourceTiming): Duration {\n  const { duration, startTime, responseEnd } = entry\n\n  // Safari duration is always 0 on timings blocked by cross origin policies.\n  if (duration === 0 && startTime < responseEnd) {\n    return elapsed(startTime, responseEnd)\n  }\n\n  return duration\n}\n\nexport function computeResourceEntryDetails(entry: RumPerformanceResourceTiming): ResourceEntryDetails | undefined {\n  if (!hasValidResourceEntryTimings(entry)) {\n    return undefined\n  }\n  const {\n    startTime,\n    fetchStart,\n    workerStart,\n    redirectStart,\n    redirectEnd,\n    domainLookupStart,\n    domainLookupEnd,\n    connectStart,\n    secureConnectionStart,\n    connectEnd,\n    requestStart,\n    responseStart,\n    responseEnd,\n  } = entry\n\n  const details: ResourceEntryDetails = {\n    download: formatTiming(startTime, responseStart, responseEnd),\n    first_byte: formatTiming(startTime, requestStart, responseStart),\n  }\n\n  // Make sure a worker processing time is recorded\n  if (0 < workerStart && workerStart < fetchStart) {\n    details.worker = formatTiming(startTime, workerStart, fetchStart)\n  }\n\n  // Make sure a connection occurred\n  if (fetchStart < connectEnd) {\n    details.connect = formatTiming(startTime, connectStart, connectEnd)\n\n    // Make sure a secure connection occurred\n    if (connectStart <= secureConnectionStart && secureConnectionStart <= connectEnd) {\n      details.ssl = formatTiming(startTime, secureConnectionStart, connectEnd)\n    }\n  }\n\n  // Make sure a domain lookup occurred\n  if (fetchStart < domainLookupEnd) {\n    details.dns = formatTiming(startTime, domainLookupStart, domainLookupEnd)\n  }\n\n  // Make sure a redirection occurred\n  if (startTime < redirectEnd) {\n    details.redirect = formatTiming(startTime, redirectStart, redirectEnd)\n  }\n\n  return details\n}\n\n/**\n * Entries with negative duration are unexpected and should be dismissed. The intake will ignore RUM\n * Resource events with negative durations anyway.\n * Since Chromium 128, more entries have unexpected negative durations, see\n * https://issues.chromium.org/issues/363031537\n */\nexport function hasValidResourceEntryDuration(entry: RumPerformanceResourceTiming) {\n  return entry.duration >= 0\n}\n\nexport function hasValidResourceEntryTimings(entry: RumPerformanceResourceTiming) {\n  // Ensure timings are in the right order. On top of filtering out potential invalid\n  // RumPerformanceResourceTiming, it will ignore entries from requests where timings cannot be\n  // collected, for example cross origin requests without a \"Timing-Allow-Origin\" header allowing\n  // it.\n  const areCommonTimingsInOrder = areInOrder(\n    entry.startTime,\n    entry.fetchStart,\n    entry.domainLookupStart,\n    entry.domainLookupEnd,\n    entry.connectStart,\n    entry.connectEnd,\n    entry.requestStart,\n    entry.responseStart,\n    entry.responseEnd\n  )\n\n  const areRedirectionTimingsInOrder = hasRedirection(entry)\n    ? areInOrder(entry.startTime, entry.redirectStart, entry.redirectEnd, entry.fetchStart)\n    : true\n\n  return areCommonTimingsInOrder && areRedirectionTimingsInOrder\n}\n\nfunction hasRedirection(entry: RumPerformanceResourceTiming) {\n  return entry.redirectEnd > entry.startTime\n}\nfunction formatTiming(origin: RelativeTime, start: RelativeTime, end: RelativeTime) {\n  if (origin <= start && start <= end) {\n    return {\n      duration: toServerDuration(elapsed(start, end)),\n      start: toServerDuration(elapsed(origin, start)),\n    }\n  }\n}\n\n/**\n * The 'nextHopProtocol' is an empty string for cross-origin resources without CORS headers,\n * meaning the protocol is unknown, and we shouldn't report it.\n * https://developer.mozilla.org/en-US/docs/Web/API/PerformanceResourceTiming/nextHopProtocol#cross-origin_resources\n */\nexport function computeResourceEntryProtocol(entry: RumPerformanceResourceTiming) {\n  return entry.nextHopProtocol === '' ? undefined : entry.nextHopProtocol\n}\n\n/**\n * Handles the 'deliveryType' property to distinguish between supported values ('cache', 'navigational-prefetch'),\n * undefined (unsupported in some browsers), and other cases ('other' for unknown or unrecognized values).\n * see: https://developer.mozilla.org/en-US/docs/Web/API/PerformanceResourceTiming/deliveryType\n */\nexport function computeResourceEntryDeliveryType(entry: RumPerformanceResourceTiming): DeliveryType | undefined {\n  return entry.deliveryType === '' ? 'other' : entry.deliveryType\n}\n\nexport function computeResourceEntrySize(entry: RumPerformanceResourceTiming) {\n  // Make sure a request actually occurred\n  if (entry.startTime < entry.responseStart) {\n    const { encodedBodySize, decodedBodySize, transferSize } = entry\n    return {\n      size: decodedBodySize,\n      encoded_body_size: encodedBodySize,\n      decoded_body_size: decodedBodySize,\n      transfer_size: transferSize,\n    }\n  }\n  return {\n    size: undefined,\n    encoded_body_size: undefined,\n    decoded_body_size: undefined,\n    transfer_size: undefined,\n  }\n}\n\nexport function isAllowedRequestUrl(url: string) {\n  return url && !isIntakeUrl(url)\n}\n\nconst DATA_URL_REGEX = /data:(.+)?(;base64)?,/g\nexport const MAX_ATTRIBUTE_VALUE_CHAR_LENGTH = 24_000\n\nexport function isLongDataUrl(url: string): boolean {\n  if (url.length <= MAX_ATTRIBUTE_VALUE_CHAR_LENGTH) {\n    return false\n  } else if (url.substring(0, 5) === 'data:') {\n    // Avoid String.match RangeError: Maximum call stack size exceeded\n    url = url.substring(0, MAX_ATTRIBUTE_VALUE_CHAR_LENGTH)\n    return true\n  }\n  return false\n}\n\nexport function sanitizeDataUrl(url: string): string {\n  return `${url.match(DATA_URL_REGEX)![0]}[...]`\n}\n","import type {\n  Duration,\n  XhrCompleteContext,\n  XhrStartContext,\n  ClocksState,\n  FetchStartContext,\n  FetchResolveContext,\n} from '@datadog/browser-core'\nimport {\n  RequestType,\n  initFetchObservable,\n  initXhrObservable,\n  readBytesFromStream,\n  elapsed,\n  timeStampNow,\n  tryToClone,\n} from '@datadog/browser-core'\nimport type { RumSessionManager } from '..'\nimport type { RumConfiguration } from './configuration'\nimport type { LifeCycle } from './lifeCycle'\nimport { LifeCycleEventType } from './lifeCycle'\nimport { isAllowedRequestUrl } from './resource/resourceUtils'\nimport type { Tracer } from './tracing/tracer'\nimport { startTracer } from './tracing/tracer'\nimport type { SpanIdentifier, TraceIdentifier } from './tracing/identifier'\nimport type { CommonContext } from './contexts/commonContext'\n\nexport interface CustomContext {\n  requestIndex: number\n  spanId?: SpanIdentifier\n  traceId?: TraceIdentifier\n  traceSampled?: boolean\n}\nexport interface RumFetchStartContext extends FetchStartContext, CustomContext {}\nexport interface RumFetchResolveContext extends FetchResolveContext, CustomContext {}\nexport interface RumXhrStartContext extends XhrStartContext, CustomContext {}\nexport interface RumXhrCompleteContext extends XhrCompleteContext, CustomContext {}\n\nexport interface RequestStartEvent {\n  requestIndex: number\n  url: string\n}\nexport interface RequestCompleteEvent {\n  requestIndex: number\n  type: RequestType\n  method: string\n  url: string\n  status: number\n  responseType?: string\n  startClocks: ClocksState\n  duration: Duration\n  spanId?: SpanIdentifier\n  traceId?: TraceIdentifier\n  traceSampled?: boolean\n  xhr?: XMLHttpRequest\n  response?: Response\n  input?: unknown\n  init?: RequestInit\n  error?: Error\n  isAborted: boolean\n  handlingStack?: string\n}\n\nlet nextRequestIndex = 1\n\nexport function startRequestCollection(\n  lifeCycle: LifeCycle,\n  configuration: RumConfiguration,\n  sessionManager: RumSessionManager,\n  getCommonContext: () => CommonContext\n) {\n  const tracer = startTracer(configuration, sessionManager, getCommonContext)\n  trackXhr(lifeCycle, configuration, tracer)\n  trackFetch(lifeCycle, tracer)\n}\n\nexport function trackXhr(lifeCycle: LifeCycle, configuration: RumConfiguration, tracer: Tracer) {\n  const subscription = initXhrObservable(configuration).subscribe((rawContext) => {\n    const context = rawContext as RumXhrStartContext | RumXhrCompleteContext\n    if (!isAllowedRequestUrl(context.url)) {\n      return\n    }\n\n    switch (context.state) {\n      case 'start':\n        tracer.traceXhr(context, context.xhr)\n        context.requestIndex = getNextRequestIndex()\n\n        lifeCycle.notify(LifeCycleEventType.REQUEST_STARTED, {\n          requestIndex: context.requestIndex,\n          url: context.url,\n        })\n        break\n      case 'complete':\n        tracer.clearTracingIfNeeded(context)\n        lifeCycle.notify(LifeCycleEventType.REQUEST_COMPLETED, {\n          duration: context.duration,\n          method: context.method,\n          requestIndex: context.requestIndex,\n          spanId: context.spanId,\n          startClocks: context.startClocks,\n          status: context.status,\n          traceId: context.traceId,\n          traceSampled: context.traceSampled,\n          type: RequestType.XHR,\n          url: context.url,\n          xhr: context.xhr,\n          isAborted: context.isAborted,\n          handlingStack: context.handlingStack,\n        })\n        break\n    }\n  })\n\n  return { stop: () => subscription.unsubscribe() }\n}\n\nexport function trackFetch(lifeCycle: LifeCycle, tracer: Tracer) {\n  const subscription = initFetchObservable().subscribe((rawContext) => {\n    const context = rawContext as RumFetchResolveContext | RumFetchStartContext\n    if (!isAllowedRequestUrl(context.url)) {\n      return\n    }\n\n    switch (context.state) {\n      case 'start':\n        tracer.traceFetch(context)\n        context.requestIndex = getNextRequestIndex()\n\n        lifeCycle.notify(LifeCycleEventType.REQUEST_STARTED, {\n          requestIndex: context.requestIndex,\n          url: context.url,\n        })\n        break\n      case 'resolve':\n        waitForResponseToComplete(context, (duration: Duration) => {\n          tracer.clearTracingIfNeeded(context)\n          lifeCycle.notify(LifeCycleEventType.REQUEST_COMPLETED, {\n            duration,\n            method: context.method,\n            requestIndex: context.requestIndex,\n            responseType: context.responseType,\n            spanId: context.spanId,\n            startClocks: context.startClocks,\n            status: context.status,\n            traceId: context.traceId,\n            traceSampled: context.traceSampled,\n            type: RequestType.FETCH,\n            url: context.url,\n            response: context.response,\n            init: context.init,\n            input: context.input,\n            isAborted: context.isAborted,\n            handlingStack: context.handlingStack,\n          })\n        })\n        break\n    }\n  })\n  return { stop: () => subscription.unsubscribe() }\n}\n\nfunction getNextRequestIndex() {\n  const result = nextRequestIndex\n  nextRequestIndex += 1\n  return result\n}\n\nfunction waitForResponseToComplete(context: RumFetchResolveContext, callback: (duration: Duration) => void) {\n  const clonedResponse = context.response && tryToClone(context.response)\n  if (!clonedResponse || !clonedResponse.body) {\n    // do not try to wait for the response if the clone failed, fetch error or null body\n    callback(elapsed(context.startClocks.timeStamp, timeStampNow()))\n  } else {\n    readBytesFromStream(\n      clonedResponse.body,\n      () => {\n        callback(elapsed(context.startClocks.timeStamp, timeStampNow()))\n      },\n      {\n        bytesLimit: Number.POSITIVE_INFINITY,\n        collectStreamBody: false,\n      }\n    )\n  }\n}\n","import { monitor } from './monitor'\nimport { noop } from './utils/functionUtils'\n\ntype Options = {\n  bytesLimit: number\n  collectStreamBody?: boolean\n}\n/**\n * Read bytes from a ReadableStream until at least `limit` bytes have been read (or until the end of\n * the stream). The callback is invoked with the at most `limit` bytes, and indicates that the limit\n * has been exceeded if more bytes were available.\n */\nexport function readBytesFromStream(\n  stream: ReadableStream<Uint8Array>,\n  callback: (error?: Error, bytes?: Uint8Array, limitExceeded?: boolean) => void,\n  options: Options\n) {\n  const reader = stream.getReader()\n  const chunks: Uint8Array[] = []\n  let readBytesCount = 0\n\n  readMore()\n\n  function readMore() {\n    reader.read().then(\n      monitor((result: ReadableStreamReadResult<Uint8Array>) => {\n        if (result.done) {\n          onDone()\n          return\n        }\n\n        if (options.collectStreamBody) {\n          chunks.push(result.value)\n        }\n        readBytesCount += result.value.length\n\n        if (readBytesCount > options.bytesLimit) {\n          onDone()\n        } else {\n          readMore()\n        }\n      }),\n      monitor((error) => callback(error))\n    )\n  }\n\n  function onDone() {\n    reader.cancel().catch(\n      // we don't care if cancel fails, but we still need to catch the error to avoid reporting it\n      // as an unhandled rejection\n      noop\n    )\n\n    let bytes: Uint8Array | undefined\n    let limitExceeded: boolean | undefined\n    if (options.collectStreamBody) {\n      let completeBuffer: Uint8Array\n      if (chunks.length === 1) {\n        // optimization: if the response is small enough to fit in a single buffer (provided by the browser), just\n        // use it directly.\n        completeBuffer = chunks[0]\n      } else {\n        // else, we need to copy buffers into a larger buffer to concatenate them.\n        completeBuffer = new Uint8Array(readBytesCount)\n        let offset = 0\n        chunks.forEach((chunk) => {\n          completeBuffer.set(chunk, offset)\n          offset += chunk.length\n        })\n      }\n      bytes = completeBuffer.slice(0, options.bytesLimit)\n      limitExceeded = completeBuffer.length > options.bytesLimit\n    }\n\n    callback(undefined, bytes, limitExceeded)\n  }\n}\n","import type { ServerDuration } from '@datadog/browser-core'\nimport { isNumber } from '@datadog/browser-core'\n\nexport function discardNegativeDuration(duration: ServerDuration | undefined): ServerDuration | undefined {\n  return isNumber(duration) && duration < 0 ? undefined : duration\n}\n","import { noop } from '@datadog/browser-core'\nimport { RumEventType } from '../rawRumEvent.types'\nimport type { RumActionEvent, RumErrorEvent, RumLongTaskEvent, RumResourceEvent } from '../rumEvent.types'\nimport type { LifeCycle } from './lifeCycle'\nimport { LifeCycleEventType } from './lifeCycle'\n\nexport interface EventCounts {\n  errorCount: number\n  actionCount: number\n  longTaskCount: number\n  resourceCount: number\n  frustrationCount: number\n}\n\nexport function trackEventCounts({\n  lifeCycle,\n  isChildEvent,\n  onChange: callback = noop,\n}: {\n  lifeCycle: LifeCycle\n  isChildEvent: (event: RumActionEvent | RumErrorEvent | RumLongTaskEvent | RumResourceEvent) => boolean\n  onChange?: () => void\n}) {\n  const eventCounts: EventCounts = {\n    errorCount: 0,\n    longTaskCount: 0,\n    resourceCount: 0,\n    actionCount: 0,\n    frustrationCount: 0,\n  }\n\n  const subscription = lifeCycle.subscribe(LifeCycleEventType.RUM_EVENT_COLLECTED, (event): void => {\n    if (event.type === 'view' || event.type === 'vital' || !isChildEvent(event)) {\n      return\n    }\n    switch (event.type) {\n      case RumEventType.ERROR:\n        eventCounts.errorCount += 1\n        callback()\n        break\n      case RumEventType.ACTION:\n        eventCounts.actionCount += 1\n        if (event.action.frustration) {\n          eventCounts.frustrationCount += event.action.frustration.type.length\n        }\n        callback()\n        break\n      case RumEventType.LONG_TASK:\n        eventCounts.longTaskCount += 1\n        callback()\n        break\n      case RumEventType.RESOURCE:\n        if (!event._dd?.discarded) {\n          eventCounts.resourceCount += 1\n          callback()\n        }\n        break\n    }\n  })\n\n  return {\n    stop: () => {\n      subscription.unsubscribe()\n    },\n    eventCounts,\n  }\n}\n","import type { Duration, RelativeTime } from '@datadog/browser-core'\nimport { addEventListeners, dateNow, DOM_EVENT, relativeNow } from '@datadog/browser-core'\nimport type { RumConfiguration } from '../domain/configuration'\n\n/**\n * first-input timing entry polyfill based on\n * https://github.com/GoogleChrome/web-vitals/blob/master/src/lib/polyfills/firstInputPolyfill.ts\n */\nexport function retrieveFirstInputTiming(\n  configuration: RumConfiguration,\n  callback: (timing: PerformanceEventTiming) => void\n) {\n  const startTimeStamp = dateNow()\n  let timingSent = false\n\n  const { stop: removeEventListeners } = addEventListeners(\n    configuration,\n    window,\n    [DOM_EVENT.CLICK, DOM_EVENT.MOUSE_DOWN, DOM_EVENT.KEY_DOWN, DOM_EVENT.TOUCH_START, DOM_EVENT.POINTER_DOWN],\n    (evt) => {\n      // Only count cancelable events, which should trigger behavior important to the user.\n      if (!evt.cancelable) {\n        return\n      }\n\n      // This timing will be used to compute the \"first Input delay\", which is the delta between\n      // when the system received the event (e.g. evt.timeStamp) and when it could run the callback\n      // (e.g. performance.now()).\n      const timing: PerformanceEventTiming = {\n        entryType: 'first-input',\n        processingStart: relativeNow(),\n        processingEnd: relativeNow(),\n        startTime: evt.timeStamp as RelativeTime,\n        duration: 0 as Duration, // arbitrary value to avoid nullable duration and simplify INP logic\n        name: '',\n        cancelable: false,\n        target: null,\n        toJSON: () => ({}),\n      }\n\n      if (evt.type === DOM_EVENT.POINTER_DOWN) {\n        sendTimingIfPointerIsNotCancelled(configuration, timing)\n      } else {\n        sendTiming(timing)\n      }\n    },\n    { passive: true, capture: true }\n  )\n\n  return { stop: removeEventListeners }\n\n  /**\n   * Pointer events are a special case, because they can trigger main or compositor thread behavior.\n   * We differentiate these cases based on whether or not we see a pointercancel event, which are\n   * fired when we scroll. If we're scrolling we don't need to report input delay since FID excludes\n   * scrolling and pinch/zooming.\n   */\n  function sendTimingIfPointerIsNotCancelled(configuration: RumConfiguration, timing: PerformanceEventTiming) {\n    addEventListeners(\n      configuration,\n      window,\n      [DOM_EVENT.POINTER_UP, DOM_EVENT.POINTER_CANCEL],\n      (event) => {\n        if (event.type === DOM_EVENT.POINTER_UP) {\n          sendTiming(timing)\n        }\n      },\n      { once: true }\n    )\n  }\n\n  function sendTiming(timing: PerformanceEventTiming) {\n    if (!timingSent) {\n      timingSent = true\n      removeEventListeners()\n      // In some cases the recorded delay is clearly wrong, e.g. it's negative or it's larger than\n      // the time between now and when the page was loaded.\n      // - https://github.com/GoogleChromeLabs/first-input-delay/issues/4\n      // - https://github.com/GoogleChromeLabs/first-input-delay/issues/6\n      // - https://github.com/GoogleChromeLabs/first-input-delay/issues/7\n      const delay = timing.processingStart - timing.startTime\n      if (delay >= 0 && delay < dateNow() - startTimeStamp) {\n        callback(timing)\n      }\n    }\n  }\n}\n","import type { Duration, RelativeTime, TimeoutId } from '@datadog/browser-core'\nimport { addEventListener, Observable, setTimeout, clearTimeout, monitor } from '@datadog/browser-core'\nimport type { RumConfiguration } from '../domain/configuration'\nimport { hasValidResourceEntryDuration, isAllowedRequestUrl } from '../domain/resource/resourceUtils'\nimport { retrieveFirstInputTiming } from './firstInputPolyfill'\n\ntype RumPerformanceObserverConstructor = new (callback: PerformanceObserverCallback) => RumPerformanceObserver\n\nexport interface BrowserWindow extends Window {\n  PerformanceObserver: RumPerformanceObserverConstructor\n  performance: Performance & { interactionCount?: number }\n}\n\nexport interface RumPerformanceObserver extends PerformanceObserver {\n  observe(options?: PerformanceObserverInit & { durationThreshold?: number }): void\n}\n\n// We want to use a real enum (i.e. not a const enum) here, to be able to check whether an arbitrary\n// string is an expected performance entry\n// eslint-disable-next-line no-restricted-syntax\nexport enum RumPerformanceEntryType {\n  EVENT = 'event',\n  FIRST_INPUT = 'first-input',\n  LARGEST_CONTENTFUL_PAINT = 'largest-contentful-paint',\n  LAYOUT_SHIFT = 'layout-shift',\n  LONG_TASK = 'longtask',\n  LONG_ANIMATION_FRAME = 'long-animation-frame',\n  NAVIGATION = 'navigation',\n  PAINT = 'paint',\n  RESOURCE = 'resource',\n  VISIBILITY_STATE = 'visibility-state',\n}\n\nexport interface RumPerformanceLongTaskTiming {\n  name: string\n  entryType: RumPerformanceEntryType.LONG_TASK\n  startTime: RelativeTime\n  duration: Duration\n  toJSON(): Omit<PerformanceEntry, 'toJSON'>\n}\n\nexport interface RumPerformanceResourceTiming {\n  entryType: RumPerformanceEntryType.RESOURCE\n  initiatorType: string\n  responseStatus?: number\n  name: string\n  startTime: RelativeTime\n  duration: Duration\n  fetchStart: RelativeTime\n  workerStart: RelativeTime\n  domainLookupStart: RelativeTime\n  domainLookupEnd: RelativeTime\n  connectStart: RelativeTime\n  secureConnectionStart: RelativeTime\n  connectEnd: RelativeTime\n  requestStart: RelativeTime\n  responseStart: RelativeTime\n  responseEnd: RelativeTime\n  redirectStart: RelativeTime\n  redirectEnd: RelativeTime\n  decodedBodySize: number\n  encodedBodySize: number\n  transferSize: number\n  nextHopProtocol?: string\n  renderBlockingStatus?: string\n  traceId?: string\n  deliveryType?: 'cache' | 'navigational-prefetch' | ''\n  toJSON(): Omit<PerformanceEntry, 'toJSON'>\n}\n\nexport interface RumPerformancePaintTiming {\n  entryType: RumPerformanceEntryType.PAINT\n  name: 'first-paint' | 'first-contentful-paint'\n  startTime: RelativeTime\n  toJSON(): Omit<RumPerformancePaintTiming, 'toJSON'>\n}\n\nexport interface RumPerformanceNavigationTiming extends Omit<RumPerformanceResourceTiming, 'entryType'> {\n  entryType: RumPerformanceEntryType.NAVIGATION\n  initiatorType: 'navigation'\n  name: string\n\n  domComplete: RelativeTime\n  domContentLoadedEventEnd: RelativeTime\n  domInteractive: RelativeTime\n  loadEventEnd: RelativeTime\n\n  toJSON(): Omit<RumPerformanceNavigationTiming, 'toJSON'>\n}\n\nexport interface RumLargestContentfulPaintTiming {\n  entryType: RumPerformanceEntryType.LARGEST_CONTENTFUL_PAINT\n  startTime: RelativeTime\n  size: number\n  element?: Element\n  url?: string\n  toJSON(): Omit<RumLargestContentfulPaintTiming, 'toJSON'>\n}\n\nexport interface RumFirstInputTiming {\n  entryType: RumPerformanceEntryType.FIRST_INPUT\n  startTime: RelativeTime\n  processingStart: RelativeTime\n  processingEnd: RelativeTime\n  duration: Duration\n  target?: Node\n  interactionId?: number\n  toJSON(): Omit<RumFirstInputTiming, 'toJSON'>\n}\n\nexport interface RumPerformanceEventTiming {\n  entryType: RumPerformanceEntryType.EVENT\n  startTime: RelativeTime\n  processingStart: RelativeTime\n  processingEnd: RelativeTime\n  duration: Duration\n  interactionId?: number\n  target?: Node\n  name: string\n  toJSON(): Omit<RumPerformanceEventTiming, 'toJSON'>\n}\n\nexport interface RumLayoutShiftAttribution {\n  node: Node | null\n  previousRect: DOMRectReadOnly\n  currentRect: DOMRectReadOnly\n}\n\nexport interface RumLayoutShiftTiming {\n  entryType: RumPerformanceEntryType.LAYOUT_SHIFT\n  startTime: RelativeTime\n  value: number\n  hadRecentInput: boolean\n  sources: RumLayoutShiftAttribution[]\n  toJSON(): Omit<RumLayoutShiftTiming, 'toJSON'>\n}\n\n// Documentation https://developer.chrome.com/docs/web-platform/long-animation-frames#better-attribution\nexport type RumPerformanceScriptTiming = {\n  duration: Duration\n  entryType: 'script'\n  executionStart: RelativeTime\n  forcedStyleAndLayoutDuration: Duration\n  invoker: string // e.g. \"https://static.datadoghq.com/static/c/93085/chunk-bc4db53278fd4c77a637.min.js\"\n  invokerType:\n    | 'user-callback'\n    | 'event-listener'\n    | 'resolve-promise'\n    | 'reject-promise'\n    | 'classic-script'\n    | 'module-script'\n  name: 'script'\n  pauseDuration: Duration\n  sourceCharPosition: number\n  sourceFunctionName: string\n  sourceURL: string\n  startTime: RelativeTime\n  window: Window\n  windowAttribution: string\n}\n\nexport interface RumPerformanceLongAnimationFrameTiming {\n  blockingDuration: Duration\n  duration: Duration\n  entryType: RumPerformanceEntryType.LONG_ANIMATION_FRAME\n  firstUIEventTimestamp: RelativeTime\n  name: 'long-animation-frame'\n  renderStart: RelativeTime\n  scripts: RumPerformanceScriptTiming[]\n  startTime: RelativeTime\n  styleAndLayoutStart: RelativeTime\n  toJSON(): Omit<RumPerformanceLongAnimationFrameTiming, 'toJSON'>\n}\n\nexport interface RumFirstHiddenTiming {\n  entryType: RumPerformanceEntryType.VISIBILITY_STATE\n  name: 'hidden' | 'visible'\n  startTime: RelativeTime\n  toJSON(): Omit<RumFirstHiddenTiming, 'toJSON'>\n}\n\nexport type RumPerformanceEntry =\n  | RumPerformanceResourceTiming\n  | RumPerformanceLongTaskTiming\n  | RumPerformanceLongAnimationFrameTiming\n  | RumPerformancePaintTiming\n  | RumPerformanceNavigationTiming\n  | RumLargestContentfulPaintTiming\n  | RumFirstInputTiming\n  | RumPerformanceEventTiming\n  | RumLayoutShiftTiming\n  | RumFirstHiddenTiming\n\nexport type EntryTypeToReturnType = {\n  [RumPerformanceEntryType.EVENT]: RumPerformanceEventTiming\n  [RumPerformanceEntryType.FIRST_INPUT]: RumFirstInputTiming\n  [RumPerformanceEntryType.LARGEST_CONTENTFUL_PAINT]: RumLargestContentfulPaintTiming\n  [RumPerformanceEntryType.LAYOUT_SHIFT]: RumLayoutShiftTiming\n  [RumPerformanceEntryType.PAINT]: RumPerformancePaintTiming\n  [RumPerformanceEntryType.LONG_TASK]: RumPerformanceLongTaskTiming\n  [RumPerformanceEntryType.LONG_ANIMATION_FRAME]: RumPerformanceLongAnimationFrameTiming\n  [RumPerformanceEntryType.NAVIGATION]: RumPerformanceNavigationTiming\n  [RumPerformanceEntryType.RESOURCE]: RumPerformanceResourceTiming\n  [RumPerformanceEntryType.VISIBILITY_STATE]: RumFirstHiddenTiming\n}\n\nexport function createPerformanceObservable<T extends RumPerformanceEntryType>(\n  configuration: RumConfiguration,\n  options: { type: T; buffered?: boolean; durationThreshold?: number }\n) {\n  return new Observable<Array<EntryTypeToReturnType[T]>>((observable) => {\n    if (!window.PerformanceObserver) {\n      return\n    }\n\n    const handlePerformanceEntries = (entries: PerformanceEntryList) => {\n      const rumPerformanceEntries = filterRumPerformanceEntries(entries as Array<EntryTypeToReturnType[T]>)\n      if (rumPerformanceEntries.length > 0) {\n        observable.notify(rumPerformanceEntries)\n      }\n    }\n\n    let timeoutId: TimeoutId | undefined\n    let isObserverInitializing = true\n    const observer = new PerformanceObserver(\n      monitor((entries) => {\n        // In Safari the performance observer callback is synchronous.\n        // Because the buffered performance entry list can be quite large we delay the computation to prevent the SDK from blocking the main thread on init\n        if (isObserverInitializing) {\n          timeoutId = setTimeout(() => handlePerformanceEntries(entries.getEntries()))\n        } else {\n          handlePerformanceEntries(entries.getEntries())\n        }\n      })\n    )\n    try {\n      observer.observe(options)\n    } catch {\n      // Some old browser versions (<= chrome 74 ) don't support the PerformanceObserver type and buffered options\n      // In these cases, fallback to getEntriesByType and PerformanceObserver with entryTypes\n      // TODO: remove this fallback in the next major version\n      const fallbackSupportedEntryTypes = [\n        RumPerformanceEntryType.RESOURCE,\n        RumPerformanceEntryType.NAVIGATION,\n        RumPerformanceEntryType.LONG_TASK,\n        RumPerformanceEntryType.PAINT,\n      ]\n      if (fallbackSupportedEntryTypes.includes(options.type)) {\n        if (options.buffered) {\n          timeoutId = setTimeout(() => handlePerformanceEntries(performance.getEntriesByType(options.type)))\n        }\n        try {\n          observer.observe({ entryTypes: [options.type] })\n        } catch {\n          // Old versions of Safari are throwing \"entryTypes contained only unsupported types\"\n          // errors when observing only unsupported entry types.\n          //\n          // We could use `supportPerformanceTimingEvent` to make sure we don't invoke\n          // `observer.observe` with an unsupported entry type, but Safari 11 and 12 don't support\n          // `Performance.supportedEntryTypes`, so doing so would lose support for these versions\n          // even if they do support the entry type.\n          return\n        }\n      }\n    }\n    isObserverInitializing = false\n\n    manageResourceTimingBufferFull(configuration)\n\n    let stopFirstInputTiming: (() => void) | undefined\n    if (\n      !supportPerformanceTimingEvent(RumPerformanceEntryType.FIRST_INPUT) &&\n      options.type === RumPerformanceEntryType.FIRST_INPUT\n    ) {\n      ;({ stop: stopFirstInputTiming } = retrieveFirstInputTiming(configuration, (timing) => {\n        handlePerformanceEntries([timing])\n      }))\n    }\n\n    return () => {\n      observer.disconnect()\n      if (stopFirstInputTiming) {\n        stopFirstInputTiming()\n      }\n      clearTimeout(timeoutId)\n    }\n  })\n}\n\nlet resourceTimingBufferFullListener: { stop: () => void }\nfunction manageResourceTimingBufferFull(configuration: RumConfiguration) {\n  if (!resourceTimingBufferFullListener && supportPerformanceObject() && 'addEventListener' in performance) {\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1559377\n    resourceTimingBufferFullListener = addEventListener(configuration, performance, 'resourcetimingbufferfull', () => {\n      performance.clearResourceTimings()\n    })\n  }\n  return () => {\n    resourceTimingBufferFullListener?.stop()\n  }\n}\n\nfunction supportPerformanceObject() {\n  return window.performance !== undefined && 'getEntries' in performance\n}\n\nexport function supportPerformanceTimingEvent(entryType: RumPerformanceEntryType) {\n  return (\n    window.PerformanceObserver &&\n    PerformanceObserver.supportedEntryTypes !== undefined &&\n    PerformanceObserver.supportedEntryTypes.includes(entryType)\n  )\n}\n\nfunction filterRumPerformanceEntries<T extends RumPerformanceEntryType>(entries: Array<EntryTypeToReturnType[T]>) {\n  return entries.filter((entry) => !isForbiddenResource(entry))\n}\n\nfunction isForbiddenResource(entry: RumPerformanceEntry) {\n  return (\n    entry.entryType === RumPerformanceEntryType.RESOURCE &&\n    (!isAllowedRequestUrl(entry.name) || !hasValidResourceEntryDuration(entry))\n  )\n}\n","import type { Subscription, TimeoutId, TimeStamp } from '@datadog/browser-core'\nimport { matchList, monitor, Observable, timeStampNow, setTimeout, clearTimeout } from '@datadog/browser-core'\nimport { createPerformanceObservable, RumPerformanceEntryType } from '../browser/performanceObservable'\nimport type { RumConfiguration } from './configuration'\nimport type { LifeCycle } from './lifeCycle'\nimport { LifeCycleEventType } from './lifeCycle'\n\n// Delay to wait for a page activity to validate the tracking process\nexport const PAGE_ACTIVITY_VALIDATION_DELAY = 100\n// Delay to wait after a page activity to end the tracking process\nexport const PAGE_ACTIVITY_END_DELAY = 100\n\nexport interface PageActivityEvent {\n  isBusy: boolean\n}\n\nexport type PageActivityEndEvent = { hadActivity: true; end: TimeStamp } | { hadActivity: false }\n\n/**\n * Wait for the page activity end\n *\n * Detection lifecycle:\n * ```\n *                        Wait page activity end\n *              .-------------------'--------------------.\n *              v                                        v\n *     [Wait for a page activity ]          [Wait for a maximum duration]\n *     [timeout: VALIDATION_DELAY]          [  timeout: maxDuration     ]\n *          /                  \\                           |\n *         v                    v                          |\n *  [No page activity]   [Page activity]                   |\n *         |                   |,----------------------.   |\n *         v                   v                       |   |\n *     (Discard)     [Wait for a page activity]        |   |\n *                   [   timeout: END_DELAY   ]        |   |\n *                       /                \\            |   |\n *                      v                  v           |   |\n *             [No page activity]    [Page activity]   |   |\n *                      |                 |            |   |\n *                      |                 '------------'   |\n *                      '-----------. ,--------------------'\n *                                   v\n *                                 (End)\n * ```\n *\n * Note: by assuming that maxDuration is greater than VALIDATION_DELAY, we are sure that if the\n * process is still alive after maxDuration, it has been validated.\n */\nexport function waitPageActivityEnd(\n  lifeCycle: LifeCycle,\n  domMutationObservable: Observable<void>,\n  windowOpenObservable: Observable<void>,\n  configuration: RumConfiguration,\n  pageActivityEndCallback: (event: PageActivityEndEvent) => void,\n  maxDuration?: number\n) {\n  const pageActivityObservable = createPageActivityObservable(\n    lifeCycle,\n    domMutationObservable,\n    windowOpenObservable,\n    configuration\n  )\n  return doWaitPageActivityEnd(pageActivityObservable, pageActivityEndCallback, maxDuration)\n}\n\nexport function doWaitPageActivityEnd(\n  pageActivityObservable: Observable<PageActivityEvent>,\n  pageActivityEndCallback: (event: PageActivityEndEvent) => void,\n  maxDuration?: number\n) {\n  let pageActivityEndTimeoutId: TimeoutId\n  let hasCompleted = false\n\n  const validationTimeoutId = setTimeout(\n    monitor(() => complete({ hadActivity: false })),\n    PAGE_ACTIVITY_VALIDATION_DELAY\n  )\n  const maxDurationTimeoutId =\n    maxDuration !== undefined\n      ? setTimeout(\n          monitor(() => complete({ hadActivity: true, end: timeStampNow() })),\n          maxDuration\n        )\n      : undefined\n\n  const pageActivitySubscription = pageActivityObservable.subscribe(({ isBusy }) => {\n    clearTimeout(validationTimeoutId)\n    clearTimeout(pageActivityEndTimeoutId)\n    const lastChangeTime = timeStampNow()\n    if (!isBusy) {\n      pageActivityEndTimeoutId = setTimeout(\n        monitor(() => complete({ hadActivity: true, end: lastChangeTime })),\n        PAGE_ACTIVITY_END_DELAY\n      )\n    }\n  })\n\n  const stop = () => {\n    hasCompleted = true\n    clearTimeout(validationTimeoutId)\n    clearTimeout(pageActivityEndTimeoutId)\n    clearTimeout(maxDurationTimeoutId)\n    pageActivitySubscription.unsubscribe()\n  }\n\n  function complete(event: PageActivityEndEvent) {\n    if (hasCompleted) {\n      return\n    }\n    stop()\n    pageActivityEndCallback(event)\n  }\n  return { stop }\n}\n\nexport function createPageActivityObservable(\n  lifeCycle: LifeCycle,\n  domMutationObservable: Observable<void>,\n  windowOpenObservable: Observable<void>,\n  configuration: RumConfiguration\n): Observable<PageActivityEvent> {\n  return new Observable<PageActivityEvent>((observable) => {\n    const subscriptions: Subscription[] = []\n    let firstRequestIndex: undefined | number\n    let pendingRequestsCount = 0\n\n    subscriptions.push(\n      domMutationObservable.subscribe(notifyPageActivity),\n      windowOpenObservable.subscribe(notifyPageActivity),\n      createPerformanceObservable(configuration, { type: RumPerformanceEntryType.RESOURCE }).subscribe((entries) => {\n        if (entries.some((entry) => !isExcludedUrl(configuration, entry.name))) {\n          notifyPageActivity()\n        }\n      }),\n      lifeCycle.subscribe(LifeCycleEventType.REQUEST_STARTED, (startEvent) => {\n        if (isExcludedUrl(configuration, startEvent.url)) {\n          return\n        }\n        if (firstRequestIndex === undefined) {\n          firstRequestIndex = startEvent.requestIndex\n        }\n        pendingRequestsCount += 1\n        notifyPageActivity()\n      }),\n      lifeCycle.subscribe(LifeCycleEventType.REQUEST_COMPLETED, (request) => {\n        if (\n          isExcludedUrl(configuration, request.url) ||\n          firstRequestIndex === undefined ||\n          // If the request started before the tracking start, ignore it\n          request.requestIndex < firstRequestIndex\n        ) {\n          return\n        }\n        pendingRequestsCount -= 1\n        notifyPageActivity()\n      })\n    )\n\n    return () => {\n      subscriptions.forEach((s) => s.unsubscribe())\n    }\n\n    function notifyPageActivity() {\n      observable.notify({ isBusy: pendingRequestsCount > 0 })\n    }\n  })\n}\n\nfunction isExcludedUrl(configuration: RumConfiguration, requestUrl: string): boolean {\n  return matchList(configuration.excludedActivityUrls, requestUrl)\n}\n","export function isTextNode(node: Node): node is Text {\n  return node.nodeType === Node.TEXT_NODE\n}\n\nexport function isCommentNode(node: Node): node is Comment {\n  return node.nodeType === Node.COMMENT_NODE\n}\n\nexport function isElementNode(node: Node): node is Element {\n  return node.nodeType === Node.ELEMENT_NODE\n}\n\nexport function isNodeShadowHost(node: Node): node is Element & { shadowRoot: ShadowRoot } {\n  return isElementNode(node) && Boolean(node.shadowRoot)\n}\n\nexport function isNodeShadowRoot(node: Node): node is ShadowRoot {\n  const shadowRoot = node as ShadowRoot\n  return !!shadowRoot.host && shadowRoot.nodeType === Node.DOCUMENT_FRAGMENT_NODE && isElementNode(shadowRoot.host)\n}\n\nexport function hasChildNodes(node: Node) {\n  return node.childNodes.length > 0 || isNodeShadowHost(node)\n}\n\nexport function forEachChildNodes(node: Node, callback: (child: Node) => void) {\n  let child = node.firstChild\n\n  while (child) {\n    callback(child)\n\n    child = child.nextSibling\n  }\n\n  if (isNodeShadowHost(node)) {\n    callback(node.shadowRoot)\n  }\n}\n\n/**\n * Return `host` in case if the current node is a shadow root otherwise will return the `parentNode`\n */\nexport function getParentNode(node: Node): Node | null {\n  return isNodeShadowRoot(node) ? node.host : node.parentNode\n}\n","import { DefaultPrivacyLevel } from '@datadog/browser-core'\nimport { isElementNode, getParentNode, isTextNode } from '../browser/htmlDomUtils'\n\nexport const NodePrivacyLevel = {\n  IGNORE: 'ignore',\n  HIDDEN: 'hidden',\n  ALLOW: DefaultPrivacyLevel.ALLOW,\n  MASK: DefaultPrivacyLevel.MASK,\n  MASK_USER_INPUT: DefaultPrivacyLevel.MASK_USER_INPUT,\n} as const\nexport type NodePrivacyLevel = (typeof NodePrivacyLevel)[keyof typeof NodePrivacyLevel]\n\nexport const PRIVACY_ATTR_NAME = 'data-dd-privacy'\n\n// Privacy Attrs\nexport const PRIVACY_ATTR_VALUE_ALLOW = 'allow'\nexport const PRIVACY_ATTR_VALUE_MASK = 'mask'\nexport const PRIVACY_ATTR_VALUE_MASK_USER_INPUT = 'mask-user-input'\nexport const PRIVACY_ATTR_VALUE_HIDDEN = 'hidden'\n\n// Privacy Classes - not all customers can set plain HTML attributes, so support classes too\nexport const PRIVACY_CLASS_PREFIX = 'dd-privacy-'\n\n// Private Replacement Templates\nexport const CENSORED_STRING_MARK = '***'\nexport const CENSORED_IMG_MARK = 'data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw=='\n\nexport const FORM_PRIVATE_TAG_NAMES: { [tagName: string]: true } = {\n  INPUT: true,\n  OUTPUT: true,\n  TEXTAREA: true,\n  SELECT: true,\n  OPTION: true,\n  DATALIST: true,\n  OPTGROUP: true,\n}\n\nconst TEXT_MASKING_CHAR = 'x'\n\nexport type NodePrivacyLevelCache = Map<Node, NodePrivacyLevel>\n\n/**\n * Get node privacy level by iterating over its ancestors. When the direct parent privacy level is\n * know, it is best to use something like:\n *\n * derivePrivacyLevelGivenParent(getNodeSelfPrivacyLevel(node), parentNodePrivacyLevel)\n */\nexport function getNodePrivacyLevel(\n  node: Node,\n  defaultPrivacyLevel: NodePrivacyLevel,\n  cache?: NodePrivacyLevelCache\n): NodePrivacyLevel {\n  if (cache && cache.has(node)) {\n    return cache.get(node)!\n  }\n  const parentNode = getParentNode(node)\n  const parentNodePrivacyLevel = parentNode\n    ? getNodePrivacyLevel(parentNode, defaultPrivacyLevel, cache)\n    : defaultPrivacyLevel\n  const selfNodePrivacyLevel = getNodeSelfPrivacyLevel(node)\n  const nodePrivacyLevel = reducePrivacyLevel(selfNodePrivacyLevel, parentNodePrivacyLevel)\n  if (cache) {\n    cache.set(node, nodePrivacyLevel)\n  }\n  return nodePrivacyLevel\n}\n\n/**\n * Reduces the next privacy level based on self + parent privacy levels\n */\nexport function reducePrivacyLevel(\n  childPrivacyLevel: NodePrivacyLevel | undefined,\n  parentNodePrivacyLevel: NodePrivacyLevel\n): NodePrivacyLevel {\n  switch (parentNodePrivacyLevel) {\n    // These values cannot be overridden\n    case NodePrivacyLevel.HIDDEN:\n    case NodePrivacyLevel.IGNORE:\n      return parentNodePrivacyLevel\n  }\n  switch (childPrivacyLevel) {\n    case NodePrivacyLevel.ALLOW:\n    case NodePrivacyLevel.MASK:\n    case NodePrivacyLevel.MASK_USER_INPUT:\n    case NodePrivacyLevel.HIDDEN:\n    case NodePrivacyLevel.IGNORE:\n      return childPrivacyLevel\n    default:\n      return parentNodePrivacyLevel\n  }\n}\n\n/**\n * Determines the node's own privacy level without checking for ancestors.\n */\nexport function getNodeSelfPrivacyLevel(node: Node): NodePrivacyLevel | undefined {\n  // Only Element types can have a privacy level set\n  if (!isElementNode(node)) {\n    return\n  }\n\n  // Overrules for replay purpose\n  if (node.tagName === 'BASE') {\n    return NodePrivacyLevel.ALLOW\n  }\n\n  // Overrules to enforce end-user protection\n  if (node.tagName === 'INPUT') {\n    const inputElement = node as HTMLInputElement\n    if (inputElement.type === 'password' || inputElement.type === 'email' || inputElement.type === 'tel') {\n      return NodePrivacyLevel.MASK\n    }\n    if (inputElement.type === 'hidden') {\n      return NodePrivacyLevel.MASK\n    }\n    const autocomplete = inputElement.getAttribute('autocomplete')\n    // Handle input[autocomplete=cc-number/cc-csc/cc-exp/cc-exp-month/cc-exp-year/new-password/current-password]\n    if (autocomplete && (autocomplete.startsWith('cc-') || autocomplete.endsWith('-password'))) {\n      return NodePrivacyLevel.MASK\n    }\n  }\n\n  // Check HTML privacy attributes and classes\n  if (node.matches(getPrivacySelector(NodePrivacyLevel.HIDDEN))) {\n    return NodePrivacyLevel.HIDDEN\n  }\n\n  if (node.matches(getPrivacySelector(NodePrivacyLevel.MASK))) {\n    return NodePrivacyLevel.MASK\n  }\n\n  if (node.matches(getPrivacySelector(NodePrivacyLevel.MASK_USER_INPUT))) {\n    return NodePrivacyLevel.MASK_USER_INPUT\n  }\n\n  if (node.matches(getPrivacySelector(NodePrivacyLevel.ALLOW))) {\n    return NodePrivacyLevel.ALLOW\n  }\n\n  if (shouldIgnoreElement(node)) {\n    return NodePrivacyLevel.IGNORE\n  }\n}\n\n/**\n * Helper aiming to unify `mask` and `mask-user-input` privacy levels:\n *\n * In the `mask` case, it is trivial: we should mask the element.\n *\n * In the `mask-user-input` case, we should mask the element only if it is a \"form\" element or the\n * direct parent is a form element for text nodes).\n *\n * Other `shouldMaskNode` cases are edge cases that should not matter too much (ex: should we mask a\n * node if it is ignored or hidden? it doesn't matter since it won't be serialized).\n */\nexport function shouldMaskNode(node: Node, privacyLevel: NodePrivacyLevel) {\n  switch (privacyLevel) {\n    case NodePrivacyLevel.MASK:\n    case NodePrivacyLevel.HIDDEN:\n    case NodePrivacyLevel.IGNORE:\n      return true\n    case NodePrivacyLevel.MASK_USER_INPUT:\n      return isTextNode(node) ? isFormElement(node.parentNode) : isFormElement(node)\n    default:\n      return false\n  }\n}\n\nfunction isFormElement(node: Node | null): boolean {\n  if (!node || node.nodeType !== node.ELEMENT_NODE) {\n    return false\n  }\n  const element = node as HTMLInputElement\n  if (element.tagName === 'INPUT') {\n    switch (element.type) {\n      case 'button':\n      case 'color':\n      case 'reset':\n      case 'submit':\n        return false\n    }\n  }\n  return !!FORM_PRIVATE_TAG_NAMES[element.tagName]\n}\n\n/**\n * Text censoring non-destructively maintains whitespace characters in order to preserve text shape\n * during replay.\n */\nexport const censorText = (text: string) => text.replace(/\\S/g, TEXT_MASKING_CHAR)\n\nexport function getTextContent(\n  textNode: Node,\n  ignoreWhiteSpace: boolean,\n  parentNodePrivacyLevel: NodePrivacyLevel\n): string | undefined {\n  // The parent node may not be a html element which has a tagName attribute.\n  // So just let it be undefined which is ok in this use case.\n  const parentTagName = textNode.parentElement?.tagName\n  let textContent = textNode.textContent || ''\n\n  if (ignoreWhiteSpace && !textContent.trim()) {\n    return\n  }\n\n  const nodePrivacyLevel = parentNodePrivacyLevel\n\n  const isScript = parentTagName === 'SCRIPT'\n\n  if (isScript) {\n    // For perf reasons, we don't record script (heuristic)\n    textContent = CENSORED_STRING_MARK\n  } else if (nodePrivacyLevel === NodePrivacyLevel.HIDDEN) {\n    // Should never occur, but just in case, we set to CENSORED_MARK.\n    textContent = CENSORED_STRING_MARK\n  } else if (shouldMaskNode(textNode, nodePrivacyLevel)) {\n    if (\n      // Scrambling the child list breaks text nodes for DATALIST/SELECT/OPTGROUP\n      parentTagName === 'DATALIST' ||\n      parentTagName === 'SELECT' ||\n      parentTagName === 'OPTGROUP'\n    ) {\n      if (!textContent.trim()) {\n        return\n      }\n    } else if (parentTagName === 'OPTION') {\n      // <Option> has low entropy in charset + text length, so use `CENSORED_STRING_MARK` when masked\n      textContent = CENSORED_STRING_MARK\n    } else {\n      textContent = censorText(textContent)\n    }\n  }\n  return textContent\n}\n\n/**\n * TODO: Preserve CSS element order, and record the presence of the tag, just don't render\n * We don't need this logic on the recorder side.\n * For security related meta's, customer can mask themmanually given they\n * are easy to identify in the HEAD tag.\n */\nexport function shouldIgnoreElement(element: Element): boolean {\n  if (element.nodeName === 'SCRIPT') {\n    return true\n  }\n\n  if (element.nodeName === 'LINK') {\n    const relAttribute = getLowerCaseAttribute('rel')\n    return (\n      // Link as script - Ignore only when rel=preload, modulepreload or prefetch\n      (/preload|prefetch/i.test(relAttribute) && getLowerCaseAttribute('as') === 'script') ||\n      // Favicons\n      relAttribute === 'shortcut icon' ||\n      relAttribute === 'icon'\n    )\n  }\n\n  if (element.nodeName === 'META') {\n    const nameAttribute = getLowerCaseAttribute('name')\n    const relAttribute = getLowerCaseAttribute('rel')\n    const propertyAttribute = getLowerCaseAttribute('property')\n    return (\n      // Favicons\n      /^msapplication-tile(image|color)$/.test(nameAttribute) ||\n      nameAttribute === 'application-name' ||\n      relAttribute === 'icon' ||\n      relAttribute === 'apple-touch-icon' ||\n      relAttribute === 'shortcut icon' ||\n      // Description\n      nameAttribute === 'keywords' ||\n      nameAttribute === 'description' ||\n      // Social\n      /^(og|twitter|fb):/.test(propertyAttribute) ||\n      /^(og|twitter):/.test(nameAttribute) ||\n      nameAttribute === 'pinterest' ||\n      // Robots\n      nameAttribute === 'robots' ||\n      nameAttribute === 'googlebot' ||\n      nameAttribute === 'bingbot' ||\n      // Http headers. Ex: X-UA-Compatible, Content-Type, Content-Language, cache-control,\n      // X-Translated-By\n      element.hasAttribute('http-equiv') ||\n      // Authorship\n      nameAttribute === 'author' ||\n      nameAttribute === 'generator' ||\n      nameAttribute === 'framework' ||\n      nameAttribute === 'publisher' ||\n      nameAttribute === 'progid' ||\n      /^article:/.test(propertyAttribute) ||\n      /^product:/.test(propertyAttribute) ||\n      // Verification\n      nameAttribute === 'google-site-verification' ||\n      nameAttribute === 'yandex-verification' ||\n      nameAttribute === 'csrf-token' ||\n      nameAttribute === 'p:domain_verify' ||\n      nameAttribute === 'verify-v1' ||\n      nameAttribute === 'verification' ||\n      nameAttribute === 'shopify-checkout-api-token'\n    )\n  }\n\n  function getLowerCaseAttribute(name: string) {\n    return (element.getAttribute(name) || '').toLowerCase()\n  }\n\n  return false\n}\n\nexport function getPrivacySelector(privacyLevel: string) {\n  return `[${PRIVACY_ATTR_NAME}=\"${privacyLevel}\"], .${PRIVACY_CLASS_PREFIX}${privacyLevel}`\n}\n","import { safeTruncate } from '@datadog/browser-core'\nimport { NodePrivacyLevel, getPrivacySelector } from '../privacy'\nimport type { RumConfiguration } from '../configuration'\n\n/**\n * Get the action name from the attribute 'data-dd-action-name' on the element or any of its parent.\n * It can also be retrieved from a user defined attribute.\n */\nexport const DEFAULT_PROGRAMMATIC_ACTION_NAME_ATTRIBUTE = 'data-dd-action-name'\nexport const ACTION_NAME_PLACEHOLDER = 'Masked Element'\nexport const enum ActionNameSource {\n  CUSTOM_ATTRIBUTE = 'custom_attribute',\n  MASK_PLACEHOLDER = 'mask_placeholder',\n  TEXT_CONTENT = 'text_content',\n  STANDARD_ATTRIBUTE = 'standard_attribute',\n  BLANK = 'blank',\n}\ntype ActionName = {\n  name: string\n  nameSource: ActionNameSource\n}\n\nexport function getActionNameFromElement(\n  element: Element,\n  { enablePrivacyForActionName, actionNameAttribute: userProgrammaticAttribute }: RumConfiguration,\n  nodePrivacyLevel?: NodePrivacyLevel\n): ActionName {\n  // Proceed to get the action name in two steps:\n  // * first, get the name programmatically, explicitly defined by the user.\n  // * then, if privacy is set to mask, return a placeholder for the undefined.\n  // * if privacy is not set to mask, use strategies that are known to return good results.\n  //   Those strategies will be used on the element and a few parents, but it's likely that they won't succeed at all.\n  // * if no name is found this way, use strategies returning less accurate names as a fallback.\n  //   Those are much likely to succeed.\n  const defaultActionName =\n    getActionNameFromElementProgrammatically(element, DEFAULT_PROGRAMMATIC_ACTION_NAME_ATTRIBUTE) ||\n    (userProgrammaticAttribute && getActionNameFromElementProgrammatically(element, userProgrammaticAttribute))\n\n  if (defaultActionName) {\n    return { name: defaultActionName, nameSource: ActionNameSource.CUSTOM_ATTRIBUTE }\n  } else if (nodePrivacyLevel === NodePrivacyLevel.MASK) {\n    return { name: ACTION_NAME_PLACEHOLDER, nameSource: ActionNameSource.MASK_PLACEHOLDER }\n  }\n\n  return (\n    getActionNameFromElementForStrategies(\n      element,\n      userProgrammaticAttribute,\n      priorityStrategies,\n      enablePrivacyForActionName\n    ) ||\n    getActionNameFromElementForStrategies(\n      element,\n      userProgrammaticAttribute,\n      fallbackStrategies,\n      enablePrivacyForActionName\n    ) || { name: '', nameSource: ActionNameSource.BLANK }\n  )\n}\n\nfunction getActionNameFromElementProgrammatically(targetElement: Element, programmaticAttribute: string) {\n  // We don't use getActionNameFromElementForStrategies here, because we want to consider all parents,\n  // without limit. It is up to the user to declare a relevant naming strategy.\n  const elementWithAttribute = targetElement.closest(`[${programmaticAttribute}]`)\n\n  if (!elementWithAttribute) {\n    return\n  }\n  const name = elementWithAttribute.getAttribute(programmaticAttribute)!\n  return truncate(normalizeWhitespace(name.trim()))\n}\n\ntype NameStrategy = (\n  element: Element | HTMLElement | HTMLInputElement | HTMLSelectElement,\n  userProgrammaticAttribute: string | undefined,\n  privacyEnabledActionName?: boolean\n) => ActionName | undefined | null\n\nconst priorityStrategies: NameStrategy[] = [\n  // associated LABEL text\n  (element, userProgrammaticAttribute) => {\n    if ('labels' in element && element.labels && element.labels.length > 0) {\n      return getActionNameFromTextualContent(element.labels[0], userProgrammaticAttribute)\n    }\n  },\n  // INPUT button (and associated) value\n  (element) => {\n    if (element.nodeName === 'INPUT') {\n      const input = element as HTMLInputElement\n      const type = input.getAttribute('type')\n      if (type === 'button' || type === 'submit' || type === 'reset') {\n        return { name: input.value, nameSource: ActionNameSource.TEXT_CONTENT }\n      }\n    }\n  },\n  // BUTTON, LABEL or button-like element text\n  (element, userProgrammaticAttribute, privacyEnabledActionName) => {\n    if (element.nodeName === 'BUTTON' || element.nodeName === 'LABEL' || element.getAttribute('role') === 'button') {\n      return getActionNameFromTextualContent(element, userProgrammaticAttribute, privacyEnabledActionName)\n    }\n  },\n  (element) => getActionNameFromStandardAttribute(element, 'aria-label'),\n  // associated element text designated by the aria-labelledby attribute\n  (element, userProgrammaticAttribute, privacyEnabledActionName) => {\n    const labelledByAttribute = element.getAttribute('aria-labelledby')\n    if (labelledByAttribute) {\n      return {\n        name: labelledByAttribute\n          .split(/\\s+/)\n          .map((id) => getElementById(element, id))\n          .filter((label): label is HTMLElement => Boolean(label))\n          .map((element) => getTextualContent(element, userProgrammaticAttribute, privacyEnabledActionName))\n          .join(' '),\n        nameSource: ActionNameSource.TEXT_CONTENT,\n      }\n    }\n  },\n  (element) => getActionNameFromStandardAttribute(element, 'alt'),\n  (element) => getActionNameFromStandardAttribute(element, 'name'),\n  (element) => getActionNameFromStandardAttribute(element, 'title'),\n  (element) => getActionNameFromStandardAttribute(element, 'placeholder'),\n  // SELECT first OPTION text\n  (element, userProgrammaticAttribute) => {\n    if ('options' in element && element.options.length > 0) {\n      return getActionNameFromTextualContent(element.options[0], userProgrammaticAttribute)\n    }\n  },\n]\n\nconst fallbackStrategies: NameStrategy[] = [\n  (element, userProgrammaticAttribute, privacyEnabledActionName) =>\n    getActionNameFromTextualContent(element, userProgrammaticAttribute, privacyEnabledActionName),\n]\n\n/**\n * Iterates over the target element and its parent, using the strategies list to get an action name.\n * Each strategies are applied on each element, stopping as soon as a non-empty value is returned.\n */\nconst MAX_PARENTS_TO_CONSIDER = 10\nfunction getActionNameFromElementForStrategies(\n  targetElement: Element,\n  userProgrammaticAttribute: string | undefined,\n  strategies: NameStrategy[],\n  privacyEnabledActionName?: boolean\n) {\n  let element: Element | null = targetElement\n  let recursionCounter = 0\n  while (\n    recursionCounter <= MAX_PARENTS_TO_CONSIDER &&\n    element &&\n    element.nodeName !== 'BODY' &&\n    element.nodeName !== 'HTML' &&\n    element.nodeName !== 'HEAD'\n  ) {\n    for (const strategy of strategies) {\n      const actionName = strategy(element, userProgrammaticAttribute, privacyEnabledActionName)\n      if (actionName) {\n        const { name, nameSource } = actionName\n        const trimmedName = name && name.trim()\n        if (trimmedName) {\n          return { name: truncate(normalizeWhitespace(trimmedName)), nameSource }\n        }\n      }\n    }\n    // Consider a FORM as a contextual limit to get the action name.  This is experimental and may\n    // be reconsidered in the future.\n    if (element.nodeName === 'FORM') {\n      break\n    }\n    element = element.parentElement\n    recursionCounter += 1\n  }\n}\n\nfunction normalizeWhitespace(s: string) {\n  return s.replace(/\\s+/g, ' ')\n}\n\nfunction truncate(s: string) {\n  return s.length > 100 ? `${safeTruncate(s, 100)} [...]` : s\n}\n\nfunction getElementById(refElement: Element, id: string) {\n  // Use the element ownerDocument here, because tests are executed in an iframe, so\n  // document.getElementById won't work.\n  return refElement.ownerDocument ? refElement.ownerDocument.getElementById(id) : null\n}\n\nfunction getActionNameFromStandardAttribute(element: Element | HTMLElement, attribute: string): ActionName {\n  return {\n    name: element.getAttribute(attribute) || '',\n    nameSource: ActionNameSource.STANDARD_ATTRIBUTE,\n  }\n}\n\nfunction getActionNameFromTextualContent(\n  element: Element | HTMLElement,\n  userProgrammaticAttribute: string | undefined,\n  privacyEnabledActionName?: boolean\n): ActionName {\n  return {\n    name: getTextualContent(element, userProgrammaticAttribute, privacyEnabledActionName) || '',\n    nameSource: ActionNameSource.TEXT_CONTENT,\n  }\n}\n\nfunction getTextualContent(\n  element: Element | HTMLElement,\n  userProgrammaticAttribute: string | undefined,\n  privacyEnabledActionName?: boolean\n) {\n  if ((element as HTMLElement).isContentEditable) {\n    return\n  }\n\n  if ('innerText' in element) {\n    let text = element.innerText\n\n    const removeTextFromElements = (query: string) => {\n      const list = element.querySelectorAll<Element | HTMLElement>(query)\n      for (let index = 0; index < list.length; index += 1) {\n        const element = list[index]\n        if ('innerText' in element) {\n          const textToReplace = element.innerText\n          if (textToReplace && textToReplace.trim().length > 0) {\n            text = text.replace(textToReplace, '')\n          }\n        }\n      }\n    }\n\n    // remove the text of elements with programmatic attribute value\n    removeTextFromElements(`[${DEFAULT_PROGRAMMATIC_ACTION_NAME_ATTRIBUTE}]`)\n\n    if (userProgrammaticAttribute) {\n      removeTextFromElements(`[${userProgrammaticAttribute}]`)\n    }\n\n    if (privacyEnabledActionName) {\n      // remove the text of elements with privacy override\n      removeTextFromElements(\n        `${getPrivacySelector(NodePrivacyLevel.HIDDEN)}, ${getPrivacySelector(NodePrivacyLevel.MASK)}`\n      )\n    }\n\n    return text\n  }\n\n  return element.textContent\n}\n","import { DEFAULT_PROGRAMMATIC_ACTION_NAME_ATTRIBUTE } from './action/getActionNameFromElement'\n\n/**\n * Stable attributes are attributes that are commonly used to identify parts of a UI (ex:\n * component). Those attribute values should not be generated randomly (hardcoded most of the time)\n * and stay the same across deploys. They are not necessarily unique across the document.\n */\nexport const STABLE_ATTRIBUTES = [\n  DEFAULT_PROGRAMMATIC_ACTION_NAME_ATTRIBUTE,\n  // Common test attributes (list provided by google recorder)\n  'data-testid',\n  'data-test',\n  'data-qa',\n  'data-cy',\n  'data-test-id',\n  'data-qa-id',\n  'data-testing',\n  // FullStory decorator attributes:\n  'data-component',\n  'data-element',\n  'data-source-file',\n]\n\ntype SelectorGetter = (element: Element, actionNameAttribute: string | undefined) => string | undefined\n\n// Selectors to use if they target a single element on the whole document. Those selectors are\n// considered as \"stable\" and uniquely identify an element regardless of the page state. If we find\n// one, we should consider the selector \"complete\" and stop iterating over ancestors.\nconst GLOBALLY_UNIQUE_SELECTOR_GETTERS: SelectorGetter[] = [getStableAttributeSelector, getIDSelector]\n\n// Selectors to use if they target a single element among an element descendants. Those selectors\n// are more brittle than \"globally unique\" selectors and should be combined with ancestor selectors\n// to improve specificity.\nconst UNIQUE_AMONG_CHILDREN_SELECTOR_GETTERS: SelectorGetter[] = [\n  getStableAttributeSelector,\n  getClassSelector,\n  getTagNameSelector,\n]\n\nexport function getSelectorFromElement(\n  targetElement: Element,\n  actionNameAttribute: string | undefined\n): string | undefined {\n  if (!targetElement.isConnected) {\n    // We cannot compute a selector for a detached element, as we don't have access to all of its\n    // parents, and we cannot determine if it's unique in the document.\n    return\n  }\n  let targetElementSelector: string | undefined\n  let currentElement: Element | null = targetElement\n\n  while (currentElement && currentElement.nodeName !== 'HTML') {\n    const globallyUniqueSelector = findSelector(\n      currentElement,\n      GLOBALLY_UNIQUE_SELECTOR_GETTERS,\n      isSelectorUniqueGlobally,\n      actionNameAttribute,\n      targetElementSelector\n    )\n    if (globallyUniqueSelector) {\n      return globallyUniqueSelector\n    }\n\n    const uniqueSelectorAmongChildren = findSelector(\n      currentElement,\n      UNIQUE_AMONG_CHILDREN_SELECTOR_GETTERS,\n      isSelectorUniqueAmongSiblings,\n      actionNameAttribute,\n      targetElementSelector\n    )\n    targetElementSelector =\n      uniqueSelectorAmongChildren || combineSelector(getPositionSelector(currentElement), targetElementSelector)\n\n    currentElement = currentElement.parentElement\n  }\n\n  return targetElementSelector\n}\n\nfunction isGeneratedValue(value: string) {\n  // To compute the \"URL path group\", the backend replaces every URL path parts as a question mark\n  // if it thinks the part is an identifier. The condition it uses is to checks whether a digit is\n  // present.\n  //\n  // Here, we use the same strategy: if the value contains a digit, we consider it generated. This\n  // strategy might be a bit naive and fail in some cases, but there are many fallbacks to generate\n  // CSS selectors so it should be fine most of the time.\n  return /[0-9]/.test(value)\n}\n\nfunction getIDSelector(element: Element): string | undefined {\n  if (element.id && !isGeneratedValue(element.id)) {\n    return `#${CSS.escape(element.id)}`\n  }\n}\n\nfunction getClassSelector(element: Element): string | undefined {\n  if (element.tagName === 'BODY') {\n    return\n  }\n  const classList = element.classList\n  for (let i = 0; i < classList.length; i += 1) {\n    const className = classList[i]\n    if (isGeneratedValue(className)) {\n      continue\n    }\n\n    return `${CSS.escape(element.tagName)}.${CSS.escape(className)}`\n  }\n}\n\nfunction getTagNameSelector(element: Element): string {\n  return CSS.escape(element.tagName)\n}\n\nfunction getStableAttributeSelector(element: Element, actionNameAttribute: string | undefined): string | undefined {\n  if (actionNameAttribute) {\n    const selector = getAttributeSelector(actionNameAttribute)\n    if (selector) {\n      return selector\n    }\n  }\n\n  for (const attributeName of STABLE_ATTRIBUTES) {\n    const selector = getAttributeSelector(attributeName)\n    if (selector) {\n      return selector\n    }\n  }\n\n  function getAttributeSelector(attributeName: string) {\n    if (element.hasAttribute(attributeName)) {\n      return `${CSS.escape(element.tagName)}[${attributeName}=\"${CSS.escape(element.getAttribute(attributeName)!)}\"]`\n    }\n  }\n}\n\nfunction getPositionSelector(element: Element): string {\n  let sibling = element.parentElement!.firstElementChild\n  let elementIndex = 1\n\n  while (sibling && sibling !== element) {\n    if (sibling.tagName === element.tagName) {\n      elementIndex += 1\n    }\n    sibling = sibling.nextElementSibling\n  }\n\n  return `${CSS.escape(element.tagName)}:nth-of-type(${elementIndex})`\n}\n\nfunction findSelector(\n  element: Element,\n  selectorGetters: SelectorGetter[],\n  predicate: (element: Element, elementSelector: string, childSelector: string | undefined) => boolean,\n  actionNameAttribute: string | undefined,\n  childSelector: string | undefined\n) {\n  for (const selectorGetter of selectorGetters) {\n    const elementSelector = selectorGetter(element, actionNameAttribute)\n    if (!elementSelector) {\n      continue\n    }\n    if (predicate(element, elementSelector, childSelector)) {\n      return combineSelector(elementSelector, childSelector)\n    }\n  }\n}\n\n/**\n * Check whether the selector is unique among the whole document.\n */\nfunction isSelectorUniqueGlobally(\n  element: Element,\n  elementSelector: string,\n  childSelector: string | undefined\n): boolean {\n  return element.ownerDocument.querySelectorAll(combineSelector(elementSelector, childSelector)).length === 1\n}\n\n/**\n * Check whether the selector is unique among the element siblings. In other words, it returns true\n * if \"ELEMENT_PARENT > CHILD_SELECTOR\" returns a single element.\n *\n * @param {Element} currentElement - the element being considered while iterating over the target\n * element ancestors.\n *\n * @param {string} currentElementSelector - a selector that matches the current element. That\n * selector is not a composed selector (i.e. it might be a single tag name, class name...).\n *\n * @param {string|undefined} childSelector - child selector is a selector that targets a descendant\n * of the current element. When undefined, the current element is the target element.\n *\n * # Scope selector usage\n *\n * When composed together, the final selector will be joined with `>` operators to make sure we\n * target direct descendants at each level. In this function, we'll use `querySelector` to check if\n * a selector matches descendants of the current element. But by default, the query selector match\n * elements at any level. Example:\n *\n * ```html\n * <main>\n *   <div>\n *     <span></span>\n *   </div>\n *   <marquee>\n *     <div>\n *       <span></span>\n *     </div>\n *   </marquee>\n * </main>\n * ```\n *\n * `sibling.querySelector('DIV > SPAN')` will match both span elements, so we would consider the\n * selector to be not unique, even if it is unique when we'll compose it with the parent with a `>`\n * operator (`MAIN > DIV > SPAN`).\n *\n * To avoid this, we can use the `:scope` selector to make sure the selector starts from the current\n * sibling (i.e. `sibling.querySelector('DIV:scope > SPAN')` will only match the first span).\n *\n * [1]: https://developer.mozilla.org/fr/docs/Web/CSS/:scope\n *\n * # Performance considerations\n *\n * We compute selectors in performance-critical operations (ex: during a click), so we need to make\n * sure the function is as fast as possible. We observed that naively using `querySelectorAll` to\n * check if the selector matches more than 1 element is quite expensive, so we want to avoid it.\n *\n * Because we are iterating the DOM upward and we use that function at every level, we know the\n * child selector is already unique among the current element children, so we don't need to check\n * for the current element subtree.\n *\n * Instead, we can focus on the current element siblings. If we find a single element matching the\n * selector within a sibling, we know that it's not unique. This allows us to use `querySelector`\n * (or `matches`, when the current element is the target element) instead of `querySelectorAll`.\n */\nexport function isSelectorUniqueAmongSiblings(\n  currentElement: Element,\n  currentElementSelector: string,\n  childSelector: string | undefined\n): boolean {\n  let isSiblingMatching: (sibling: Element) => boolean\n\n  if (childSelector === undefined) {\n    // If the child selector is undefined (meaning `currentElement` is the target element, not one\n    // of its ancestor), we need to use `matches` to check if the sibling is matching the selector,\n    // as `querySelector` only returns a descendant of the element.\n    isSiblingMatching = (sibling) => sibling.matches(currentElementSelector)\n  } else {\n    const scopedSelector = combineSelector(`${currentElementSelector}:scope`, childSelector)\n    isSiblingMatching = (sibling) => sibling.querySelector(scopedSelector) !== null\n  }\n\n  const parent = currentElement.parentElement!\n  let sibling = parent.firstElementChild\n  while (sibling) {\n    if (sibling !== currentElement && isSiblingMatching(sibling)) {\n      return false\n    }\n    sibling = sibling.nextElementSibling\n  }\n\n  return true\n}\n\nfunction combineSelector(parent: string, child: string | undefined): string {\n  return child ? `${parent}>${child}` : parent\n}\n","import type { TimeoutId } from '@datadog/browser-core'\nimport { ONE_SECOND, clearTimeout, setTimeout } from '@datadog/browser-core'\nimport type { Click } from './trackClickActions'\n\nexport interface ClickChain {\n  tryAppend: (click: Click) => boolean\n  stop: () => void\n}\n\nexport const MAX_DURATION_BETWEEN_CLICKS = ONE_SECOND\nexport const MAX_DISTANCE_BETWEEN_CLICKS = 100\n\nconst enum ClickChainStatus {\n  WaitingForMoreClicks,\n  WaitingForClicksToStop,\n  Finalized,\n}\n\nexport function createClickChain(firstClick: Click, onFinalize: (clicks: Click[]) => void): ClickChain {\n  const bufferedClicks: Click[] = []\n  let status = ClickChainStatus.WaitingForMoreClicks\n  let maxDurationBetweenClicksTimeoutId: TimeoutId | undefined\n  appendClick(firstClick)\n\n  function appendClick(click: Click) {\n    click.stopObservable.subscribe(tryFinalize)\n    bufferedClicks.push(click)\n    clearTimeout(maxDurationBetweenClicksTimeoutId)\n    maxDurationBetweenClicksTimeoutId = setTimeout(dontAcceptMoreClick, MAX_DURATION_BETWEEN_CLICKS)\n  }\n\n  function tryFinalize() {\n    if (status === ClickChainStatus.WaitingForClicksToStop && bufferedClicks.every((click) => click.isStopped())) {\n      status = ClickChainStatus.Finalized\n      onFinalize(bufferedClicks)\n    }\n  }\n\n  function dontAcceptMoreClick() {\n    clearTimeout(maxDurationBetweenClicksTimeoutId)\n    if (status === ClickChainStatus.WaitingForMoreClicks) {\n      status = ClickChainStatus.WaitingForClicksToStop\n      tryFinalize()\n    }\n  }\n\n  return {\n    tryAppend: (click) => {\n      if (status !== ClickChainStatus.WaitingForMoreClicks) {\n        return false\n      }\n\n      if (\n        bufferedClicks.length > 0 &&\n        !areEventsSimilar(bufferedClicks[bufferedClicks.length - 1].event, click.event)\n      ) {\n        dontAcceptMoreClick()\n        return false\n      }\n\n      appendClick(click)\n      return true\n    },\n    stop: () => {\n      dontAcceptMoreClick()\n    },\n  }\n}\n\n/**\n * Checks whether two events are similar by comparing their target, position and timestamp\n */\nfunction areEventsSimilar(first: MouseEvent, second: MouseEvent) {\n  return (\n    first.target === second.target &&\n    mouseEventDistance(first, second) <= MAX_DISTANCE_BETWEEN_CLICKS &&\n    first.timeStamp - second.timeStamp <= MAX_DURATION_BETWEEN_CLICKS\n  )\n}\n\nfunction mouseEventDistance(origin: MouseEvent, other: MouseEvent) {\n  return Math.sqrt(Math.pow(origin.clientX - other.clientX, 2) + Math.pow(origin.clientY - other.clientY, 2))\n}\n","import { addEventListener, DOM_EVENT } from '@datadog/browser-core'\nimport type { RelativeTime } from '@datadog/browser-core'\nimport type { RumConfiguration } from '../configuration'\n\nexport type ExtraPointerEventFields = {\n  target: Element\n  timeStamp: RelativeTime\n}\nexport type MouseEventOnElement = PointerEvent & ExtraPointerEventFields\n\nexport interface UserActivity {\n  selection: boolean\n  input: boolean\n  scroll: boolean\n}\nexport interface ActionEventsHooks<ClickContext> {\n  onPointerDown: (event: MouseEventOnElement) => ClickContext | undefined\n  onPointerUp: (context: ClickContext, event: MouseEventOnElement, getUserActivity: () => UserActivity) => void\n}\n\nexport function listenActionEvents<ClickContext>(\n  configuration: RumConfiguration,\n  { onPointerDown, onPointerUp }: ActionEventsHooks<ClickContext>\n) {\n  let selectionEmptyAtPointerDown: boolean\n  let userActivity: UserActivity = {\n    selection: false,\n    input: false,\n    scroll: false,\n  }\n  let clickContext: ClickContext | undefined\n\n  const listeners = [\n    addEventListener(\n      configuration,\n      window,\n      DOM_EVENT.POINTER_DOWN,\n      (event: PointerEvent) => {\n        if (isValidPointerEvent(event)) {\n          selectionEmptyAtPointerDown = isSelectionEmpty()\n          userActivity = {\n            selection: false,\n            input: false,\n            scroll: false,\n          }\n          clickContext = onPointerDown(event)\n        }\n      },\n      { capture: true }\n    ),\n\n    addEventListener(\n      configuration,\n      window,\n      DOM_EVENT.SELECTION_CHANGE,\n      () => {\n        if (!selectionEmptyAtPointerDown || !isSelectionEmpty()) {\n          userActivity.selection = true\n        }\n      },\n      { capture: true }\n    ),\n\n    addEventListener(\n      configuration,\n      window,\n      DOM_EVENT.SCROLL,\n      () => {\n        userActivity.scroll = true\n      },\n      { capture: true, passive: true }\n    ),\n\n    addEventListener(\n      configuration,\n      window,\n      DOM_EVENT.POINTER_UP,\n      (event: PointerEvent) => {\n        if (isValidPointerEvent(event) && clickContext) {\n          // Use a scoped variable to make sure the value is not changed by other clicks\n          const localUserActivity = userActivity\n          onPointerUp(clickContext, event, () => localUserActivity)\n          clickContext = undefined\n        }\n      },\n      { capture: true }\n    ),\n\n    addEventListener(\n      configuration,\n      window,\n      DOM_EVENT.INPUT,\n      () => {\n        userActivity.input = true\n      },\n      { capture: true }\n    ),\n  ]\n\n  return {\n    stop: () => {\n      listeners.forEach((listener) => listener.stop())\n    },\n  }\n}\n\nfunction isSelectionEmpty(): boolean {\n  const selection = window.getSelection()\n  return !selection || selection.isCollapsed\n}\n\nfunction isValidPointerEvent(event: PointerEvent): event is MouseEventOnElement {\n  return (\n    event.target instanceof Element &&\n    // Only consider 'primary' pointer events for now. Multi-touch support could be implemented in\n    // the future.\n    event.isPrimary !== false\n  )\n}\n","import { ONE_SECOND } from '@datadog/browser-core'\nimport { FrustrationType } from '../../rawRumEvent.types'\nimport type { Click } from './trackClickActions'\n\nconst MIN_CLICKS_PER_SECOND_TO_CONSIDER_RAGE = 3\n\nexport function computeFrustration(clicks: Click[], rageClick: Click) {\n  if (isRage(clicks)) {\n    rageClick.addFrustration(FrustrationType.RAGE_CLICK)\n    if (clicks.some(isDead)) {\n      rageClick.addFrustration(FrustrationType.DEAD_CLICK)\n    }\n    if (rageClick.hasError) {\n      rageClick.addFrustration(FrustrationType.ERROR_CLICK)\n    }\n    return { isRage: true }\n  }\n\n  const hasSelectionChanged = clicks.some((click) => click.getUserActivity().selection)\n  clicks.forEach((click) => {\n    if (click.hasError) {\n      click.addFrustration(FrustrationType.ERROR_CLICK)\n    }\n    if (\n      isDead(click) &&\n      // Avoid considering clicks part of a double-click or triple-click selections as dead clicks\n      !hasSelectionChanged\n    ) {\n      click.addFrustration(FrustrationType.DEAD_CLICK)\n    }\n  })\n  return { isRage: false }\n}\n\nexport function isRage(clicks: Click[]) {\n  if (clicks.some((click) => click.getUserActivity().selection || click.getUserActivity().scroll)) {\n    return false\n  }\n  for (let i = 0; i < clicks.length - (MIN_CLICKS_PER_SECOND_TO_CONSIDER_RAGE - 1); i += 1) {\n    if (\n      clicks[i + MIN_CLICKS_PER_SECOND_TO_CONSIDER_RAGE - 1].event.timeStamp - clicks[i].event.timeStamp <=\n      ONE_SECOND\n    ) {\n      return true\n    }\n  }\n  return false\n}\n\nconst DEAD_CLICK_EXCLUDE_SELECTOR =\n  // inputs that don't trigger a meaningful event like \"input\" when clicked, including textual\n  // inputs (using a negative selector is shorter here)\n  'input:not([type=\"checkbox\"]):not([type=\"radio\"]):not([type=\"button\"]):not([type=\"submit\"]):not([type=\"reset\"]):not([type=\"range\"]),' +\n  'textarea,' +\n  'select,' +\n  // contenteditable and their descendants don't always trigger meaningful changes when manipulated\n  '[contenteditable],' +\n  '[contenteditable] *,' +\n  // canvas, as there is no good way to detect activity occurring on them\n  'canvas,' +\n  // links that are interactive (have an href attribute) or any of their descendants, as they can\n  // open a new tab or navigate to a hash without triggering a meaningful event\n  'a[href],' +\n  'a[href] *'\n\nexport function isDead(click: Click) {\n  if (click.hasPageActivity || click.getUserActivity().input || click.getUserActivity().scroll) {\n    return false\n  }\n  return !click.event.target.matches(DEAD_CLICK_EXCLUDE_SELECTOR)\n}\n","import { elapsed, ONE_SECOND, relativeNow } from '@datadog/browser-core'\nimport type { RelativeTime } from '@datadog/browser-core'\n\n// Maximum duration for click actions\nexport const CLICK_ACTION_MAX_DURATION = 10 * ONE_SECOND\nexport const interactionSelectorCache = new Map<RelativeTime, string>()\n\nexport function getInteractionSelector(relativeTimestamp: RelativeTime) {\n  const selector = interactionSelectorCache.get(relativeTimestamp)\n  interactionSelectorCache.delete(relativeTimestamp)\n  return selector\n}\n\nexport function updateInteractionSelector(relativeTimestamp: RelativeTime, selector: string) {\n  interactionSelectorCache.set(relativeTimestamp, selector)\n  interactionSelectorCache.forEach((_, relativeTimestamp) => {\n    if (elapsed(relativeTimestamp, relativeNow()) > CLICK_ACTION_MAX_DURATION) {\n      interactionSelectorCache.delete(relativeTimestamp)\n    }\n  })\n}\n","import type { Duration, ClocksState, RelativeTime, TimeStamp, ValueHistory } from '@datadog/browser-core'\nimport {\n  timeStampNow,\n  Observable,\n  getRelativeTime,\n  ONE_MINUTE,\n  generateUUID,\n  clocksNow,\n  elapsed,\n  createValueHistory,\n} from '@datadog/browser-core'\nimport type { FrustrationType } from '../../rawRumEvent.types'\nimport { ActionType } from '../../rawRumEvent.types'\nimport type { LifeCycle } from '../lifeCycle'\nimport { LifeCycleEventType } from '../lifeCycle'\nimport { trackEventCounts } from '../trackEventCounts'\nimport { PAGE_ACTIVITY_VALIDATION_DELAY, waitPageActivityEnd } from '../waitPageActivityEnd'\nimport { getSelectorFromElement } from '../getSelectorFromElement'\nimport { getNodePrivacyLevel, NodePrivacyLevel } from '../privacy'\nimport type { RumConfiguration } from '../configuration'\nimport type { ClickChain } from './clickChain'\nimport { createClickChain } from './clickChain'\nimport { getActionNameFromElement } from './getActionNameFromElement'\nimport type { MouseEventOnElement, UserActivity } from './listenActionEvents'\nimport { listenActionEvents } from './listenActionEvents'\nimport { computeFrustration } from './computeFrustration'\nimport { CLICK_ACTION_MAX_DURATION, updateInteractionSelector } from './interactionSelectorCache'\n\ninterface ActionCounts {\n  errorCount: number\n  longTaskCount: number\n  resourceCount: number\n}\n\nexport interface ClickAction {\n  type: ActionType.CLICK\n  id: string\n  name: string\n  nameSource: string\n  target?: {\n    selector: string | undefined\n    width: number\n    height: number\n  }\n  position?: { x: number; y: number }\n  startClocks: ClocksState\n  duration?: Duration\n  counts: ActionCounts\n  event: MouseEventOnElement\n  frustrationTypes: FrustrationType[]\n  events: Event[]\n}\n\nexport interface ActionContexts {\n  findActionId: (startTime?: RelativeTime) => string | string[] | undefined\n}\n\ntype ClickActionIdHistory = ValueHistory<ClickAction['id']>\n\nexport const ACTION_CONTEXT_TIME_OUT_DELAY = 5 * ONE_MINUTE // arbitrary\n\nexport function trackClickActions(\n  lifeCycle: LifeCycle,\n  domMutationObservable: Observable<void>,\n  windowOpenObservable: Observable<void>,\n  configuration: RumConfiguration\n) {\n  const history: ClickActionIdHistory = createValueHistory({ expireDelay: ACTION_CONTEXT_TIME_OUT_DELAY })\n  const stopObservable = new Observable<void>()\n  let currentClickChain: ClickChain | undefined\n\n  lifeCycle.subscribe(LifeCycleEventType.SESSION_RENEWED, () => {\n    history.reset()\n  })\n\n  lifeCycle.subscribe(LifeCycleEventType.VIEW_ENDED, stopClickChain)\n\n  const { stop: stopActionEventsListener } = listenActionEvents<{\n    clickActionBase: ClickActionBase\n    hadActivityOnPointerDown: () => boolean\n  }>(configuration, {\n    onPointerDown: (pointerDownEvent) =>\n      processPointerDown(configuration, lifeCycle, domMutationObservable, pointerDownEvent, windowOpenObservable),\n    onPointerUp: ({ clickActionBase, hadActivityOnPointerDown }, startEvent, getUserActivity) => {\n      startClickAction(\n        configuration,\n        lifeCycle,\n        domMutationObservable,\n        windowOpenObservable,\n        history,\n        stopObservable,\n        appendClickToClickChain,\n        clickActionBase,\n        startEvent,\n        getUserActivity,\n        hadActivityOnPointerDown\n      )\n    },\n  })\n\n  const actionContexts: ActionContexts = {\n    findActionId: (startTime?: RelativeTime) => history.findAll(startTime),\n  }\n\n  return {\n    stop: () => {\n      stopClickChain()\n      stopObservable.notify()\n      stopActionEventsListener()\n    },\n    actionContexts,\n  }\n\n  function appendClickToClickChain(click: Click) {\n    if (!currentClickChain || !currentClickChain.tryAppend(click)) {\n      const rageClick = click.clone()\n      currentClickChain = createClickChain(click, (clicks) => {\n        finalizeClicks(clicks, rageClick)\n      })\n    }\n  }\n\n  function stopClickChain() {\n    if (currentClickChain) {\n      currentClickChain.stop()\n    }\n  }\n}\n\nfunction processPointerDown(\n  configuration: RumConfiguration,\n  lifeCycle: LifeCycle,\n  domMutationObservable: Observable<void>,\n  pointerDownEvent: MouseEventOnElement,\n  windowOpenObservable: Observable<void>\n) {\n  const nodePrivacyLevel = configuration.enablePrivacyForActionName\n    ? getNodePrivacyLevel(pointerDownEvent.target, configuration.defaultPrivacyLevel)\n    : NodePrivacyLevel.ALLOW\n\n  if (nodePrivacyLevel === NodePrivacyLevel.HIDDEN) {\n    return undefined\n  }\n\n  const clickActionBase = computeClickActionBase(pointerDownEvent, nodePrivacyLevel, configuration)\n\n  let hadActivityOnPointerDown = false\n\n  waitPageActivityEnd(\n    lifeCycle,\n    domMutationObservable,\n    windowOpenObservable,\n    configuration,\n    (pageActivityEndEvent) => {\n      hadActivityOnPointerDown = pageActivityEndEvent.hadActivity\n    },\n    // We don't care about the activity duration, we just want to know whether an activity did happen\n    // within the \"validation delay\" or not. Limit the duration so the callback is called sooner.\n    PAGE_ACTIVITY_VALIDATION_DELAY\n  )\n\n  return { clickActionBase, hadActivityOnPointerDown: () => hadActivityOnPointerDown }\n}\n\nfunction startClickAction(\n  configuration: RumConfiguration,\n  lifeCycle: LifeCycle,\n  domMutationObservable: Observable<void>,\n  windowOpenObservable: Observable<void>,\n  history: ClickActionIdHistory,\n  stopObservable: Observable<void>,\n  appendClickToClickChain: (click: Click) => void,\n  clickActionBase: ClickActionBase,\n  startEvent: MouseEventOnElement,\n  getUserActivity: () => UserActivity,\n  hadActivityOnPointerDown: () => boolean\n) {\n  const click = newClick(lifeCycle, history, getUserActivity, clickActionBase, startEvent)\n  appendClickToClickChain(click)\n\n  const selector = clickActionBase?.target?.selector\n  if (selector) {\n    updateInteractionSelector(startEvent.timeStamp, selector)\n  }\n\n  const { stop: stopWaitPageActivityEnd } = waitPageActivityEnd(\n    lifeCycle,\n    domMutationObservable,\n    windowOpenObservable,\n    configuration,\n    (pageActivityEndEvent) => {\n      if (pageActivityEndEvent.hadActivity && pageActivityEndEvent.end < click.startClocks.timeStamp) {\n        // If the clock is looking weird, just discard the click\n        click.discard()\n      } else {\n        if (pageActivityEndEvent.hadActivity) {\n          click.stop(pageActivityEndEvent.end)\n        } else if (hadActivityOnPointerDown()) {\n          click.stop(\n            // using the click start as activity end, so the click will have some activity but its\n            // duration will be 0 (as the activity started before the click start)\n            click.startClocks.timeStamp\n          )\n        } else {\n          click.stop()\n        }\n      }\n    },\n    CLICK_ACTION_MAX_DURATION\n  )\n\n  const viewEndedSubscription = lifeCycle.subscribe(LifeCycleEventType.VIEW_ENDED, ({ endClocks }) => {\n    click.stop(endClocks.timeStamp)\n  })\n\n  const stopSubscription = stopObservable.subscribe(() => {\n    click.stop()\n  })\n\n  click.stopObservable.subscribe(() => {\n    viewEndedSubscription.unsubscribe()\n    stopWaitPageActivityEnd()\n    stopSubscription.unsubscribe()\n  })\n}\n\ntype ClickActionBase = Pick<ClickAction, 'type' | 'name' | 'nameSource' | 'target' | 'position'>\n\nfunction computeClickActionBase(\n  event: MouseEventOnElement,\n  nodePrivacyLevel: NodePrivacyLevel,\n  configuration: RumConfiguration\n): ClickActionBase {\n  const rect = event.target.getBoundingClientRect()\n  const selector = getSelectorFromElement(event.target, configuration.actionNameAttribute)\n  if (selector) {\n    updateInteractionSelector(event.timeStamp, selector)\n  }\n  const actionName = getActionNameFromElement(event.target, configuration, nodePrivacyLevel)\n\n  return {\n    type: ActionType.CLICK,\n    target: {\n      width: Math.round(rect.width),\n      height: Math.round(rect.height),\n      selector,\n    },\n    position: {\n      // Use clientX and Y because for SVG element offsetX and Y are relatives to the <svg> element\n      x: Math.round(event.clientX - rect.left),\n      y: Math.round(event.clientY - rect.top),\n    },\n    name: actionName.name,\n    nameSource: actionName.nameSource,\n  }\n}\n\nconst enum ClickStatus {\n  // Initial state, the click is still ongoing.\n  ONGOING,\n  // The click is no more ongoing but still needs to be validated or discarded.\n  STOPPED,\n  // Final state, the click has been stopped and validated or discarded.\n  FINALIZED,\n}\n\nexport type Click = ReturnType<typeof newClick>\n\nfunction newClick(\n  lifeCycle: LifeCycle,\n  history: ClickActionIdHistory,\n  getUserActivity: () => UserActivity,\n  clickActionBase: ClickActionBase,\n  startEvent: MouseEventOnElement\n) {\n  const id = generateUUID()\n  const startClocks = clocksNow()\n  const historyEntry = history.add(id, startClocks.relative)\n  const eventCountsSubscription = trackEventCounts({\n    lifeCycle,\n    isChildEvent: (event) =>\n      event.action !== undefined &&\n      (Array.isArray(event.action.id) ? event.action.id.includes(id) : event.action.id === id),\n  })\n  let status = ClickStatus.ONGOING\n  let activityEndTime: undefined | TimeStamp\n  const frustrationTypes: FrustrationType[] = []\n  const stopObservable = new Observable<void>()\n\n  function stop(newActivityEndTime?: TimeStamp) {\n    if (status !== ClickStatus.ONGOING) {\n      return\n    }\n    activityEndTime = newActivityEndTime\n    status = ClickStatus.STOPPED\n    if (activityEndTime) {\n      historyEntry.close(getRelativeTime(activityEndTime))\n    } else {\n      historyEntry.remove()\n    }\n    eventCountsSubscription.stop()\n    stopObservable.notify()\n  }\n\n  return {\n    event: startEvent,\n    stop,\n    stopObservable,\n\n    get hasError() {\n      return eventCountsSubscription.eventCounts.errorCount > 0\n    },\n    get hasPageActivity() {\n      return activityEndTime !== undefined\n    },\n    getUserActivity,\n    addFrustration: (frustrationType: FrustrationType) => {\n      frustrationTypes.push(frustrationType)\n    },\n    startClocks,\n\n    isStopped: () => status === ClickStatus.STOPPED || status === ClickStatus.FINALIZED,\n\n    clone: () => newClick(lifeCycle, history, getUserActivity, clickActionBase, startEvent),\n\n    validate: (domEvents?: Event[]) => {\n      stop()\n      if (status !== ClickStatus.STOPPED) {\n        return\n      }\n\n      const { resourceCount, errorCount, longTaskCount } = eventCountsSubscription.eventCounts\n      const clickAction: ClickAction = {\n        duration: activityEndTime && elapsed(startClocks.timeStamp, activityEndTime),\n        startClocks,\n        id,\n        frustrationTypes,\n        counts: {\n          resourceCount,\n          errorCount,\n          longTaskCount,\n        },\n        events: domEvents ?? [startEvent],\n        event: startEvent,\n        ...clickActionBase,\n      }\n\n      lifeCycle.notify(LifeCycleEventType.AUTO_ACTION_COMPLETED, clickAction)\n      status = ClickStatus.FINALIZED\n    },\n\n    discard: () => {\n      stop()\n      status = ClickStatus.FINALIZED\n    },\n  }\n}\n\nexport function finalizeClicks(clicks: Click[], rageClick: Click) {\n  const { isRage } = computeFrustration(clicks, rageClick)\n  if (isRage) {\n    clicks.forEach((click) => click.discard())\n    rageClick.stop(timeStampNow())\n    rageClick.validate(clicks.map((click) => click.event))\n  } else {\n    rageClick.discard()\n    clicks.forEach((click) => click.validate())\n  }\n}\n","import type { ClocksState, Context, Observable } from '@datadog/browser-core'\nimport { noop, combine, toServerDuration, generateUUID } from '@datadog/browser-core'\nimport { discardNegativeDuration } from '../discardNegativeDuration'\nimport type { RawRumActionEvent } from '../../rawRumEvent.types'\nimport { ActionType, RumEventType } from '../../rawRumEvent.types'\nimport type { LifeCycle, RawRumEventCollectedData } from '../lifeCycle'\nimport { LifeCycleEventType } from '../lifeCycle'\nimport type { RumConfiguration } from '../configuration'\nimport type { CommonContext } from '../contexts/commonContext'\nimport type { RumActionEventDomainContext } from '../../domainContext.types'\nimport type { PartialRumEvent, Hooks } from '../../hooks'\nimport { HookNames } from '../../hooks'\nimport type { ActionContexts, ClickAction } from './trackClickActions'\nimport { trackClickActions } from './trackClickActions'\n\nexport type { ActionContexts }\n\nexport interface CustomAction {\n  type: ActionType.CUSTOM\n  name: string\n  startClocks: ClocksState\n  context?: Context\n  handlingStack?: string\n}\n\nexport type AutoAction = ClickAction\n\nexport function startActionCollection(\n  lifeCycle: LifeCycle,\n  hooks: Hooks,\n  domMutationObservable: Observable<void>,\n  windowOpenObservable: Observable<void>,\n  configuration: RumConfiguration\n) {\n  lifeCycle.subscribe(LifeCycleEventType.AUTO_ACTION_COMPLETED, (action) =>\n    lifeCycle.notify(LifeCycleEventType.RAW_RUM_EVENT_COLLECTED, processAction(action))\n  )\n\n  hooks.register(HookNames.Assemble, ({ startTime, eventType }): PartialRumEvent | undefined => {\n    if (\n      eventType !== RumEventType.ERROR &&\n      eventType !== RumEventType.RESOURCE &&\n      eventType !== RumEventType.LONG_TASK\n    ) {\n      return\n    }\n\n    const actionId = actionContexts.findActionId(startTime)\n    if (!actionId) {\n      return\n    }\n\n    return {\n      type: eventType,\n      action: { id: actionId },\n    }\n  })\n\n  let actionContexts: ActionContexts = { findActionId: noop as () => undefined }\n  let stop: () => void = noop\n\n  if (configuration.trackUserInteractions) {\n    ;({ actionContexts, stop } = trackClickActions(\n      lifeCycle,\n      domMutationObservable,\n      windowOpenObservable,\n      configuration\n    ))\n  }\n\n  return {\n    addAction: (action: CustomAction, savedCommonContext?: CommonContext) => {\n      lifeCycle.notify(LifeCycleEventType.RAW_RUM_EVENT_COLLECTED, {\n        savedCommonContext,\n        ...processAction(action),\n      })\n    },\n    actionContexts,\n    stop,\n  }\n}\n\nfunction processAction(action: AutoAction | CustomAction): RawRumEventCollectedData<RawRumActionEvent> {\n  const autoActionProperties = isAutoAction(action)\n    ? {\n        action: {\n          id: action.id,\n          loading_time: discardNegativeDuration(toServerDuration(action.duration)),\n          frustration: {\n            type: action.frustrationTypes,\n          },\n          error: {\n            count: action.counts.errorCount,\n          },\n          long_task: {\n            count: action.counts.longTaskCount,\n          },\n          resource: {\n            count: action.counts.resourceCount,\n          },\n        },\n        _dd: {\n          action: {\n            target: action.target,\n            position: action.position,\n            name_source: action.nameSource,\n          },\n        },\n      }\n    : undefined\n  const actionEvent: RawRumActionEvent = combine(\n    {\n      action: { id: generateUUID(), target: { name: action.name }, type: action.type },\n      date: action.startClocks.timeStamp,\n      type: RumEventType.ACTION as const,\n    },\n    autoActionProperties\n  )\n\n  const duration = isAutoAction(action) ? action.duration : undefined\n  const customerContext = !isAutoAction(action) ? action.context : undefined\n  const domainContext: RumActionEventDomainContext = isAutoAction(action)\n    ? { events: action.events }\n    : { handlingStack: action.handlingStack }\n\n  return {\n    customerContext,\n    rawRumEvent: actionEvent,\n    duration,\n    startTime: action.startClocks.relative,\n    domainContext,\n  }\n}\n\nfunction isAutoAction(action: AutoAction | CustomAction): action is AutoAction {\n  return action.type !== ActionType.CUSTOM\n}\n","import { instrumentMethod } from '../../tools/instrumentMethod'\nimport type { Observable } from '../../tools/observable'\nimport { clocksNow } from '../../tools/utils/timeUtils'\nimport type { StackTrace } from '../../tools/stackTrace/computeStackTrace'\nimport { computeStackTrace, computeStackTraceFromOnErrorMessage } from '../../tools/stackTrace/computeStackTrace'\nimport { computeRawError, isError } from './error'\nimport type { RawError } from './error.types'\nimport { ErrorHandling, ErrorSource, NonErrorPrefix } from './error.types'\n\nexport type UnhandledErrorCallback = (stackTrace: StackTrace, originalError?: any) => any\n\nexport function trackRuntimeError(errorObservable: Observable<RawError>) {\n  const handleRuntimeError = (stackTrace: StackTrace, originalError?: any) => {\n    const rawError = computeRawError({\n      stackTrace,\n      originalError,\n      startClocks: clocksNow(),\n      nonErrorPrefix: NonErrorPrefix.UNCAUGHT,\n      source: ErrorSource.SOURCE,\n      handling: ErrorHandling.UNHANDLED,\n    })\n    errorObservable.notify(rawError)\n  }\n  const { stop: stopInstrumentingOnError } = instrumentOnError(handleRuntimeError)\n  const { stop: stopInstrumentingOnUnhandledRejection } = instrumentUnhandledRejection(handleRuntimeError)\n\n  return {\n    stop: () => {\n      stopInstrumentingOnError()\n      stopInstrumentingOnUnhandledRejection()\n    },\n  }\n}\n\nexport function instrumentOnError(callback: UnhandledErrorCallback) {\n  return instrumentMethod(window, 'onerror', ({ parameters: [messageObj, url, line, column, errorObj] }) => {\n    let stackTrace\n    if (isError(errorObj)) {\n      stackTrace = computeStackTrace(errorObj)\n    } else {\n      stackTrace = computeStackTraceFromOnErrorMessage(messageObj, url, line, column)\n    }\n    callback(stackTrace, errorObj ?? messageObj)\n  })\n}\n\nexport function instrumentUnhandledRejection(callback: UnhandledErrorCallback) {\n  return instrumentMethod(window, 'onunhandledrejection', ({ parameters: [e] }) => {\n    const reason = e.reason || 'Empty reason'\n    const stack = computeStackTrace(reason)\n    callback(stack, reason)\n  })\n}\n","import { flattenErrorCauses, isError, tryToGetFingerprint, tryToGetErrorContext } from '../error/error'\nimport { mergeObservables, Observable } from '../../tools/observable'\nimport { ConsoleApiName, globalConsole } from '../../tools/display'\nimport { callMonitored } from '../../tools/monitor'\nimport { sanitize } from '../../tools/serialisation/sanitize'\nimport { jsonStringify } from '../../tools/serialisation/jsonStringify'\nimport type { RawError } from '../error/error.types'\nimport { ErrorHandling, ErrorSource } from '../error/error.types'\nimport { computeStackTrace } from '../../tools/stackTrace/computeStackTrace'\nimport { createHandlingStack, toStackTraceString, formatErrorMessage } from '../../tools/stackTrace/handlingStack'\nimport { clocksNow } from '../../tools/utils/timeUtils'\n\nexport type ConsoleLog = NonErrorConsoleLog | ErrorConsoleLog\n\ninterface NonErrorConsoleLog extends ConsoleLogBase {\n  api: Exclude<ConsoleApiName, typeof ConsoleApiName.error>\n  error: undefined\n}\n\nexport interface ErrorConsoleLog extends ConsoleLogBase {\n  api: typeof ConsoleApiName.error\n  error: RawError\n}\n\ninterface ConsoleLogBase {\n  message: string\n  api: ConsoleApiName\n  handlingStack: string\n}\n\ntype ConsoleLogForApi<T extends ConsoleApiName> = T extends typeof ConsoleApiName.error\n  ? ErrorConsoleLog\n  : NonErrorConsoleLog\n\nlet consoleObservablesByApi: { [K in ConsoleApiName]?: Observable<ConsoleLogForApi<K>> } = {}\n\nexport function initConsoleObservable<T extends ConsoleApiName[]>(apis: T): Observable<ConsoleLogForApi<T[number]>> {\n  const consoleObservables = apis.map((api) => {\n    if (!consoleObservablesByApi[api]) {\n      consoleObservablesByApi[api] = createConsoleObservable(api) as any // we are sure that the observable created for this api will yield the expected ConsoleLog type\n    }\n    return consoleObservablesByApi[api] as unknown as Observable<ConsoleLogForApi<T[number]>>\n  })\n\n  return mergeObservables(...consoleObservables)\n}\n\nexport function resetConsoleObservable() {\n  consoleObservablesByApi = {}\n}\n\nfunction createConsoleObservable(api: ConsoleApiName) {\n  return new Observable<ConsoleLog>((observable) => {\n    const originalConsoleApi = globalConsole[api]\n\n    globalConsole[api] = (...params: unknown[]) => {\n      originalConsoleApi.apply(console, params)\n      const handlingStack = createHandlingStack('console error')\n\n      callMonitored(() => {\n        observable.notify(buildConsoleLog(params, api, handlingStack))\n      })\n    }\n\n    return () => {\n      globalConsole[api] = originalConsoleApi\n    }\n  })\n}\n\nfunction buildConsoleLog(params: unknown[], api: ConsoleApiName, handlingStack: string): ConsoleLog {\n  const message = params.map((param) => formatConsoleParameters(param)).join(' ')\n  let error: RawError | undefined\n\n  if (api === ConsoleApiName.error) {\n    const firstErrorParam = params.find(isError)\n\n    error = {\n      stack: firstErrorParam ? toStackTraceString(computeStackTrace(firstErrorParam)) : undefined,\n      fingerprint: tryToGetFingerprint(firstErrorParam),\n      causes: firstErrorParam ? flattenErrorCauses(firstErrorParam, 'console') : undefined,\n      startClocks: clocksNow(),\n      message,\n      source: ErrorSource.CONSOLE,\n      handling: ErrorHandling.HANDLED,\n      handlingStack,\n      context: tryToGetErrorContext(firstErrorParam),\n    }\n  }\n\n  return {\n    api,\n    message,\n    error,\n    handlingStack,\n  } as ConsoleLog\n}\n\nfunction formatConsoleParameters(param: unknown) {\n  if (typeof param === 'string') {\n    return sanitize(param)\n  }\n  if (isError(param)) {\n    return formatErrorMessage(computeStackTrace(param))\n  }\n  return jsonStringify(sanitize(param), undefined, 2)\n}\n","import { toStackTraceString } from '../../tools/stackTrace/handlingStack'\nimport { monitor } from '../../tools/monitor'\nimport { mergeObservables, Observable } from '../../tools/observable'\nimport { addEventListener, DOM_EVENT } from '../../browser/addEventListener'\nimport { safeTruncate } from '../../tools/utils/stringUtils'\nimport type { Configuration } from '../configuration'\nimport type { RawError } from '../error/error.types'\nimport { ErrorHandling, ErrorSource } from '../error/error.types'\nimport { clocksNow } from '../../tools/utils/timeUtils'\nimport type { ReportType, InterventionReport, DeprecationReport } from './browser.types'\n\nexport const RawReportType = {\n  intervention: 'intervention',\n  deprecation: 'deprecation',\n  cspViolation: 'csp_violation',\n} as const\n\nexport type RawReportType = (typeof RawReportType)[keyof typeof RawReportType]\n\nexport type RawReportError = RawError & {\n  originalError: SecurityPolicyViolationEvent | DeprecationReport | InterventionReport\n}\n\nexport function initReportObservable(configuration: Configuration, apis: RawReportType[]) {\n  const observables: Array<Observable<RawReportError>> = []\n\n  if (apis.includes(RawReportType.cspViolation)) {\n    observables.push(createCspViolationReportObservable(configuration))\n  }\n\n  const reportTypes = apis.filter((api: RawReportType): api is ReportType => api !== RawReportType.cspViolation)\n  if (reportTypes.length) {\n    observables.push(createReportObservable(reportTypes))\n  }\n\n  return mergeObservables(...observables)\n}\n\nfunction createReportObservable(reportTypes: ReportType[]) {\n  return new Observable<RawReportError>((observable) => {\n    if (!window.ReportingObserver) {\n      return\n    }\n\n    const handleReports = monitor((reports: Array<DeprecationReport | InterventionReport>, _: ReportingObserver) =>\n      reports.forEach((report) => observable.notify(buildRawReportErrorFromReport(report)))\n    ) as ReportingObserverCallback\n\n    const observer = new window.ReportingObserver(handleReports, {\n      types: reportTypes,\n      buffered: true,\n    })\n\n    observer.observe()\n    return () => {\n      observer.disconnect()\n    }\n  })\n}\n\nfunction createCspViolationReportObservable(configuration: Configuration) {\n  return new Observable<RawReportError>((observable) => {\n    const { stop } = addEventListener(configuration, document, DOM_EVENT.SECURITY_POLICY_VIOLATION, (event) => {\n      observable.notify(buildRawReportErrorFromCspViolation(event))\n    })\n\n    return stop\n  })\n}\n\nfunction buildRawReportErrorFromReport(report: DeprecationReport | InterventionReport): RawReportError {\n  const { type, body } = report\n\n  return buildRawReportError({\n    type: body.id,\n    message: `${type}: ${body.message}`,\n    originalError: report,\n    stack: buildStack(body.id, body.message, body.sourceFile, body.lineNumber, body.columnNumber),\n  })\n}\n\nfunction buildRawReportErrorFromCspViolation(event: SecurityPolicyViolationEvent): RawReportError {\n  const message = `'${event.blockedURI}' blocked by '${event.effectiveDirective}' directive`\n  return buildRawReportError({\n    type: event.effectiveDirective,\n    message: `${RawReportType.cspViolation}: ${message}`,\n    originalError: event,\n    csp: {\n      disposition: event.disposition,\n    },\n    stack: buildStack(\n      event.effectiveDirective,\n      event.originalPolicy\n        ? `${message} of the policy \"${safeTruncate(event.originalPolicy, 100, '...')}\"`\n        : 'no policy',\n      event.sourceFile,\n      event.lineNumber,\n      event.columnNumber\n    ),\n  })\n}\n\nfunction buildRawReportError(partial: Omit<RawReportError, 'startClocks' | 'source' | 'handling'>): RawReportError {\n  return {\n    startClocks: clocksNow(),\n    source: ErrorSource.REPORT,\n    handling: ErrorHandling.UNHANDLED,\n    ...partial,\n  }\n}\n\nfunction buildStack(\n  name: string,\n  message: string,\n  sourceFile: string | null,\n  lineNumber: number | null,\n  columnNumber: number | null\n): string | undefined {\n  return sourceFile\n    ? toStackTraceString({\n        name,\n        message,\n        stack: [\n          {\n            func: '?',\n            url: sourceFile,\n            line: lineNumber ?? undefined,\n            column: columnNumber ?? undefined,\n          },\n        ],\n      })\n    : undefined\n}\n","import type { Context, RawError, ClocksState } from '@datadog/browser-core'\nimport {\n  ErrorSource,\n  generateUUID,\n  computeRawError,\n  ErrorHandling,\n  computeStackTrace,\n  Observable,\n  trackRuntimeError,\n  NonErrorPrefix,\n  isError,\n  combine,\n} from '@datadog/browser-core'\nimport type { RumConfiguration } from '../configuration'\nimport type { RawRumErrorEvent } from '../../rawRumEvent.types'\nimport { RumEventType } from '../../rawRumEvent.types'\nimport type { LifeCycle, RawRumEventCollectedData } from '../lifeCycle'\nimport { LifeCycleEventType } from '../lifeCycle'\nimport type { CommonContext } from '../contexts/commonContext'\nimport type { RumErrorEventDomainContext } from '../../domainContext.types'\nimport { trackConsoleError } from './trackConsoleError'\nimport { trackReportError } from './trackReportError'\n\nexport interface ProvidedError {\n  startClocks: ClocksState\n  error: unknown\n  context?: Context\n  handlingStack: string\n  componentStack?: string\n}\n\nexport function startErrorCollection(lifeCycle: LifeCycle, configuration: RumConfiguration) {\n  const errorObservable = new Observable<RawError>()\n\n  trackConsoleError(errorObservable)\n  trackRuntimeError(errorObservable)\n  trackReportError(configuration, errorObservable)\n\n  errorObservable.subscribe((error) => lifeCycle.notify(LifeCycleEventType.RAW_ERROR_COLLECTED, { error }))\n\n  return doStartErrorCollection(lifeCycle)\n}\n\nexport function doStartErrorCollection(lifeCycle: LifeCycle) {\n  lifeCycle.subscribe(LifeCycleEventType.RAW_ERROR_COLLECTED, ({ error, customerContext, savedCommonContext }) => {\n    customerContext = combine(error.context, customerContext)\n    lifeCycle.notify(LifeCycleEventType.RAW_RUM_EVENT_COLLECTED, {\n      customerContext,\n      savedCommonContext,\n      ...processError(error),\n    })\n  })\n\n  return {\n    addError: (\n      { error, handlingStack, componentStack, startClocks, context: customerContext }: ProvidedError,\n      savedCommonContext?: CommonContext\n    ) => {\n      const stackTrace = isError(error) ? computeStackTrace(error) : undefined\n      const rawError = computeRawError({\n        stackTrace,\n        originalError: error,\n        handlingStack,\n        componentStack,\n        startClocks,\n        nonErrorPrefix: NonErrorPrefix.PROVIDED,\n        source: ErrorSource.CUSTOM,\n        handling: ErrorHandling.HANDLED,\n      })\n\n      lifeCycle.notify(LifeCycleEventType.RAW_ERROR_COLLECTED, {\n        customerContext,\n        savedCommonContext,\n        error: rawError,\n      })\n    },\n  }\n}\n\nfunction processError(error: RawError): RawRumEventCollectedData<RawRumErrorEvent> {\n  const rawRumEvent: RawRumErrorEvent = {\n    date: error.startClocks.timeStamp,\n    error: {\n      id: generateUUID(),\n      message: error.message,\n      source: error.source,\n      stack: error.stack,\n      handling_stack: error.handlingStack,\n      component_stack: error.componentStack,\n      type: error.type,\n      handling: error.handling,\n      causes: error.causes,\n      source_type: 'browser',\n      fingerprint: error.fingerprint,\n      csp: error.csp,\n    },\n    type: RumEventType.ERROR as const,\n  }\n\n  const domainContext: RumErrorEventDomainContext = {\n    error: error.originalError,\n    handlingStack: error.handlingStack,\n  }\n\n  return {\n    rawRumEvent,\n    startTime: error.startClocks.relative,\n    domainContext,\n  }\n}\n","import type { Observable, RawError } from '@datadog/browser-core'\nimport { initConsoleObservable, ConsoleApiName } from '@datadog/browser-core'\n\nexport function trackConsoleError(errorObservable: Observable<RawError>) {\n  const subscription = initConsoleObservable([ConsoleApiName.error]).subscribe((consoleLog) =>\n    errorObservable.notify(consoleLog.error)\n  )\n\n  return {\n    stop: () => {\n      subscription.unsubscribe()\n    },\n  }\n}\n","import type { Observable, RawError } from '@datadog/browser-core'\nimport { initReportObservable, RawReportType } from '@datadog/browser-core'\nimport type { RumConfiguration } from '../configuration'\n\nexport function trackReportError(configuration: RumConfiguration, errorObservable: Observable<RawError>) {\n  const subscription = initReportObservable(configuration, [\n    RawReportType.cspViolation,\n    RawReportType.intervention,\n  ]).subscribe((rawError) => errorObservable.notify(rawError))\n\n  return {\n    stop: () => {\n      subscription.unsubscribe()\n    },\n  }\n}\n","import { ONE_SECOND } from './utils/timeUtils'\nimport { requestIdleCallback } from './requestIdleCallback'\n\n/**\n * Maximum delay before starting to execute tasks in the queue. We don't want to wait too long\n * before running tasks, as it might hurt reliability (ex: if the user navigates away, we might lose\n * the opportunity to send some data). We also don't want to run tasks too often, as it might hurt\n * performance.\n */\nconst IDLE_CALLBACK_TIMEOUT = ONE_SECOND\n\n/**\n * Maximum amount of time allocated to running tasks when a timeout (`IDLE_CALLBACK_TIMEOUT`) is\n * reached. We should not run tasks for too long as it will hurt performance, but we should still\n * run some tasks to avoid postponing them forever.\n *\n * Rational: Running tasks for 30ms every second (IDLE_CALLBACK_TIMEOUT) should be acceptable.\n */\nexport const MAX_EXECUTION_TIME_ON_TIMEOUT = 30\n\nexport interface TaskQueue {\n  push(task: Task): void\n}\n\ntype Task = () => void\n\nexport function createTaskQueue(): TaskQueue {\n  const pendingTasks: Task[] = []\n\n  function run(deadline: IdleDeadline) {\n    let executionTimeRemaining: () => number\n    if (deadline.didTimeout) {\n      const start = performance.now()\n      executionTimeRemaining = () => MAX_EXECUTION_TIME_ON_TIMEOUT - (performance.now() - start)\n    } else {\n      executionTimeRemaining = deadline.timeRemaining.bind(deadline)\n    }\n\n    while (executionTimeRemaining() > 0 && pendingTasks.length) {\n      pendingTasks.shift()!()\n    }\n\n    if (pendingTasks.length) {\n      scheduleNextRun()\n    }\n  }\n\n  function scheduleNextRun() {\n    requestIdleCallback(run, { timeout: IDLE_CALLBACK_TIMEOUT })\n  }\n\n  return {\n    push(task) {\n      if (pendingTasks.push(task) === 1) {\n        scheduleNextRun()\n      }\n    },\n  }\n}\n","import type { Duration, RelativeTime } from '@datadog/browser-core'\nimport { addDuration } from '@datadog/browser-core'\nimport type { RumPerformanceResourceTiming } from '../../browser/performanceObservable'\nimport type { RequestCompleteEvent } from '../requestCollection'\nimport { hasValidResourceEntryDuration, hasValidResourceEntryTimings } from './resourceUtils'\n\ninterface Timing {\n  startTime: RelativeTime\n  duration: Duration\n}\n\nconst alreadyMatchedEntries = new WeakSet<PerformanceEntry>()\n\n/**\n * Look for corresponding timing in resource timing buffer\n *\n * Observations:\n * - Timing (start, end) are nested inside the request (start, end)\n * - Some timing can be not exactly nested, being off by < 1 ms\n *\n * Strategy:\n * - from valid nested entries (with 1 ms error margin)\n * - filter out timing that were already matched to a request\n * - then, if a single timing match, return the timing\n * - otherwise we can't decide, return undefined\n */\nexport function matchRequestResourceEntry(request: RequestCompleteEvent) {\n  if (!performance || !('getEntriesByName' in performance)) {\n    return\n  }\n  const sameNameEntries = performance.getEntriesByName(request.url, 'resource') as RumPerformanceResourceTiming[]\n\n  if (!sameNameEntries.length || !('toJSON' in sameNameEntries[0])) {\n    return\n  }\n\n  const candidates = sameNameEntries\n    .filter((entry) => !alreadyMatchedEntries.has(entry))\n    .filter((entry) => hasValidResourceEntryDuration(entry) && hasValidResourceEntryTimings(entry))\n    .filter((entry) =>\n      isBetween(\n        entry,\n        request.startClocks.relative,\n        endTime({ startTime: request.startClocks.relative, duration: request.duration })\n      )\n    )\n\n  if (candidates.length === 1) {\n    alreadyMatchedEntries.add(candidates[0])\n\n    return candidates[0].toJSON() as RumPerformanceResourceTiming\n  }\n\n  return\n}\n\nfunction endTime(timing: Timing) {\n  return addDuration(timing.startTime, timing.duration)\n}\n\nfunction isBetween(timing: Timing, start: RelativeTime, end: RelativeTime) {\n  const errorMargin = 1 as Duration\n  return timing.startTime >= start - errorMargin && endTime(timing) <= addDuration(end, errorMargin)\n}\n","import type { TimeStamp } from '@datadog/browser-core'\nimport { dateNow, findCommaSeparatedValue, ONE_MINUTE } from '@datadog/browser-core'\nimport { isCommentNode, isTextNode } from '../../browser/htmlDomUtils'\n\ninterface DocumentTraceData {\n  traceId: string\n  traceTime: TimeStamp\n}\n\nexport const INITIAL_DOCUMENT_OUTDATED_TRACE_ID_THRESHOLD = 2 * ONE_MINUTE\n\nexport function getDocumentTraceId(document: Document): string | undefined {\n  const data = getDocumentTraceDataFromMeta(document) || getDocumentTraceDataFromComment(document)\n\n  if (!data || data.traceTime <= dateNow() - INITIAL_DOCUMENT_OUTDATED_TRACE_ID_THRESHOLD) {\n    return undefined\n  }\n\n  return data.traceId\n}\n\nexport function getDocumentTraceDataFromMeta(document: Document): DocumentTraceData | undefined {\n  const traceIdMeta = document.querySelector<HTMLMetaElement>('meta[name=dd-trace-id]')\n  const traceTimeMeta = document.querySelector<HTMLMetaElement>('meta[name=dd-trace-time]')\n  return createDocumentTraceData(traceIdMeta && traceIdMeta.content, traceTimeMeta && traceTimeMeta.content)\n}\n\nexport function getDocumentTraceDataFromComment(document: Document): DocumentTraceData | undefined {\n  const comment = findTraceComment(document)\n  if (!comment) {\n    return undefined\n  }\n  return createDocumentTraceData(\n    findCommaSeparatedValue(comment, 'trace-id'),\n    findCommaSeparatedValue(comment, 'trace-time')\n  )\n}\n\nexport function createDocumentTraceData(\n  traceId: string | undefined | null,\n  rawTraceTime: string | undefined | null\n): DocumentTraceData | undefined {\n  const traceTime = rawTraceTime && (Number(rawTraceTime) as TimeStamp)\n  if (!traceId || !traceTime) {\n    return undefined\n  }\n\n  return {\n    traceId,\n    traceTime,\n  }\n}\n\nexport function findTraceComment(document: Document): string | undefined {\n  // 1. Try to find the comment as a direct child of the document\n  // Note: TSLint advises to use a 'for of', but TS doesn't allow to use 'for of' if the iterated\n  // value is not an array or string (here, a NodeList).\n  for (let i = 0; i < document.childNodes.length; i += 1) {\n    const comment = getTraceCommentFromNode(document.childNodes[i])\n    if (comment) {\n      return comment\n    }\n  }\n\n  // 2. If the comment is placed after the </html> tag, but have some space or new lines before or\n  // after, the DOM parser will lift it (and the surrounding text) at the end of the <body> tag.\n  // Try to look for the comment at the end of the <body> by by iterating over its child nodes in\n  // reverse order, stopping if we come across a non-text node.\n  if (document.body) {\n    for (let i = document.body.childNodes.length - 1; i >= 0; i -= 1) {\n      const node = document.body.childNodes[i]\n      const comment = getTraceCommentFromNode(node)\n      if (comment) {\n        return comment\n      }\n      if (!isTextNode(node)) {\n        break\n      }\n    }\n  }\n}\n\nfunction getTraceCommentFromNode(node: Node | null) {\n  if (node && isCommentNode(node)) {\n    const match = /^\\s*DATADOG;(.*?)\\s*$/.exec(node.data)\n    if (match) {\n      return match[1]\n    }\n  }\n}\n","import type { RelativeTime, TimeStamp } from '@datadog/browser-core'\nimport { getRelativeTime, isNumber } from '@datadog/browser-core'\nimport {\n  RumPerformanceEntryType,\n  supportPerformanceTimingEvent,\n  type RumPerformanceNavigationTiming,\n} from './performanceObservable'\n\nexport function getNavigationEntry(): RumPerformanceNavigationTiming {\n  if (supportPerformanceTimingEvent(RumPerformanceEntryType.NAVIGATION)) {\n    const navigationEntry = performance.getEntriesByType(\n      RumPerformanceEntryType.NAVIGATION\n    )[0] as unknown as RumPerformanceNavigationTiming\n    if (navigationEntry) {\n      return navigationEntry\n    }\n  }\n\n  const timings = computeTimingsFromDeprecatedPerformanceTiming()\n  const entry: RumPerformanceNavigationTiming = {\n    entryType: RumPerformanceEntryType.NAVIGATION as const,\n    initiatorType: 'navigation' as const,\n    name: window.location.href,\n    startTime: 0 as RelativeTime,\n    duration: timings.loadEventEnd,\n    decodedBodySize: 0,\n    encodedBodySize: 0,\n    transferSize: 0,\n    workerStart: 0 as RelativeTime,\n    toJSON: () => ({ ...entry, toJSON: undefined }),\n    ...timings,\n  }\n\n  return entry\n}\n\nexport type TimingsFromDeprecatedPerformanceTiming = {\n  -readonly [key in keyof Omit<PerformanceTiming, 'toJSON'>]: RelativeTime\n}\n\nexport function computeTimingsFromDeprecatedPerformanceTiming() {\n  const result: Partial<TimingsFromDeprecatedPerformanceTiming> = {}\n  const timing = performance.timing\n\n  for (const key in timing) {\n    if (isNumber(timing[key as keyof PerformanceTiming])) {\n      const numberKey = key as keyof TimingsFromDeprecatedPerformanceTiming\n      const timingElement = timing[numberKey] as TimeStamp\n      result[numberKey] = timingElement === 0 ? (0 as RelativeTime) : getRelativeTime(timingElement)\n    }\n  }\n  return result as TimingsFromDeprecatedPerformanceTiming\n}\n","import { runOnReadyState } from '@datadog/browser-core'\nimport { RumPerformanceEntryType } from '../../browser/performanceObservable'\nimport type { RumPerformanceResourceTiming } from '../../browser/performanceObservable'\nimport type { RumConfiguration } from '../configuration'\nimport { getDocumentTraceId } from '../tracing/getDocumentTraceId'\nimport { getNavigationEntry } from '../../browser/performanceUtils'\nimport { FAKE_INITIAL_DOCUMENT } from './resourceUtils'\n\nexport function retrieveInitialDocumentResourceTiming(\n  configuration: RumConfiguration,\n  callback: (timing: RumPerformanceResourceTiming) => void,\n  getNavigationEntryImpl = getNavigationEntry\n) {\n  runOnReadyState(configuration, 'interactive', () => {\n    const navigationEntry = getNavigationEntryImpl()\n    const entry: RumPerformanceResourceTiming = Object.assign(navigationEntry.toJSON(), {\n      entryType: RumPerformanceEntryType.RESOURCE as const,\n      initiatorType: FAKE_INITIAL_DOCUMENT,\n      // The ResourceTiming duration entry should be `responseEnd - startTime`. With\n      // NavigationTiming entries, `startTime` is always 0, so set it to `responseEnd`.\n      duration: navigationEntry.responseEnd,\n      traceId: getDocumentTraceId(document),\n      toJSON: () => ({ ...entry, toJSON: undefined }),\n    })\n    callback(entry)\n  })\n}\n","import type { ClocksState, Duration } from '@datadog/browser-core'\nimport {\n  combine,\n  generateUUID,\n  RequestType,\n  ResourceType,\n  toServerDuration,\n  relativeToClocks,\n  createTaskQueue,\n} from '@datadog/browser-core'\nimport type { RumConfiguration } from '../configuration'\nimport {\n  RumPerformanceEntryType,\n  createPerformanceObservable,\n  type RumPerformanceResourceTiming,\n} from '../../browser/performanceObservable'\nimport type { RumXhrResourceEventDomainContext, RumFetchResourceEventDomainContext } from '../../domainContext.types'\nimport type { RawRumResourceEvent } from '../../rawRumEvent.types'\nimport { RumEventType } from '../../rawRumEvent.types'\nimport { LifeCycleEventType } from '../lifeCycle'\nimport type { RawRumEventCollectedData, LifeCycle } from '../lifeCycle'\nimport type { RequestCompleteEvent } from '../requestCollection'\nimport type { PageStateHistory } from '../contexts/pageStateHistory'\nimport { PageState } from '../contexts/pageStateHistory'\nimport { createSpanIdentifier } from '../tracing/identifier'\nimport { matchRequestResourceEntry } from './matchRequestResourceEntry'\nimport {\n  computeResourceEntryDetails,\n  computeResourceEntryDuration,\n  computeResourceEntryType,\n  computeResourceEntrySize,\n  computeResourceEntryProtocol,\n  computeResourceEntryDeliveryType,\n  isResourceEntryRequestType,\n  isLongDataUrl,\n  sanitizeDataUrl,\n} from './resourceUtils'\nimport { retrieveInitialDocumentResourceTiming } from './retrieveInitialDocumentResourceTiming'\n\nexport function startResourceCollection(\n  lifeCycle: LifeCycle,\n  configuration: RumConfiguration,\n  pageStateHistory: PageStateHistory,\n  taskQueue = createTaskQueue(),\n  retrieveInitialDocumentResourceTimingImpl = retrieveInitialDocumentResourceTiming\n) {\n  lifeCycle.subscribe(LifeCycleEventType.REQUEST_COMPLETED, (request: RequestCompleteEvent) => {\n    handleResource(() => processRequest(request, configuration, pageStateHistory))\n  })\n\n  const performanceResourceSubscription = createPerformanceObservable(configuration, {\n    type: RumPerformanceEntryType.RESOURCE,\n    buffered: true,\n  }).subscribe((entries) => {\n    for (const entry of entries) {\n      if (!isResourceEntryRequestType(entry)) {\n        handleResource(() => processResourceEntry(entry, configuration))\n      }\n    }\n  })\n\n  retrieveInitialDocumentResourceTimingImpl(configuration, (timing) => {\n    handleResource(() => processResourceEntry(timing, configuration))\n  })\n\n  function handleResource(computeRawEvent: () => RawRumEventCollectedData<RawRumResourceEvent> | undefined) {\n    taskQueue.push(() => {\n      const rawEvent = computeRawEvent()\n      if (rawEvent) {\n        lifeCycle.notify(LifeCycleEventType.RAW_RUM_EVENT_COLLECTED, rawEvent)\n      }\n    })\n  }\n\n  return {\n    stop: () => {\n      performanceResourceSubscription.unsubscribe()\n    },\n  }\n}\n\nfunction processRequest(\n  request: RequestCompleteEvent,\n  configuration: RumConfiguration,\n  pageStateHistory: PageStateHistory\n): RawRumEventCollectedData<RawRumResourceEvent> | undefined {\n  const matchingTiming = matchRequestResourceEntry(request)\n  const startClocks = matchingTiming ? relativeToClocks(matchingTiming.startTime) : request.startClocks\n  const tracingInfo = computeRequestTracingInfo(request, configuration)\n  if (!configuration.trackResources && !tracingInfo) {\n    return\n  }\n\n  const type = request.type === RequestType.XHR ? ResourceType.XHR : ResourceType.FETCH\n\n  const correspondingTimingOverrides = matchingTiming ? computeResourceEntryMetrics(matchingTiming) : undefined\n\n  const duration = matchingTiming\n    ? computeResourceEntryDuration(matchingTiming)\n    : computeRequestDuration(pageStateHistory, startClocks, request.duration)\n\n  const resourceEvent = combine(\n    {\n      date: startClocks.timeStamp,\n      resource: {\n        id: generateUUID(),\n        type,\n        duration: toServerDuration(duration),\n        method: request.method,\n        status_code: request.status,\n        protocol: matchingTiming && computeResourceEntryProtocol(matchingTiming),\n        url: isLongDataUrl(request.url) ? sanitizeDataUrl(request.url) : request.url,\n        delivery_type: matchingTiming && computeResourceEntryDeliveryType(matchingTiming),\n      },\n      type: RumEventType.RESOURCE as const,\n      _dd: {\n        discarded: !configuration.trackResources,\n      },\n    },\n    tracingInfo,\n    correspondingTimingOverrides\n  )\n\n  return {\n    startTime: startClocks.relative,\n    duration,\n    rawRumEvent: resourceEvent,\n    domainContext: {\n      performanceEntry: matchingTiming,\n      xhr: request.xhr,\n      response: request.response,\n      requestInput: request.input,\n      requestInit: request.init,\n      error: request.error,\n      isAborted: request.isAborted,\n      handlingStack: request.handlingStack,\n    } as RumFetchResourceEventDomainContext | RumXhrResourceEventDomainContext,\n  }\n}\n\nfunction processResourceEntry(\n  entry: RumPerformanceResourceTiming,\n  configuration: RumConfiguration\n): RawRumEventCollectedData<RawRumResourceEvent> | undefined {\n  const startClocks = relativeToClocks(entry.startTime)\n  const tracingInfo = computeResourceEntryTracingInfo(entry, configuration)\n  if (!configuration.trackResources && !tracingInfo) {\n    return\n  }\n\n  const type = computeResourceEntryType(entry)\n  const entryMetrics = computeResourceEntryMetrics(entry)\n  const duration = computeResourceEntryDuration(entry)\n\n  const resourceEvent = combine(\n    {\n      date: startClocks.timeStamp,\n      resource: {\n        id: generateUUID(),\n        type,\n        duration: toServerDuration(duration),\n        url: entry.name,\n        status_code: discardZeroStatus(entry.responseStatus),\n        protocol: computeResourceEntryProtocol(entry),\n        delivery_type: computeResourceEntryDeliveryType(entry),\n      },\n      type: RumEventType.RESOURCE as const,\n      _dd: {\n        discarded: !configuration.trackResources,\n      },\n    },\n    tracingInfo,\n    entryMetrics\n  )\n  return {\n    startTime: startClocks.relative,\n    duration,\n    rawRumEvent: resourceEvent,\n    domainContext: {\n      performanceEntry: entry,\n    },\n  }\n}\n\nfunction computeResourceEntryMetrics(entry: RumPerformanceResourceTiming) {\n  const { renderBlockingStatus } = entry\n  return {\n    resource: {\n      render_blocking_status: renderBlockingStatus,\n      ...computeResourceEntrySize(entry),\n      ...computeResourceEntryDetails(entry),\n    },\n  }\n}\n\nfunction computeRequestTracingInfo(request: RequestCompleteEvent, configuration: RumConfiguration) {\n  const hasBeenTraced = request.traceSampled && request.traceId && request.spanId\n  if (!hasBeenTraced) {\n    return undefined\n  }\n  return {\n    _dd: {\n      span_id: request.spanId!.toString(),\n      trace_id: request.traceId!.toString(),\n      rule_psr: configuration.rulePsr,\n    },\n  }\n}\n\nfunction computeResourceEntryTracingInfo(entry: RumPerformanceResourceTiming, configuration: RumConfiguration) {\n  const hasBeenTraced = entry.traceId\n  if (!hasBeenTraced) {\n    return undefined\n  }\n  return {\n    _dd: {\n      trace_id: entry.traceId,\n      span_id: createSpanIdentifier().toString(),\n      rule_psr: configuration.rulePsr,\n    },\n  }\n}\n\nfunction computeRequestDuration(pageStateHistory: PageStateHistory, startClocks: ClocksState, duration: Duration) {\n  return !pageStateHistory.wasInPageStateDuringPeriod(PageState.FROZEN, startClocks.relative, duration)\n    ? duration\n    : undefined\n}\n\n/**\n * The status is 0 for cross-origin resources without CORS headers, so the status is meaningless, and we shouldn't report it\n * https://developer.mozilla.org/en-US/docs/Web/API/PerformanceResourceTiming/responseStatus#cross-origin_response_status_codes\n */\nfunction discardZeroStatus(statusCode: number | undefined): number | undefined {\n  return statusCode === 0 ? undefined : statusCode\n}\n","import type { RelativeTime } from '@datadog/browser-core'\nimport { ONE_MINUTE } from '@datadog/browser-core'\nimport type { RumPerformancePaintTiming } from '../../../browser/performanceObservable'\nimport { createPerformanceObservable, RumPerformanceEntryType } from '../../../browser/performanceObservable'\nimport type { RumConfiguration } from '../../configuration'\nimport type { FirstHidden } from './trackFirstHidden'\n\n// Discard FCP timings above a certain delay to avoid incorrect data\n// It happens in some cases like sleep mode or some browser implementations\nexport const FCP_MAXIMUM_DELAY = 10 * ONE_MINUTE\n\nexport function trackFirstContentfulPaint(\n  configuration: RumConfiguration,\n  firstHidden: FirstHidden,\n  callback: (fcpTiming: RelativeTime) => void\n) {\n  const performanceSubscription = createPerformanceObservable(configuration, {\n    type: RumPerformanceEntryType.PAINT,\n    buffered: true,\n  }).subscribe((entries) => {\n    const fcpEntry = entries.find(\n      (entry): entry is RumPerformancePaintTiming =>\n        entry.name === 'first-contentful-paint' &&\n        entry.startTime < firstHidden.timeStamp &&\n        entry.startTime < FCP_MAXIMUM_DELAY\n    )\n    if (fcpEntry) {\n      callback(fcpEntry.startTime)\n    }\n  })\n  return {\n    stop: performanceSubscription.unsubscribe,\n  }\n}\n","import type { Duration, TimeoutId } from '@datadog/browser-core'\nimport { setTimeout, relativeNow, runOnReadyState, clearTimeout } from '@datadog/browser-core'\nimport type { RumPerformanceNavigationTiming } from '../../../browser/performanceObservable'\nimport type { RumConfiguration } from '../../configuration'\nimport { getNavigationEntry } from '../../../browser/performanceUtils'\n\nexport interface NavigationTimings {\n  domComplete: Duration\n  domContentLoaded: Duration\n  domInteractive: Duration\n  loadEvent: Duration\n  firstByte: Duration | undefined\n}\n\n// This is a subset of \"RumPerformanceNavigationTiming\" that only contains the relevant fields for\n// computing navigation timings. This is useful to mock the navigation entry in tests.\nexport type RelevantNavigationTiming = Pick<\n  RumPerformanceNavigationTiming,\n  'domComplete' | 'domContentLoadedEventEnd' | 'domInteractive' | 'loadEventEnd' | 'responseStart'\n>\n\nexport function trackNavigationTimings(\n  configuration: RumConfiguration,\n  callback: (timings: NavigationTimings) => void,\n  getNavigationEntryImpl: () => RelevantNavigationTiming = getNavigationEntry\n) {\n  return waitAfterLoadEvent(configuration, () => {\n    const entry = getNavigationEntryImpl()\n\n    if (!isIncompleteNavigation(entry)) {\n      callback(processNavigationEntry(entry))\n    }\n  })\n}\n\nfunction processNavigationEntry(entry: RelevantNavigationTiming): NavigationTimings {\n  return {\n    domComplete: entry.domComplete,\n    domContentLoaded: entry.domContentLoadedEventEnd,\n    domInteractive: entry.domInteractive,\n    loadEvent: entry.loadEventEnd,\n    // In some cases the value reported is negative or is larger\n    // than the current page time. Ignore these cases:\n    // https://github.com/GoogleChrome/web-vitals/issues/137\n    // https://github.com/GoogleChrome/web-vitals/issues/162\n    firstByte: entry.responseStart >= 0 && entry.responseStart <= relativeNow() ? entry.responseStart : undefined,\n  }\n}\n\nfunction isIncompleteNavigation(entry: RelevantNavigationTiming) {\n  return entry.loadEventEnd <= 0\n}\n\nfunction waitAfterLoadEvent(configuration: RumConfiguration, callback: () => void) {\n  let timeoutId: TimeoutId | undefined\n  const { stop: stopOnReadyState } = runOnReadyState(configuration, 'complete', () => {\n    // Invoke the callback a bit after the actual load event, so the \"loadEventEnd\" timing is accurate\n    timeoutId = setTimeout(() => callback())\n  })\n  return {\n    stop: () => {\n      stopOnReadyState()\n      clearTimeout(timeoutId)\n    },\n  }\n}\n","import type { RelativeTime } from '@datadog/browser-core'\nimport { DOM_EVENT, ONE_MINUTE, addEventListeners, findLast } from '@datadog/browser-core'\nimport type { RumConfiguration } from '../../configuration'\nimport { createPerformanceObservable, RumPerformanceEntryType } from '../../../browser/performanceObservable'\nimport type { RumLargestContentfulPaintTiming } from '../../../browser/performanceObservable'\nimport { getSelectorFromElement } from '../../getSelectorFromElement'\nimport type { FirstHidden } from './trackFirstHidden'\n\n// Discard LCP timings above a certain delay to avoid incorrect data\n// It happens in some cases like sleep mode or some browser implementations\nexport const LCP_MAXIMUM_DELAY = 10 * ONE_MINUTE\n\nexport interface LargestContentfulPaint {\n  value: RelativeTime\n  targetSelector?: string\n  resourceUrl?: string\n}\n\n/**\n * Track the largest contentful paint (LCP) occurring during the initial View.  This can yield\n * multiple values, only the most recent one should be used.\n * Documentation: https://web.dev/lcp/\n * Reference implementation: https://github.com/GoogleChrome/web-vitals/blob/master/src/onLCP.ts\n */\nexport function trackLargestContentfulPaint(\n  configuration: RumConfiguration,\n  firstHidden: FirstHidden,\n  eventTarget: Window,\n  callback: (largestContentfulPaint: LargestContentfulPaint) => void\n) {\n  // Ignore entries that come after the first user interaction. According to the documentation, the\n  // browser should not send largest-contentful-paint entries after a user interact with the page,\n  // but the web-vitals reference implementation uses this as a safeguard.\n  let firstInteractionTimestamp = Infinity\n  const { stop: stopEventListener } = addEventListeners(\n    configuration,\n    eventTarget,\n    [DOM_EVENT.POINTER_DOWN, DOM_EVENT.KEY_DOWN],\n    (event) => {\n      firstInteractionTimestamp = event.timeStamp\n    },\n    { capture: true, once: true }\n  )\n\n  let biggestLcpSize = 0\n  const performanceLcpSubscription = createPerformanceObservable(configuration, {\n    type: RumPerformanceEntryType.LARGEST_CONTENTFUL_PAINT,\n    buffered: true,\n  }).subscribe((entries) => {\n    const lcpEntry = findLast(\n      entries,\n      (entry): entry is RumLargestContentfulPaintTiming =>\n        entry.entryType === RumPerformanceEntryType.LARGEST_CONTENTFUL_PAINT &&\n        entry.startTime < firstInteractionTimestamp &&\n        entry.startTime < firstHidden.timeStamp &&\n        entry.startTime < LCP_MAXIMUM_DELAY &&\n        // Ensure to get the LCP entry with the biggest size, see\n        // https://bugs.chromium.org/p/chromium/issues/detail?id=1516655\n        entry.size > biggestLcpSize\n    )\n    if (lcpEntry) {\n      let lcpTargetSelector\n      if (lcpEntry.element) {\n        lcpTargetSelector = getSelectorFromElement(lcpEntry.element, configuration.actionNameAttribute)\n      }\n\n      callback({\n        value: lcpEntry.startTime,\n        targetSelector: lcpTargetSelector,\n        resourceUrl: computeLcpEntryUrl(lcpEntry),\n      })\n      biggestLcpSize = lcpEntry.size\n    }\n  })\n\n  return {\n    stop: () => {\n      stopEventListener()\n      performanceLcpSubscription.unsubscribe()\n    },\n  }\n}\n\n// The property url report an empty string if the value is not available, we shouldn't report it in this case.\nfunction computeLcpEntryUrl(entry: RumLargestContentfulPaintTiming) {\n  return entry.url === '' ? undefined : entry.url\n}\n","import type { RelativeTime } from '@datadog/browser-core'\nimport { addEventListeners, DOM_EVENT, noop } from '@datadog/browser-core'\nimport type { RumConfiguration } from '../../configuration'\nimport { supportPerformanceTimingEvent, RumPerformanceEntryType } from '../../../browser/performanceObservable'\n\nexport type FirstHidden = ReturnType<typeof trackFirstHidden>\n\nexport function trackFirstHidden(configuration: RumConfiguration, eventTarget: Window = window) {\n  if (document.visibilityState === 'hidden') {\n    return { timeStamp: 0 as RelativeTime, stop: noop }\n  }\n\n  if (supportPerformanceTimingEvent(RumPerformanceEntryType.VISIBILITY_STATE)) {\n    const firstHiddenEntry = performance\n      .getEntriesByType(RumPerformanceEntryType.VISIBILITY_STATE)\n      .find((entry) => entry.name === 'hidden')\n    if (firstHiddenEntry) {\n      return { timeStamp: firstHiddenEntry.startTime as RelativeTime, stop: noop }\n    }\n  }\n\n  let timeStamp: RelativeTime = Infinity as RelativeTime\n\n  const { stop } = addEventListeners(\n    configuration,\n    eventTarget,\n    [DOM_EVENT.PAGE_HIDE, DOM_EVENT.VISIBILITY_CHANGE],\n    (event) => {\n      if (event.type === DOM_EVENT.PAGE_HIDE || document.visibilityState === 'hidden') {\n        timeStamp = event.timeStamp as RelativeTime\n        stop()\n      }\n    },\n    { capture: true }\n  )\n\n  return {\n    get timeStamp() {\n      return timeStamp\n    },\n    stop,\n  }\n}\n","import type { Duration } from '@datadog/browser-core'\nimport type { RumConfiguration } from '../../configuration'\nimport { trackFirstContentfulPaint } from './trackFirstContentfulPaint'\nimport type { FirstInput } from './trackFirstInput'\nimport { trackFirstInput } from './trackFirstInput'\nimport type { NavigationTimings } from './trackNavigationTimings'\nimport { trackNavigationTimings } from './trackNavigationTimings'\nimport type { LargestContentfulPaint } from './trackLargestContentfulPaint'\nimport { trackLargestContentfulPaint } from './trackLargestContentfulPaint'\nimport { trackFirstHidden } from './trackFirstHidden'\n\nexport interface InitialViewMetrics {\n  firstContentfulPaint?: Duration\n  navigationTimings?: NavigationTimings\n  largestContentfulPaint?: LargestContentfulPaint\n  firstInput?: FirstInput\n}\n\nexport function trackInitialViewMetrics(\n  configuration: RumConfiguration,\n  setLoadEvent: (loadEnd: Duration) => void,\n  scheduleViewUpdate: () => void\n) {\n  const initialViewMetrics: InitialViewMetrics = {}\n\n  const { stop: stopNavigationTracking } = trackNavigationTimings(configuration, (navigationTimings) => {\n    setLoadEvent(navigationTimings.loadEvent)\n    initialViewMetrics.navigationTimings = navigationTimings\n    scheduleViewUpdate()\n  })\n\n  const firstHidden = trackFirstHidden(configuration)\n  const { stop: stopFCPTracking } = trackFirstContentfulPaint(configuration, firstHidden, (firstContentfulPaint) => {\n    initialViewMetrics.firstContentfulPaint = firstContentfulPaint\n    scheduleViewUpdate()\n  })\n\n  const { stop: stopLCPTracking } = trackLargestContentfulPaint(\n    configuration,\n    firstHidden,\n    window,\n    (largestContentfulPaint) => {\n      initialViewMetrics.largestContentfulPaint = largestContentfulPaint\n      scheduleViewUpdate()\n    }\n  )\n\n  const { stop: stopFIDTracking } = trackFirstInput(configuration, firstHidden, (firstInput) => {\n    initialViewMetrics.firstInput = firstInput\n    scheduleViewUpdate()\n  })\n\n  function stop() {\n    stopNavigationTracking()\n    stopFCPTracking()\n    stopLCPTracking()\n    stopFIDTracking()\n    firstHidden.stop()\n  }\n\n  return {\n    stop,\n    initialViewMetrics,\n  }\n}\n","import type { Duration, RelativeTime } from '@datadog/browser-core'\nimport { elapsed } from '@datadog/browser-core'\nimport { isElementNode } from '../../../browser/htmlDomUtils'\nimport type { RumConfiguration } from '../../configuration'\nimport { createPerformanceObservable, RumPerformanceEntryType } from '../../../browser/performanceObservable'\nimport type { RumFirstInputTiming } from '../../../browser/performanceObservable'\nimport { getSelectorFromElement } from '../../getSelectorFromElement'\nimport type { FirstHidden } from './trackFirstHidden'\n\nexport interface FirstInput {\n  delay: Duration\n  time: RelativeTime\n  targetSelector?: string\n}\n\n/**\n * Track the first input occurring during the initial View to return:\n * - First Input Delay\n * - First Input Time\n * Callback is called at most one time.\n * Documentation: https://web.dev/fid/\n * Reference implementation: https://github.com/GoogleChrome/web-vitals/blob/master/src/getFID.ts\n */\nexport function trackFirstInput(\n  configuration: RumConfiguration,\n  firstHidden: FirstHidden,\n  callback: (firstInput: FirstInput) => void\n) {\n  const performanceFirstInputSubscription = createPerformanceObservable(configuration, {\n    type: RumPerformanceEntryType.FIRST_INPUT,\n    buffered: true,\n  }).subscribe((entries) => {\n    const firstInputEntry = entries.find(\n      (entry): entry is RumFirstInputTiming => entry.startTime < firstHidden.timeStamp\n    )\n    if (firstInputEntry) {\n      const firstInputDelay = elapsed(firstInputEntry.startTime, firstInputEntry.processingStart)\n      let firstInputTargetSelector\n\n      if (firstInputEntry.target && isElementNode(firstInputEntry.target)) {\n        firstInputTargetSelector = getSelectorFromElement(firstInputEntry.target, configuration.actionNameAttribute)\n      }\n\n      callback({\n        // Ensure firstInputDelay to be positive, see\n        // https://bugs.chromium.org/p/chromium/issues/detail?id=1185815\n        delay: firstInputDelay >= 0 ? firstInputDelay : (0 as Duration),\n        time: firstInputEntry.startTime,\n        targetSelector: firstInputTargetSelector,\n      })\n    }\n  })\n\n  return {\n    stop: () => {\n      performanceFirstInputSubscription.unsubscribe()\n    },\n  }\n}\n","import { round, ONE_SECOND, noop, elapsed } from '@datadog/browser-core'\nimport type { Duration, RelativeTime, WeakRef, WeakRefConstructor } from '@datadog/browser-core'\nimport { isElementNode } from '../../../browser/htmlDomUtils'\nimport type { RumLayoutShiftAttribution, RumLayoutShiftTiming } from '../../../browser/performanceObservable'\nimport {\n  supportPerformanceTimingEvent,\n  RumPerformanceEntryType,\n  createPerformanceObservable,\n} from '../../../browser/performanceObservable'\nimport { getSelectorFromElement } from '../../getSelectorFromElement'\nimport type { RumConfiguration } from '../../configuration'\nimport type { RumRect } from '../../../rumEvent.types'\n\ndeclare const WeakRef: WeakRefConstructor\n\nexport interface CumulativeLayoutShift {\n  value: number\n  targetSelector?: string\n  time?: Duration\n  previousRect?: RumRect\n  currentRect?: RumRect\n  devicePixelRatio?: number\n}\n\ninterface LayoutShiftInstance {\n  target: WeakRef<Element> | undefined\n  time: Duration\n  previousRect: DOMRectReadOnly | undefined\n  currentRect: DOMRectReadOnly | undefined\n  devicePixelRatio: number\n}\n\n/**\n * Track the cumulative layout shifts (CLS).\n * Layout shifts are grouped into session windows.\n * The minimum gap between session windows is 1 second.\n * The maximum duration of a session window is 5 second.\n * The session window layout shift value is the sum of layout shifts inside it.\n * The CLS value is the max of session windows values.\n *\n * This yields a new value whenever the CLS value is updated (a higher session window value is computed).\n *\n * See isLayoutShiftSupported to check for browser support.\n *\n * Documentation:\n * https://web.dev/cls/\n * https://web.dev/evolving-cls/\n * Reference implementation: https://github.com/GoogleChrome/web-vitals/blob/master/src/getCLS.ts\n */\nexport function trackCumulativeLayoutShift(\n  configuration: RumConfiguration,\n  viewStart: RelativeTime,\n  callback: (cumulativeLayoutShift: CumulativeLayoutShift) => void\n) {\n  if (!isLayoutShiftSupported()) {\n    return {\n      stop: noop,\n    }\n  }\n\n  let maxClsValue = 0\n  let biggestShift: LayoutShiftInstance | undefined\n\n  // if no layout shift happen the value should be reported as 0\n  callback({\n    value: 0,\n  })\n\n  const slidingWindow = slidingSessionWindow()\n  const performanceSubscription = createPerformanceObservable(configuration, {\n    type: RumPerformanceEntryType.LAYOUT_SHIFT,\n    buffered: true,\n  }).subscribe((entries) => {\n    for (const entry of entries) {\n      if (entry.hadRecentInput || entry.startTime < viewStart) {\n        continue\n      }\n\n      const { cumulatedValue, isMaxValue } = slidingWindow.update(entry)\n\n      if (isMaxValue) {\n        const attribution = getFirstElementAttribution(entry.sources)\n        biggestShift = {\n          target: attribution?.node ? new WeakRef(attribution.node) : undefined,\n          time: elapsed(viewStart, entry.startTime),\n          previousRect: attribution?.previousRect,\n          currentRect: attribution?.currentRect,\n          devicePixelRatio: window.devicePixelRatio,\n        }\n      }\n\n      if (cumulatedValue > maxClsValue) {\n        maxClsValue = cumulatedValue\n        const target = biggestShift?.target?.deref()\n\n        callback({\n          value: round(maxClsValue, 4),\n          targetSelector: target && getSelectorFromElement(target, configuration.actionNameAttribute),\n          time: biggestShift?.time,\n          previousRect: biggestShift?.previousRect ? asRumRect(biggestShift.previousRect) : undefined,\n          currentRect: biggestShift?.currentRect ? asRumRect(biggestShift.currentRect) : undefined,\n          devicePixelRatio: biggestShift?.devicePixelRatio,\n        })\n      }\n    }\n  })\n\n  return {\n    stop: () => {\n      performanceSubscription.unsubscribe()\n    },\n  }\n}\n\nfunction getFirstElementAttribution(\n  sources: RumLayoutShiftAttribution[]\n): (RumLayoutShiftAttribution & { node: Element }) | undefined {\n  return sources.find(\n    (source): source is RumLayoutShiftAttribution & { node: Element } => !!source.node && isElementNode(source.node)\n  )\n}\n\nfunction asRumRect({ x, y, width, height }: DOMRectReadOnly): RumRect {\n  return { x, y, width, height }\n}\n\nexport const MAX_WINDOW_DURATION = 5 * ONE_SECOND\nconst MAX_UPDATE_GAP = ONE_SECOND\n\nfunction slidingSessionWindow() {\n  let cumulatedValue = 0\n  let startTime: RelativeTime\n  let endTime: RelativeTime\n  let maxValue = 0\n\n  return {\n    update: (entry: RumLayoutShiftTiming) => {\n      const shouldCreateNewWindow =\n        startTime === undefined ||\n        entry.startTime - endTime >= MAX_UPDATE_GAP ||\n        entry.startTime - startTime >= MAX_WINDOW_DURATION\n\n      let isMaxValue: boolean\n\n      if (shouldCreateNewWindow) {\n        startTime = endTime = entry.startTime\n        maxValue = cumulatedValue = entry.value\n        isMaxValue = true\n      } else {\n        cumulatedValue += entry.value\n        endTime = entry.startTime\n        isMaxValue = entry.value > maxValue\n\n        if (isMaxValue) {\n          maxValue = entry.value\n        }\n      }\n\n      return {\n        cumulatedValue,\n        isMaxValue,\n      }\n    },\n  }\n}\n\n/**\n * Check whether `layout-shift` is supported by the browser.\n */\nexport function isLayoutShiftSupported() {\n  return supportPerformanceTimingEvent(RumPerformanceEntryType.LAYOUT_SHIFT) && 'WeakRef' in window\n}\n","/**\n * performance.interactionCount polyfill\n *\n * The interactionCount is an integer which counts the total number of distinct user interactions,\n * for which there was a unique interactionId.\n *\n * The interactionCount polyfill is an estimate based on a convention specific to Chrome. Cf: https://github.com/GoogleChrome/web-vitals/pull/213\n * This is currently not an issue as the polyfill is only used for INP which is currently only supported on Chrome.\n * Hopefully when/if other browsers will support INP, they will also implement performance.interactionCount at the same time, so we won't need that polyfill.\n *\n * Reference implementation: https://github.com/GoogleChrome/web-vitals/blob/main/src/lib/polyfills/interactionCountPolyfill.ts\n */\n\nimport { monitor } from '@datadog/browser-core'\nimport type {\n  BrowserWindow,\n  RumPerformanceEventTiming,\n  RumPerformanceObserver,\n} from '../../../browser/performanceObservable'\n\nlet observer: RumPerformanceObserver | undefined\n\nlet interactionCountEstimate = 0\nlet minKnownInteractionId = Infinity\nlet maxKnownInteractionId = 0\n\nexport function initInteractionCountPolyfill() {\n  if ('interactionCount' in performance || observer) {\n    return\n  }\n\n  observer = new (window as BrowserWindow).PerformanceObserver(\n    monitor((entries: PerformanceObserverEntryList) => {\n      entries.getEntries().forEach((e) => {\n        const entry = e as unknown as RumPerformanceEventTiming\n\n        if (entry.interactionId) {\n          minKnownInteractionId = Math.min(minKnownInteractionId, entry.interactionId)\n          maxKnownInteractionId = Math.max(maxKnownInteractionId, entry.interactionId)\n\n          interactionCountEstimate = (maxKnownInteractionId - minKnownInteractionId) / 7 + 1\n        }\n      })\n    })\n  )\n\n  observer.observe({ type: 'event', buffered: true, durationThreshold: 0 })\n}\n\n/**\n * Returns the `interactionCount` value using the native API (if available)\n * or the polyfill estimate in this module.\n */\nexport const getInteractionCount = () =>\n  observer ? interactionCountEstimate : (window as BrowserWindow).performance.interactionCount! || 0\n","import { elapsed, noop, ONE_MINUTE } from '@datadog/browser-core'\nimport type { Duration, RelativeTime } from '@datadog/browser-core'\nimport {\n  createPerformanceObservable,\n  RumPerformanceEntryType,\n  supportPerformanceTimingEvent,\n} from '../../../browser/performanceObservable'\nimport type { RumFirstInputTiming, RumPerformanceEventTiming } from '../../../browser/performanceObservable'\nimport { ViewLoadingType } from '../../../rawRumEvent.types'\nimport { getSelectorFromElement } from '../../getSelectorFromElement'\nimport { isElementNode } from '../../../browser/htmlDomUtils'\nimport { getInteractionSelector } from '../../action/interactionSelectorCache'\nimport type { RumConfiguration } from '../../configuration'\nimport { getInteractionCount, initInteractionCountPolyfill } from './interactionCountPolyfill'\n\n// Arbitrary value to prevent unnecessary memory usage on views with lots of interactions.\nconst MAX_INTERACTION_ENTRIES = 10\n// Arbitrary value to cap INP outliers\nexport const MAX_INP_VALUE = (1 * ONE_MINUTE) as Duration\n\nexport interface InteractionToNextPaint {\n  value: Duration\n  targetSelector?: string\n  time?: Duration\n}\n/**\n * Track the interaction to next paint (INP).\n * To avoid outliers, return the p98 worst interaction of the view.\n * Documentation: https://web.dev/inp/\n * Reference implementation: https://github.com/GoogleChrome/web-vitals/blob/main/src/onINP.ts\n */\nexport function trackInteractionToNextPaint(\n  configuration: RumConfiguration,\n  viewStart: RelativeTime,\n  viewLoadingType: ViewLoadingType\n) {\n  if (!isInteractionToNextPaintSupported()) {\n    return {\n      getInteractionToNextPaint: () => undefined,\n      setViewEnd: noop,\n      stop: noop,\n    }\n  }\n\n  const { getViewInteractionCount, stopViewInteractionCount } = trackViewInteractionCount(viewLoadingType)\n\n  let viewEnd = Infinity as RelativeTime\n\n  const longestInteractions = trackLongestInteractions(getViewInteractionCount)\n  let interactionToNextPaint = -1 as Duration\n  let interactionToNextPaintTargetSelector: string | undefined\n  let interactionToNextPaintStartTime: Duration | undefined\n\n  function handleEntries(entries: Array<RumPerformanceEventTiming | RumFirstInputTiming>) {\n    for (const entry of entries) {\n      if (\n        entry.interactionId &&\n        // Check the entry start time is inside the view bounds because some view interactions can be reported after the view end (if long duration).\n        entry.startTime >= viewStart &&\n        entry.startTime <= viewEnd\n      ) {\n        longestInteractions.process(entry)\n      }\n    }\n\n    const newInteraction = longestInteractions.estimateP98Interaction()\n    if (newInteraction && newInteraction.duration !== interactionToNextPaint) {\n      interactionToNextPaint = newInteraction.duration\n      interactionToNextPaintStartTime = elapsed(viewStart, newInteraction.startTime)\n      interactionToNextPaintTargetSelector = getInteractionSelector(newInteraction.startTime)\n      if (!interactionToNextPaintTargetSelector && newInteraction.target && isElementNode(newInteraction.target)) {\n        interactionToNextPaintTargetSelector = getSelectorFromElement(\n          newInteraction.target,\n          configuration.actionNameAttribute\n        )\n      }\n    }\n  }\n\n  const firstInputSubscription = createPerformanceObservable(configuration, {\n    type: RumPerformanceEntryType.FIRST_INPUT,\n    buffered: true,\n  }).subscribe(handleEntries)\n\n  const eventSubscription = createPerformanceObservable(configuration, {\n    type: RumPerformanceEntryType.EVENT,\n    // durationThreshold only impact PerformanceEventTiming entries used for INP computation which requires a threshold at 40 (default is 104ms)\n    // cf: https://github.com/GoogleChrome/web-vitals/blob/3806160ffbc93c3c4abf210a167b81228172b31c/src/onINP.ts#L202-L210\n    durationThreshold: 40,\n    buffered: true,\n  }).subscribe(handleEntries)\n\n  return {\n    getInteractionToNextPaint: (): InteractionToNextPaint | undefined => {\n      // If no INP duration where captured because of the performanceObserver 40ms threshold\n      // but the view interaction count > 0 then report 0\n      if (interactionToNextPaint >= 0) {\n        return {\n          value: Math.min(interactionToNextPaint, MAX_INP_VALUE) as Duration,\n          targetSelector: interactionToNextPaintTargetSelector,\n          time: interactionToNextPaintStartTime,\n        }\n      } else if (getViewInteractionCount()) {\n        return {\n          value: 0 as Duration,\n        }\n      }\n    },\n    setViewEnd: (viewEndTime: RelativeTime) => {\n      viewEnd = viewEndTime\n      stopViewInteractionCount()\n    },\n    stop: () => {\n      eventSubscription.unsubscribe()\n      firstInputSubscription.unsubscribe()\n    },\n  }\n}\n\nfunction trackLongestInteractions(getViewInteractionCount: () => number) {\n  const longestInteractions: Array<RumPerformanceEventTiming | RumFirstInputTiming> = []\n\n  function sortAndTrimLongestInteractions() {\n    longestInteractions.sort((a, b) => b.duration - a.duration).splice(MAX_INTERACTION_ENTRIES)\n  }\n\n  return {\n    /**\n     * Process the performance entry:\n     * - if its duration is long enough, add the performance entry to the list of worst interactions\n     * - if an entry with the same interaction id exists and its duration is lower than the new one, then replace it in the list of worst interactions\n     */\n    process(entry: RumPerformanceEventTiming | RumFirstInputTiming) {\n      const interactionIndex = longestInteractions.findIndex(\n        (interaction) => entry.interactionId === interaction.interactionId\n      )\n\n      const minLongestInteraction = longestInteractions[longestInteractions.length - 1]\n\n      if (interactionIndex !== -1) {\n        if (entry.duration > longestInteractions[interactionIndex].duration) {\n          longestInteractions[interactionIndex] = entry\n          sortAndTrimLongestInteractions()\n        }\n      } else if (\n        longestInteractions.length < MAX_INTERACTION_ENTRIES ||\n        entry.duration > minLongestInteraction.duration\n      ) {\n        longestInteractions.push(entry)\n        sortAndTrimLongestInteractions()\n      }\n    },\n    /**\n     * Compute the p98 longest interaction.\n     * For better performance the computation is based on 10 longest interactions and the interaction count of the current view.\n     */\n    estimateP98Interaction(): RumPerformanceEventTiming | RumFirstInputTiming | undefined {\n      const interactionIndex = Math.min(longestInteractions.length - 1, Math.floor(getViewInteractionCount() / 50))\n      return longestInteractions[interactionIndex]\n    },\n  }\n}\n\nexport function trackViewInteractionCount(viewLoadingType: ViewLoadingType) {\n  initInteractionCountPolyfill()\n  const previousInteractionCount = viewLoadingType === ViewLoadingType.INITIAL_LOAD ? 0 : getInteractionCount()\n  let state: { stopped: false } | { stopped: true; interactionCount: number } = { stopped: false }\n\n  function computeViewInteractionCount() {\n    return getInteractionCount() - previousInteractionCount\n  }\n\n  return {\n    getViewInteractionCount: () => {\n      if (state.stopped) {\n        return state.interactionCount\n      }\n\n      return computeViewInteractionCount()\n    },\n    stopViewInteractionCount: () => {\n      state = { stopped: true, interactionCount: computeViewInteractionCount() }\n    },\n  }\n}\n\nexport function isInteractionToNextPaintSupported() {\n  return (\n    supportPerformanceTimingEvent(RumPerformanceEntryType.EVENT) &&\n    window.PerformanceEventTiming &&\n    'interactionId' in PerformanceEventTiming.prototype\n  )\n}\n","export function getScrollX() {\n  let scrollX\n  const visual = window.visualViewport\n  if (visual) {\n    scrollX = visual.pageLeft - visual.offsetLeft\n  } else if (window.scrollX !== undefined) {\n    scrollX = window.scrollX\n  } else {\n    scrollX = window.pageXOffset || 0\n  }\n  return Math.round(scrollX)\n}\n\nexport function getScrollY() {\n  let scrollY\n  const visual = window.visualViewport\n  if (visual) {\n    scrollY = visual.pageTop - visual.offsetTop\n  } else if (window.scrollY !== undefined) {\n    scrollY = window.scrollY\n  } else {\n    scrollY = window.pageYOffset || 0\n  }\n  return Math.round(scrollY)\n}\n","import { Observable, throttle, addEventListener, DOM_EVENT } from '@datadog/browser-core'\nimport type { RumConfiguration } from '../domain/configuration'\n\nexport interface ViewportDimension {\n  height: number\n  width: number\n  [k: string]: unknown\n}\n\nlet viewportObservable: Observable<ViewportDimension> | undefined\n\nexport function initViewportObservable(configuration: RumConfiguration) {\n  if (!viewportObservable) {\n    viewportObservable = createViewportObservable(configuration)\n  }\n  return viewportObservable\n}\n\nexport function createViewportObservable(configuration: RumConfiguration) {\n  return new Observable<ViewportDimension>((observable) => {\n    const { throttled: updateDimension } = throttle(() => {\n      observable.notify(getViewportDimension())\n    }, 200)\n\n    return addEventListener(configuration, window, DOM_EVENT.RESIZE, updateDimension, { capture: true, passive: true })\n      .stop\n  })\n}\n\n// excludes the width and height of any rendered classic scrollbar that is fixed to the visual viewport\nexport function getViewportDimension(): ViewportDimension {\n  const visual = window.visualViewport\n  if (visual) {\n    return {\n      width: Number(visual.width * visual.scale),\n      height: Number(visual.height * visual.scale),\n    }\n  }\n\n  return {\n    width: Number(window.innerWidth || 0),\n    height: Number(window.innerHeight || 0),\n  }\n}\n","import type { ClocksState, Duration } from '@datadog/browser-core'\nimport {\n  Observable,\n  ONE_SECOND,\n  elapsed,\n  relativeNow,\n  throttle,\n  addEventListener,\n  DOM_EVENT,\n  monitor,\n} from '@datadog/browser-core'\nimport type { RumConfiguration } from '../../configuration'\nimport { getScrollY } from '../../../browser/scroll'\nimport { getViewportDimension } from '../../../browser/viewportObservable'\n\n/** Arbitrary scroll throttle duration */\nexport const THROTTLE_SCROLL_DURATION = ONE_SECOND\n\nexport interface ScrollMetrics {\n  maxDepth: number\n  maxScrollHeight: number\n  maxDepthScrollTop: number\n  maxScrollHeightTime: Duration\n}\n\nexport function trackScrollMetrics(\n  configuration: RumConfiguration,\n  viewStart: ClocksState,\n  callback: (scrollMetrics: ScrollMetrics) => void,\n  scrollValues = createScrollValuesObservable(configuration)\n) {\n  let maxScrollDepth = 0\n  let maxScrollHeight = 0\n  let maxScrollHeightTime = 0 as Duration\n\n  const subscription = scrollValues.subscribe(({ scrollDepth, scrollTop, scrollHeight }) => {\n    let shouldUpdate = false\n\n    if (scrollDepth > maxScrollDepth) {\n      maxScrollDepth = scrollDepth\n      shouldUpdate = true\n    }\n\n    if (scrollHeight > maxScrollHeight) {\n      maxScrollHeight = scrollHeight\n      const now = relativeNow()\n      maxScrollHeightTime = elapsed(viewStart.relative, now)\n      shouldUpdate = true\n    }\n\n    if (shouldUpdate) {\n      callback({\n        maxDepth: Math.min(maxScrollDepth, maxScrollHeight),\n        maxDepthScrollTop: scrollTop,\n        maxScrollHeight,\n        maxScrollHeightTime,\n      })\n    }\n  })\n\n  return {\n    stop: () => subscription.unsubscribe(),\n  }\n}\n\nexport interface ScrollValues {\n  scrollDepth: number\n  scrollTop: number\n  scrollHeight: number\n}\n\nexport function computeScrollValues() {\n  const scrollTop = getScrollY()\n\n  const { height } = getViewportDimension()\n\n  const scrollHeight = Math.round((document.scrollingElement || document.documentElement).scrollHeight)\n\n  const scrollDepth = Math.round(height + scrollTop)\n\n  return {\n    scrollHeight,\n    scrollDepth,\n    scrollTop,\n  }\n}\n\nexport function createScrollValuesObservable(\n  configuration: RumConfiguration,\n  throttleDuration = THROTTLE_SCROLL_DURATION\n): Observable<ScrollValues> {\n  return new Observable<ScrollValues>((observable) => {\n    function notify() {\n      observable.notify(computeScrollValues())\n    }\n\n    if (window.ResizeObserver) {\n      const throttledNotify = throttle(notify, throttleDuration, {\n        leading: false,\n        trailing: true,\n      })\n\n      const observerTarget = document.scrollingElement || document.documentElement\n      const resizeObserver = new ResizeObserver(monitor(throttledNotify.throttled))\n      if (observerTarget) {\n        resizeObserver.observe(observerTarget)\n      }\n      const eventListener = addEventListener(configuration, window, DOM_EVENT.SCROLL, throttledNotify.throttled, {\n        passive: true,\n      })\n\n      return () => {\n        throttledNotify.cancel()\n        resizeObserver.disconnect()\n        eventListener.stop()\n      }\n    }\n  })\n}\n","import type { ClocksState, Duration, Observable } from '@datadog/browser-core'\nimport type { ViewLoadingType } from '../../../rawRumEvent.types'\nimport type { RumConfiguration } from '../../configuration'\nimport type { LifeCycle } from '../../lifeCycle'\nimport type { CumulativeLayoutShift } from './trackCumulativeLayoutShift'\nimport { trackCumulativeLayoutShift } from './trackCumulativeLayoutShift'\nimport type { InteractionToNextPaint } from './trackInteractionToNextPaint'\nimport { trackInteractionToNextPaint } from './trackInteractionToNextPaint'\nimport { trackLoadingTime } from './trackLoadingTime'\nimport type { ScrollMetrics } from './trackScrollMetrics'\nimport { trackScrollMetrics } from './trackScrollMetrics'\n\nexport interface CommonViewMetrics {\n  loadingTime?: Duration\n  cumulativeLayoutShift?: CumulativeLayoutShift\n  interactionToNextPaint?: InteractionToNextPaint\n  scroll?: ScrollMetrics\n}\n\nexport function trackCommonViewMetrics(\n  lifeCycle: LifeCycle,\n  domMutationObservable: Observable<void>,\n  windowOpenObservable: Observable<void>,\n  configuration: RumConfiguration,\n  scheduleViewUpdate: () => void,\n  loadingType: ViewLoadingType,\n  viewStart: ClocksState\n) {\n  const commonViewMetrics: CommonViewMetrics = {}\n\n  const { stop: stopLoadingTimeTracking, setLoadEvent } = trackLoadingTime(\n    lifeCycle,\n    domMutationObservable,\n    windowOpenObservable,\n    configuration,\n    loadingType,\n    viewStart,\n    (newLoadingTime) => {\n      commonViewMetrics.loadingTime = newLoadingTime\n      scheduleViewUpdate()\n    }\n  )\n\n  const { stop: stopScrollMetricsTracking } = trackScrollMetrics(configuration, viewStart, (newScrollMetrics) => {\n    commonViewMetrics.scroll = newScrollMetrics\n  })\n\n  const { stop: stopCLSTracking } = trackCumulativeLayoutShift(\n    configuration,\n    viewStart.relative,\n    (cumulativeLayoutShift) => {\n      commonViewMetrics.cumulativeLayoutShift = cumulativeLayoutShift\n      scheduleViewUpdate()\n    }\n  )\n\n  const {\n    stop: stopINPTracking,\n    getInteractionToNextPaint,\n    setViewEnd,\n  } = trackInteractionToNextPaint(configuration, viewStart.relative, loadingType)\n\n  return {\n    stop: () => {\n      stopLoadingTimeTracking()\n      stopCLSTracking()\n      stopScrollMetricsTracking()\n    },\n    stopINPTracking,\n    setLoadEvent,\n    setViewEnd,\n    getCommonViewMetrics: () => {\n      commonViewMetrics.interactionToNextPaint = getInteractionToNextPaint()\n      return commonViewMetrics\n    },\n  }\n}\n","import type { ClocksState, Duration, Observable } from '@datadog/browser-core'\nimport { elapsed } from '@datadog/browser-core'\nimport { waitPageActivityEnd } from '../../waitPageActivityEnd'\nimport type { RumConfiguration } from '../../configuration'\nimport type { LifeCycle } from '../../lifeCycle'\nimport { ViewLoadingType } from '../../../rawRumEvent.types'\nimport { trackFirstHidden } from './trackFirstHidden'\n\nexport function trackLoadingTime(\n  lifeCycle: LifeCycle,\n  domMutationObservable: Observable<void>,\n  windowOpenObservable: Observable<void>,\n  configuration: RumConfiguration,\n  loadType: ViewLoadingType,\n  viewStart: ClocksState,\n  callback: (loadingTime: Duration) => void\n) {\n  let isWaitingForLoadEvent = loadType === ViewLoadingType.INITIAL_LOAD\n  let isWaitingForActivityLoadingTime = true\n  const loadingTimeCandidates: Duration[] = []\n  const firstHidden = trackFirstHidden(configuration)\n\n  function invokeCallbackIfAllCandidatesAreReceived() {\n    if (!isWaitingForActivityLoadingTime && !isWaitingForLoadEvent && loadingTimeCandidates.length > 0) {\n      const loadingTime = Math.max(...loadingTimeCandidates)\n      if (loadingTime < firstHidden.timeStamp) {\n        callback(loadingTime as Duration)\n      }\n    }\n  }\n\n  const { stop } = waitPageActivityEnd(\n    lifeCycle,\n    domMutationObservable,\n    windowOpenObservable,\n    configuration,\n    (event) => {\n      if (isWaitingForActivityLoadingTime) {\n        isWaitingForActivityLoadingTime = false\n        if (event.hadActivity) {\n          loadingTimeCandidates.push(elapsed(viewStart.timeStamp, event.end))\n        }\n        invokeCallbackIfAllCandidatesAreReceived()\n      }\n    }\n  )\n\n  return {\n    stop: () => {\n      stop()\n      firstHidden.stop()\n    },\n    setLoadEvent: (loadEvent: Duration) => {\n      if (isWaitingForLoadEvent) {\n        isWaitingForLoadEvent = false\n        loadingTimeCandidates.push(loadEvent)\n        invokeCallbackIfAllCandidatesAreReceived()\n      }\n    },\n  }\n}\n","import type {\n  Duration,\n  ClocksState,\n  TimeStamp,\n  Subscription,\n  RelativeTime,\n  Context,\n  ContextValue,\n} from '@datadog/browser-core'\nimport {\n  noop,\n  PageExitReason,\n  shallowClone,\n  elapsed,\n  generateUUID,\n  ONE_MINUTE,\n  throttle,\n  clocksNow,\n  clocksOrigin,\n  timeStampNow,\n  display,\n  looksLikeRelativeTime,\n  setInterval,\n  clearInterval,\n  setTimeout,\n  Observable,\n  createContextManager,\n} from '@datadog/browser-core'\nimport type { ViewCustomTimings } from '../../rawRumEvent.types'\nimport { ViewLoadingType } from '../../rawRumEvent.types'\nimport type { LifeCycle } from '../lifeCycle'\nimport { LifeCycleEventType } from '../lifeCycle'\nimport type { EventCounts } from '../trackEventCounts'\nimport type { LocationChange } from '../../browser/locationChangeObservable'\nimport type { RumConfiguration, RumInitConfiguration } from '../configuration'\nimport { trackViewEventCounts } from './trackViewEventCounts'\nimport { trackInitialViewMetrics } from './viewMetrics/trackInitialViewMetrics'\nimport type { InitialViewMetrics } from './viewMetrics/trackInitialViewMetrics'\nimport type { CommonViewMetrics } from './viewMetrics/trackCommonViewMetrics'\nimport { trackCommonViewMetrics } from './viewMetrics/trackCommonViewMetrics'\n\nexport interface ViewEvent {\n  id: string\n  name?: string\n  service?: string\n  version?: string\n  context?: Context\n  location: Readonly<Location>\n  commonViewMetrics: CommonViewMetrics\n  initialViewMetrics: InitialViewMetrics\n  customTimings: ViewCustomTimings\n  eventCounts: EventCounts\n  documentVersion: number\n  startClocks: ClocksState\n  duration: Duration\n  isActive: boolean\n  sessionIsActive: boolean\n  loadingType: ViewLoadingType\n}\n\nexport interface ViewCreatedEvent {\n  id: string\n  name?: string\n  service?: string\n  version?: string\n  context?: Context\n  startClocks: ClocksState\n}\n\nexport interface BeforeViewUpdateEvent {\n  id: string\n  name?: string\n  context?: Context\n  startClocks: ClocksState\n}\n\nexport interface ViewEndedEvent {\n  endClocks: ClocksState\n}\n\nexport const THROTTLE_VIEW_UPDATE_PERIOD = 3000\nexport const SESSION_KEEP_ALIVE_INTERVAL = 5 * ONE_MINUTE\n\n// Some events or metrics can be captured after the end of the view. To avoid missing those;\n// an arbitrary delay is added for stopping their tracking after the view ends.\n//\n// Ideally, we would not stop and keep tracking events or metrics until the end of the session.\n// But this might have a small performance impact if there are many many views.\n// So let's have a fairly short delay improving the situation in most cases and avoid impacting performances too much.\nexport const KEEP_TRACKING_AFTER_VIEW_DELAY = 5 * ONE_MINUTE\n\nexport interface ViewOptions {\n  name?: string\n  service?: RumInitConfiguration['service']\n  version?: RumInitConfiguration['version']\n  context?: Context\n}\n\nexport function trackViews(\n  location: Location,\n  lifeCycle: LifeCycle,\n  domMutationObservable: Observable<void>,\n  windowOpenObservable: Observable<void>,\n  configuration: RumConfiguration,\n  locationChangeObservable: Observable<LocationChange>,\n  areViewsTrackedAutomatically: boolean,\n  initialViewOptions?: ViewOptions\n) {\n  const activeViews: Set<ReturnType<typeof newView>> = new Set()\n  let currentView = startNewView(ViewLoadingType.INITIAL_LOAD, clocksOrigin(), initialViewOptions)\n\n  startViewLifeCycle()\n\n  let locationChangeSubscription: Subscription\n  if (areViewsTrackedAutomatically) {\n    locationChangeSubscription = renewViewOnLocationChange(locationChangeObservable)\n  }\n\n  function startNewView(loadingType: ViewLoadingType, startClocks?: ClocksState, viewOptions?: ViewOptions) {\n    const newlyCreatedView = newView(\n      lifeCycle,\n      domMutationObservable,\n      windowOpenObservable,\n      configuration,\n      location,\n      loadingType,\n      startClocks,\n      viewOptions\n    )\n    activeViews.add(newlyCreatedView)\n    newlyCreatedView.stopObservable.subscribe(() => {\n      activeViews.delete(newlyCreatedView)\n    })\n    return newlyCreatedView\n  }\n\n  function startViewLifeCycle() {\n    lifeCycle.subscribe(LifeCycleEventType.SESSION_RENEWED, () => {\n      // Renew view on session renewal\n      currentView = startNewView(ViewLoadingType.ROUTE_CHANGE, undefined, {\n        name: currentView.name,\n        service: currentView.service,\n        version: currentView.version,\n        context: currentView.contextManager.getContext(),\n      })\n    })\n\n    lifeCycle.subscribe(LifeCycleEventType.SESSION_EXPIRED, () => {\n      currentView.end({ sessionIsActive: false })\n    })\n\n    // End the current view on page unload\n    lifeCycle.subscribe(LifeCycleEventType.PAGE_EXITED, (pageExitEvent) => {\n      if (pageExitEvent.reason === PageExitReason.UNLOADING) {\n        currentView.end()\n      }\n    })\n  }\n\n  function renewViewOnLocationChange(locationChangeObservable: Observable<LocationChange>) {\n    return locationChangeObservable.subscribe(({ oldLocation, newLocation }) => {\n      if (areDifferentLocation(oldLocation, newLocation)) {\n        currentView.end()\n        currentView = startNewView(ViewLoadingType.ROUTE_CHANGE)\n      }\n    })\n  }\n\n  return {\n    addTiming: (name: string, time: RelativeTime | TimeStamp = timeStampNow()) => {\n      currentView.addTiming(name, time)\n    },\n    startView: (options?: ViewOptions, startClocks?: ClocksState) => {\n      currentView.end({ endClocks: startClocks })\n      currentView = startNewView(ViewLoadingType.ROUTE_CHANGE, startClocks, options)\n    },\n    setViewContext: (context: Context) => {\n      currentView.contextManager.setContext(context)\n    },\n    setViewContextProperty: (key: string, value: ContextValue) => {\n      currentView.contextManager.setContextProperty(key, value)\n    },\n    setViewName: (name: string) => {\n      currentView.setViewName(name)\n    },\n    getViewContext: () => currentView.contextManager.getContext(),\n\n    stop: () => {\n      if (locationChangeSubscription) {\n        locationChangeSubscription.unsubscribe()\n      }\n      currentView.end()\n      activeViews.forEach((view) => view.stop())\n    },\n  }\n}\n\nfunction newView(\n  lifeCycle: LifeCycle,\n  domMutationObservable: Observable<void>,\n  windowOpenObservable: Observable<void>,\n  configuration: RumConfiguration,\n  initialLocation: Location,\n  loadingType: ViewLoadingType,\n  startClocks: ClocksState = clocksNow(),\n  viewOptions?: ViewOptions\n) {\n  // Setup initial values\n  const id = generateUUID()\n  const stopObservable = new Observable<void>()\n  const customTimings: ViewCustomTimings = {}\n  let documentVersion = 0\n  let endClocks: ClocksState | undefined\n  const location = shallowClone(initialLocation)\n  const contextManager = createContextManager()\n\n  let sessionIsActive = true\n  let name = viewOptions?.name\n  const service = viewOptions?.service || configuration.service\n  const version = viewOptions?.version || configuration.version\n  const context = viewOptions?.context\n\n  if (context) {\n    contextManager.setContext(context)\n  }\n\n  const viewCreatedEvent = {\n    id,\n    name,\n    startClocks,\n    service,\n    version,\n    context,\n  }\n  lifeCycle.notify(LifeCycleEventType.BEFORE_VIEW_CREATED, viewCreatedEvent)\n  lifeCycle.notify(LifeCycleEventType.VIEW_CREATED, viewCreatedEvent)\n\n  // Update the view every time the measures are changing\n  const { throttled, cancel: cancelScheduleViewUpdate } = throttle(triggerViewUpdate, THROTTLE_VIEW_UPDATE_PERIOD, {\n    leading: false,\n  })\n\n  const {\n    setLoadEvent,\n    setViewEnd,\n    stop: stopCommonViewMetricsTracking,\n    stopINPTracking,\n    getCommonViewMetrics,\n  } = trackCommonViewMetrics(\n    lifeCycle,\n    domMutationObservable,\n    windowOpenObservable,\n    configuration,\n    scheduleViewUpdate,\n    loadingType,\n    startClocks\n  )\n\n  const { stop: stopInitialViewMetricsTracking, initialViewMetrics } =\n    loadingType === ViewLoadingType.INITIAL_LOAD\n      ? trackInitialViewMetrics(configuration, setLoadEvent, scheduleViewUpdate)\n      : { stop: noop, initialViewMetrics: {} as InitialViewMetrics }\n\n  const { stop: stopEventCountsTracking, eventCounts } = trackViewEventCounts(lifeCycle, id, scheduleViewUpdate)\n\n  // Session keep alive\n  const keepAliveIntervalId = setInterval(triggerViewUpdate, SESSION_KEEP_ALIVE_INTERVAL)\n\n  // Initial view update\n  triggerViewUpdate()\n\n  // View context update should always be throttled\n  contextManager.changeObservable.subscribe(scheduleViewUpdate)\n\n  function triggerBeforeViewUpdate() {\n    lifeCycle.notify(LifeCycleEventType.BEFORE_VIEW_UPDATED, {\n      id,\n      name,\n      context: contextManager.getContext(),\n      startClocks,\n    })\n  }\n\n  function scheduleViewUpdate() {\n    triggerBeforeViewUpdate()\n    throttled()\n  }\n\n  function triggerViewUpdate() {\n    cancelScheduleViewUpdate()\n    triggerBeforeViewUpdate()\n\n    documentVersion += 1\n    const currentEnd = endClocks === undefined ? timeStampNow() : endClocks.timeStamp\n    lifeCycle.notify(LifeCycleEventType.VIEW_UPDATED, {\n      customTimings,\n      documentVersion,\n      id,\n      name,\n      service,\n      version,\n      context: contextManager.getContext(),\n      loadingType,\n      location,\n      startClocks,\n      commonViewMetrics: getCommonViewMetrics(),\n      initialViewMetrics,\n      duration: elapsed(startClocks.timeStamp, currentEnd),\n      isActive: endClocks === undefined,\n      sessionIsActive,\n      eventCounts,\n    })\n  }\n\n  return {\n    get name() {\n      return name\n    },\n    service,\n    version,\n    contextManager,\n    stopObservable,\n    end(options: { endClocks?: ClocksState; sessionIsActive?: boolean } = {}) {\n      if (endClocks) {\n        // view already ended\n        return\n      }\n      endClocks = options.endClocks ?? clocksNow()\n      sessionIsActive = options.sessionIsActive ?? true\n\n      lifeCycle.notify(LifeCycleEventType.VIEW_ENDED, { endClocks })\n      lifeCycle.notify(LifeCycleEventType.AFTER_VIEW_ENDED, { endClocks })\n      clearInterval(keepAliveIntervalId)\n      setViewEnd(endClocks.relative)\n      stopCommonViewMetricsTracking()\n      triggerViewUpdate()\n      setTimeout(() => {\n        this.stop()\n      }, KEEP_TRACKING_AFTER_VIEW_DELAY)\n    },\n    stop() {\n      stopInitialViewMetricsTracking()\n      stopEventCountsTracking()\n      stopINPTracking()\n      stopObservable.notify()\n    },\n    addTiming(name: string, time: RelativeTime | TimeStamp) {\n      if (endClocks) {\n        return\n      }\n      const relativeTime = looksLikeRelativeTime(time) ? time : elapsed(startClocks.timeStamp, time)\n      customTimings[sanitizeTiming(name)] = relativeTime\n      scheduleViewUpdate()\n    },\n    setViewName(updatedName: string) {\n      name = updatedName\n      triggerViewUpdate()\n    },\n  }\n}\n\n/**\n * Timing name is used as facet path that must contain only letters, digits, or the characters - _ . @ $\n */\nfunction sanitizeTiming(name: string) {\n  const sanitized = name.replace(/[^a-zA-Z0-9-_.@$]/g, '_')\n  if (sanitized !== name) {\n    display.warn(`Invalid timing name: ${name}, sanitized to: ${sanitized}`)\n  }\n  return sanitized\n}\n\nfunction areDifferentLocation(currentLocation: Location, otherLocation: Location) {\n  return (\n    currentLocation.pathname !== otherLocation.pathname ||\n    (!isHashAnAnchor(otherLocation.hash) &&\n      getPathFromHash(otherLocation.hash) !== getPathFromHash(currentLocation.hash))\n  )\n}\n\nfunction isHashAnAnchor(hash: string) {\n  const correspondingId = hash.substring(1)\n  // check if the correspondingId is empty because on Firefox an empty string passed to getElementById() prints a consol warning\n  return correspondingId !== '' && !!document.getElementById(correspondingId)\n}\n\nfunction getPathFromHash(hash: string) {\n  const index = hash.indexOf('?')\n  return index < 0 ? hash : hash.slice(0, index)\n}\n","import type { LifeCycle } from '../lifeCycle'\nimport { trackEventCounts } from '../trackEventCounts'\n\nexport function trackViewEventCounts(lifeCycle: LifeCycle, viewId: string, onChange: () => void) {\n  const { stop, eventCounts } = trackEventCounts({\n    lifeCycle,\n    isChildEvent: (event) => event.view.id === viewId,\n    onChange,\n  })\n\n  return {\n    stop,\n    eventCounts,\n  }\n}\n","import type { Duration, ServerDuration, Observable } from '@datadog/browser-core'\nimport { isEmptyObject, mapValues, toServerDuration } from '@datadog/browser-core'\nimport { discardNegativeDuration } from '../discardNegativeDuration'\nimport type { RecorderApi } from '../../boot/rumPublicApi'\nimport type { RawRumViewEvent, ViewPerformanceData } from '../../rawRumEvent.types'\nimport { RumEventType } from '../../rawRumEvent.types'\nimport type { LifeCycle, RawRumEventCollectedData } from '../lifeCycle'\nimport { LifeCycleEventType } from '../lifeCycle'\nimport type { LocationChange } from '../../browser/locationChangeObservable'\nimport type { RumConfiguration } from '../configuration'\nimport type { ViewHistory } from '../contexts/viewHistory'\nimport type { Hooks, PartialRumEvent } from '../../hooks'\nimport { HookNames } from '../../hooks'\nimport { trackViews } from './trackViews'\nimport type { ViewEvent, ViewOptions } from './trackViews'\nimport type { CommonViewMetrics } from './viewMetrics/trackCommonViewMetrics'\nimport type { InitialViewMetrics } from './viewMetrics/trackInitialViewMetrics'\n\nexport function startViewCollection(\n  lifeCycle: LifeCycle,\n  hooks: Hooks,\n  configuration: RumConfiguration,\n  location: Location,\n  domMutationObservable: Observable<void>,\n  pageOpenObservable: Observable<void>,\n  locationChangeObservable: Observable<LocationChange>,\n  recorderApi: RecorderApi,\n  viewHistory: ViewHistory,\n  initialViewOptions?: ViewOptions\n) {\n  lifeCycle.subscribe(LifeCycleEventType.VIEW_UPDATED, (view) =>\n    lifeCycle.notify(LifeCycleEventType.RAW_RUM_EVENT_COLLECTED, processViewUpdate(view, configuration, recorderApi))\n  )\n\n  hooks.register(HookNames.Assemble, ({ startTime, eventType }): PartialRumEvent | undefined => {\n    const { service, version, id, name, context } = viewHistory.findView(startTime)!\n\n    return {\n      type: eventType,\n      service,\n      version,\n      context,\n      view: {\n        id,\n        name,\n      },\n    }\n  })\n\n  return trackViews(\n    location,\n    lifeCycle,\n    domMutationObservable,\n    pageOpenObservable,\n    configuration,\n    locationChangeObservable,\n    !configuration.trackViewsManually,\n    initialViewOptions\n  )\n}\n\nfunction processViewUpdate(\n  view: ViewEvent,\n  configuration: RumConfiguration,\n  recorderApi: RecorderApi\n): RawRumEventCollectedData<RawRumViewEvent> {\n  const replayStats = recorderApi.getReplayStats(view.id)\n  const clsDevicePixelRatio = view.commonViewMetrics?.cumulativeLayoutShift?.devicePixelRatio\n  const viewEvent: RawRumViewEvent = {\n    _dd: {\n      document_version: view.documentVersion,\n      replay_stats: replayStats,\n      cls: clsDevicePixelRatio\n        ? {\n            device_pixel_ratio: clsDevicePixelRatio,\n          }\n        : undefined,\n      configuration: {\n        start_session_replay_recording_manually: configuration.startSessionReplayRecordingManually,\n      },\n    },\n    date: view.startClocks.timeStamp,\n    type: RumEventType.VIEW,\n    view: {\n      action: {\n        count: view.eventCounts.actionCount,\n      },\n      frustration: {\n        count: view.eventCounts.frustrationCount,\n      },\n      cumulative_layout_shift: view.commonViewMetrics.cumulativeLayoutShift?.value,\n      cumulative_layout_shift_time: toServerDuration(view.commonViewMetrics.cumulativeLayoutShift?.time),\n      cumulative_layout_shift_target_selector: view.commonViewMetrics.cumulativeLayoutShift?.targetSelector,\n      first_byte: toServerDuration(view.initialViewMetrics.navigationTimings?.firstByte),\n      dom_complete: toServerDuration(view.initialViewMetrics.navigationTimings?.domComplete),\n      dom_content_loaded: toServerDuration(view.initialViewMetrics.navigationTimings?.domContentLoaded),\n      dom_interactive: toServerDuration(view.initialViewMetrics.navigationTimings?.domInteractive),\n      error: {\n        count: view.eventCounts.errorCount,\n      },\n      first_contentful_paint: toServerDuration(view.initialViewMetrics.firstContentfulPaint),\n      first_input_delay: toServerDuration(view.initialViewMetrics.firstInput?.delay),\n      first_input_time: toServerDuration(view.initialViewMetrics.firstInput?.time),\n      first_input_target_selector: view.initialViewMetrics.firstInput?.targetSelector,\n      interaction_to_next_paint: toServerDuration(view.commonViewMetrics.interactionToNextPaint?.value),\n      interaction_to_next_paint_time: toServerDuration(view.commonViewMetrics.interactionToNextPaint?.time),\n      interaction_to_next_paint_target_selector: view.commonViewMetrics.interactionToNextPaint?.targetSelector,\n      is_active: view.isActive,\n      name: view.name,\n      largest_contentful_paint: toServerDuration(view.initialViewMetrics.largestContentfulPaint?.value),\n      largest_contentful_paint_target_selector: view.initialViewMetrics.largestContentfulPaint?.targetSelector,\n      load_event: toServerDuration(view.initialViewMetrics.navigationTimings?.loadEvent),\n      loading_time: discardNegativeDuration(toServerDuration(view.commonViewMetrics.loadingTime)),\n      loading_type: view.loadingType,\n      long_task: {\n        count: view.eventCounts.longTaskCount,\n      },\n      performance: computeViewPerformanceData(view.commonViewMetrics, view.initialViewMetrics),\n      resource: {\n        count: view.eventCounts.resourceCount,\n      },\n      time_spent: toServerDuration(view.duration),\n    },\n    display: view.commonViewMetrics.scroll\n      ? {\n          scroll: {\n            max_depth: view.commonViewMetrics.scroll.maxDepth,\n            max_depth_scroll_top: view.commonViewMetrics.scroll.maxDepthScrollTop,\n            max_scroll_height: view.commonViewMetrics.scroll.maxScrollHeight,\n            max_scroll_height_time: toServerDuration(view.commonViewMetrics.scroll.maxScrollHeightTime),\n          },\n        }\n      : undefined,\n    session: {\n      has_replay: replayStats ? true : undefined,\n      is_active: view.sessionIsActive ? undefined : false,\n    },\n    privacy: {\n      replay_level: configuration.defaultPrivacyLevel,\n    },\n  }\n  if (!isEmptyObject(view.customTimings)) {\n    viewEvent.view.custom_timings = mapValues(\n      view.customTimings,\n      toServerDuration as (duration: Duration) => ServerDuration\n    )\n  }\n\n  return {\n    rawRumEvent: viewEvent,\n    startTime: view.startClocks.relative,\n    duration: view.duration,\n    domainContext: {\n      location: view.location,\n    },\n  }\n}\n\nfunction computeViewPerformanceData(\n  { cumulativeLayoutShift, interactionToNextPaint }: CommonViewMetrics,\n  { firstContentfulPaint, firstInput, largestContentfulPaint }: InitialViewMetrics\n): ViewPerformanceData {\n  return {\n    cls: cumulativeLayoutShift && {\n      score: cumulativeLayoutShift.value,\n      timestamp: toServerDuration(cumulativeLayoutShift.time),\n      target_selector: cumulativeLayoutShift.targetSelector,\n      previous_rect: cumulativeLayoutShift.previousRect,\n      current_rect: cumulativeLayoutShift.currentRect,\n    },\n    fcp: firstContentfulPaint && { timestamp: toServerDuration(firstContentfulPaint) },\n    fid: firstInput && {\n      duration: toServerDuration(firstInput.delay),\n      timestamp: toServerDuration(firstInput.time),\n      target_selector: firstInput.targetSelector,\n    },\n    inp: interactionToNextPaint && {\n      duration: toServerDuration(interactionToNextPaint.value),\n      timestamp: toServerDuration(interactionToNextPaint.time),\n      target_selector: interactionToNextPaint.targetSelector,\n    },\n    lcp: largestContentfulPaint && {\n      timestamp: toServerDuration(largestContentfulPaint.value),\n      target_selector: largestContentfulPaint.targetSelector,\n      resource_url: largestContentfulPaint.resourceUrl,\n    },\n  }\n}\n","import { Observable } from '../../tools/observable'\nimport type { Context } from '../../tools/serialisation/context'\nimport { createValueHistory } from '../../tools/valueHistory'\nimport type { RelativeTime } from '../../tools/utils/timeUtils'\nimport { relativeNow, clocksOrigin, ONE_MINUTE } from '../../tools/utils/timeUtils'\nimport { DOM_EVENT, addEventListener, addEventListeners } from '../../browser/addEventListener'\nimport { clearInterval, setInterval } from '../../tools/timer'\nimport type { Configuration } from '../configuration'\nimport type { TrackingConsentState } from '../trackingConsent'\nimport { SESSION_TIME_OUT_DELAY } from './sessionConstants'\nimport { startSessionStore } from './sessionStore'\nimport type { SessionState } from './sessionState'\n\nexport interface SessionManager<TrackingType extends string> {\n  findSession: (\n    startTime?: RelativeTime,\n    options?: { returnInactive: boolean }\n  ) => SessionContext<TrackingType> | undefined\n  renewObservable: Observable<void>\n  expireObservable: Observable<void>\n  sessionStateUpdateObservable: Observable<{ previousState: SessionState; newState: SessionState }>\n  expire: () => void\n  updateSessionState: (state: Partial<SessionState>) => void\n}\n\nexport interface SessionContext<TrackingType extends string> extends Context {\n  id: string\n  trackingType: TrackingType\n  isReplayForced: boolean\n  anonymousId: string | undefined\n}\n\nexport const VISIBILITY_CHECK_DELAY = ONE_MINUTE\nconst SESSION_CONTEXT_TIMEOUT_DELAY = SESSION_TIME_OUT_DELAY\nlet stopCallbacks: Array<() => void> = []\n\nexport function startSessionManager<TrackingType extends string>(\n  configuration: Configuration,\n  productKey: string,\n  computeSessionState: (rawTrackingType?: string) => { trackingType: TrackingType; isTracked: boolean },\n  trackingConsentState: TrackingConsentState\n): SessionManager<TrackingType> {\n  const renewObservable = new Observable<void>()\n  const expireObservable = new Observable<void>()\n\n  // TODO - Improve configuration type and remove assertion\n  const sessionStore = startSessionStore(\n    configuration.sessionStoreStrategyType!,\n    configuration,\n    productKey,\n    computeSessionState\n  )\n  stopCallbacks.push(() => sessionStore.stop())\n\n  const sessionContextHistory = createValueHistory<SessionContext<TrackingType>>({\n    expireDelay: SESSION_CONTEXT_TIMEOUT_DELAY,\n  })\n  stopCallbacks.push(() => sessionContextHistory.stop())\n\n  sessionStore.renewObservable.subscribe(() => {\n    sessionContextHistory.add(buildSessionContext(), relativeNow())\n    renewObservable.notify()\n  })\n  sessionStore.expireObservable.subscribe(() => {\n    expireObservable.notify()\n    sessionContextHistory.closeActive(relativeNow())\n  })\n\n  // We expand/renew session unconditionally as tracking consent is always granted when the session\n  // manager is started.\n  sessionStore.expandOrRenewSession()\n  sessionContextHistory.add(buildSessionContext(), clocksOrigin().relative)\n\n  trackingConsentState.observable.subscribe(() => {\n    if (trackingConsentState.isGranted()) {\n      sessionStore.expandOrRenewSession()\n    } else {\n      sessionStore.expire()\n    }\n  })\n\n  trackActivity(configuration, () => {\n    if (trackingConsentState.isGranted()) {\n      sessionStore.expandOrRenewSession()\n    }\n  })\n  trackVisibility(configuration, () => sessionStore.expandSession())\n  trackResume(configuration, () => sessionStore.restartSession())\n\n  function buildSessionContext() {\n    return {\n      id: sessionStore.getSession().id!,\n      trackingType: sessionStore.getSession()[productKey] as TrackingType,\n      isReplayForced: !!sessionStore.getSession().forcedReplay,\n      anonymousId: sessionStore.getSession().anonymousId,\n    }\n  }\n\n  return {\n    findSession: (startTime, options) => sessionContextHistory.find(startTime, options),\n    renewObservable,\n    expireObservable,\n    sessionStateUpdateObservable: sessionStore.sessionStateUpdateObservable,\n    expire: sessionStore.expire,\n    updateSessionState: sessionStore.updateSessionState,\n  }\n}\n\nexport function stopSessionManager() {\n  stopCallbacks.forEach((e) => e())\n  stopCallbacks = []\n}\n\nfunction trackActivity(configuration: Configuration, expandOrRenewSession: () => void) {\n  const { stop } = addEventListeners(\n    configuration,\n    window,\n    [DOM_EVENT.CLICK, DOM_EVENT.TOUCH_START, DOM_EVENT.KEY_DOWN, DOM_EVENT.SCROLL],\n    expandOrRenewSession,\n    { capture: true, passive: true }\n  )\n  stopCallbacks.push(stop)\n}\n\nfunction trackVisibility(configuration: Configuration, expandSession: () => void) {\n  const expandSessionWhenVisible = () => {\n    if (document.visibilityState === 'visible') {\n      expandSession()\n    }\n  }\n\n  const { stop } = addEventListener(configuration, document, DOM_EVENT.VISIBILITY_CHANGE, expandSessionWhenVisible)\n  stopCallbacks.push(stop)\n\n  const visibilityCheckInterval = setInterval(expandSessionWhenVisible, VISIBILITY_CHECK_DELAY)\n  stopCallbacks.push(() => {\n    clearInterval(visibilityCheckInterval)\n  })\n}\n\nfunction trackResume(configuration: Configuration, cb: () => void) {\n  const { stop } = addEventListener(configuration, window, DOM_EVENT.RESUME, cb, { capture: true })\n  stopCallbacks.push(stop)\n}\n","import type { RelativeTime, TrackingConsentState } from '@datadog/browser-core'\nimport {\n  BridgeCapability,\n  Observable,\n  bridgeSupports,\n  noop,\n  performDraw,\n  startSessionManager,\n} from '@datadog/browser-core'\nimport type { RumConfiguration } from './configuration'\nimport type { LifeCycle } from './lifeCycle'\nimport { LifeCycleEventType } from './lifeCycle'\n\nexport const enum SessionType {\n  SYNTHETICS = 'synthetics',\n  USER = 'user',\n  CI_TEST = 'ci_test',\n}\n\nexport const RUM_SESSION_KEY = 'rum'\n\nexport interface RumSessionManager {\n  findTrackedSession: (startTime?: RelativeTime) => RumSession | undefined\n  expire: () => void\n  expireObservable: Observable<void>\n  setForcedReplay: () => void\n}\n\nexport type RumSession = {\n  id: string\n  sessionReplay: SessionReplayState\n  anonymousId?: string\n}\n\nexport const enum RumTrackingType {\n  NOT_TRACKED = '0',\n  TRACKED_WITH_SESSION_REPLAY = '1',\n  TRACKED_WITHOUT_SESSION_REPLAY = '2',\n}\n\nexport const enum SessionReplayState {\n  OFF,\n  SAMPLED,\n  FORCED,\n}\n\nexport function startRumSessionManager(\n  configuration: RumConfiguration,\n  lifeCycle: LifeCycle,\n  trackingConsentState: TrackingConsentState\n): RumSessionManager {\n  const sessionManager = startSessionManager(\n    configuration,\n    RUM_SESSION_KEY,\n    (rawTrackingType) => computeSessionState(configuration, rawTrackingType),\n    trackingConsentState\n  )\n\n  sessionManager.expireObservable.subscribe(() => {\n    lifeCycle.notify(LifeCycleEventType.SESSION_EXPIRED)\n  })\n\n  sessionManager.renewObservable.subscribe(() => {\n    lifeCycle.notify(LifeCycleEventType.SESSION_RENEWED)\n  })\n\n  sessionManager.sessionStateUpdateObservable.subscribe(({ previousState, newState }) => {\n    if (!previousState.forcedReplay && newState.forcedReplay) {\n      const sessionEntity = sessionManager.findSession()\n      if (sessionEntity) {\n        sessionEntity.isReplayForced = true\n      }\n    }\n  })\n  return {\n    findTrackedSession: (startTime) => {\n      const session = sessionManager.findSession(startTime)\n      if (!session || !isTypeTracked(session.trackingType)) {\n        return\n      }\n      return {\n        id: session.id,\n        sessionReplay:\n          session.trackingType === RumTrackingType.TRACKED_WITH_SESSION_REPLAY\n            ? SessionReplayState.SAMPLED\n            : session.isReplayForced\n              ? SessionReplayState.FORCED\n              : SessionReplayState.OFF,\n        anonymousId: session.anonymousId,\n      }\n    },\n    expire: sessionManager.expire,\n    expireObservable: sessionManager.expireObservable,\n    setForcedReplay: () => sessionManager.updateSessionState({ forcedReplay: '1' }),\n  }\n}\n\n/**\n * Start a tracked replay session stub\n */\nexport function startRumSessionManagerStub(): RumSessionManager {\n  const session: RumSession = {\n    id: '00000000-aaaa-0000-aaaa-000000000000',\n    sessionReplay: bridgeSupports(BridgeCapability.RECORDS) ? SessionReplayState.SAMPLED : SessionReplayState.OFF,\n  }\n  return {\n    findTrackedSession: () => session,\n    expire: noop,\n    expireObservable: new Observable(),\n    setForcedReplay: noop,\n  }\n}\n\nfunction computeSessionState(configuration: RumConfiguration, rawTrackingType?: string) {\n  let trackingType: RumTrackingType\n  if (hasValidRumSession(rawTrackingType)) {\n    trackingType = rawTrackingType\n  } else if (!performDraw(configuration.sessionSampleRate)) {\n    trackingType = RumTrackingType.NOT_TRACKED\n  } else if (!performDraw(configuration.sessionReplaySampleRate)) {\n    trackingType = RumTrackingType.TRACKED_WITHOUT_SESSION_REPLAY\n  } else {\n    trackingType = RumTrackingType.TRACKED_WITH_SESSION_REPLAY\n  }\n  return {\n    trackingType,\n    isTracked: isTypeTracked(trackingType),\n  }\n}\n\nfunction hasValidRumSession(trackingType?: string): trackingType is RumTrackingType {\n  return (\n    trackingType === RumTrackingType.NOT_TRACKED ||\n    trackingType === RumTrackingType.TRACKED_WITH_SESSION_REPLAY ||\n    trackingType === RumTrackingType.TRACKED_WITHOUT_SESSION_REPLAY\n  )\n}\n\nfunction isTypeTracked(rumSessionType: RumTrackingType | undefined) {\n  return (\n    rumSessionType === RumTrackingType.TRACKED_WITHOUT_SESSION_REPLAY ||\n    rumSessionType === RumTrackingType.TRACKED_WITH_SESSION_REPLAY\n  )\n}\n","import { DOCS_TROUBLESHOOTING, MORE_DETAILS, display } from '../tools/display'\nimport type { Context } from '../tools/serialisation/context'\nimport { objectValues } from '../tools/utils/polyfills'\nimport { isPageExitReason } from '../browser/pageExitObservable'\nimport { jsonStringify } from '../tools/serialisation/jsonStringify'\nimport type { Encoder, EncoderResult } from '../tools/encoder'\nimport { computeBytesCount } from '../tools/utils/byteUtils'\nimport type { HttpRequest, Payload } from './httpRequest'\nimport type { FlushController, FlushEvent } from './flushController'\n\nexport interface Batch {\n  flushController: FlushController\n  add: (message: Context) => void\n  upsert: (message: Context, key: string) => void\n  stop: () => void\n}\n\nexport function createBatch({\n  encoder,\n  request,\n  flushController,\n  messageBytesLimit,\n}: {\n  encoder: Encoder\n  request: HttpRequest\n  flushController: FlushController\n  messageBytesLimit: number\n}): Batch {\n  let upsertBuffer: { [key: string]: string } = {}\n  const flushSubscription = flushController.flushObservable.subscribe((event) => flush(event))\n\n  function push(serializedMessage: string, estimatedMessageBytesCount: number, key?: string) {\n    flushController.notifyBeforeAddMessage(estimatedMessageBytesCount)\n\n    if (key !== undefined) {\n      upsertBuffer[key] = serializedMessage\n      flushController.notifyAfterAddMessage()\n    } else {\n      encoder.write(encoder.isEmpty ? serializedMessage : `\\n${serializedMessage}`, (realMessageBytesCount) => {\n        flushController.notifyAfterAddMessage(realMessageBytesCount - estimatedMessageBytesCount)\n      })\n    }\n  }\n\n  function hasMessageFor(key?: string): key is string {\n    return key !== undefined && upsertBuffer[key] !== undefined\n  }\n\n  function remove(key: string) {\n    const removedMessage = upsertBuffer[key]\n    delete upsertBuffer[key]\n    const messageBytesCount = encoder.estimateEncodedBytesCount(removedMessage)\n    flushController.notifyAfterRemoveMessage(messageBytesCount)\n  }\n\n  function addOrUpdate(message: Context, key?: string) {\n    const serializedMessage = jsonStringify(message)!\n\n    const estimatedMessageBytesCount = encoder.estimateEncodedBytesCount(serializedMessage)\n\n    if (estimatedMessageBytesCount >= messageBytesLimit) {\n      display.warn(\n        `Discarded a message whose size was bigger than the maximum allowed size ${messageBytesLimit}KB. ${MORE_DETAILS} ${DOCS_TROUBLESHOOTING}/#technical-limitations`\n      )\n      return\n    }\n\n    if (hasMessageFor(key)) {\n      remove(key)\n    }\n\n    push(serializedMessage, estimatedMessageBytesCount, key)\n  }\n\n  function flush(event: FlushEvent) {\n    const upsertMessages = objectValues(upsertBuffer).join('\\n')\n    upsertBuffer = {}\n\n    const isPageExit = isPageExitReason(event.reason)\n    const send = isPageExit ? request.sendOnExit : request.send\n\n    if (\n      isPageExit &&\n      // Note: checking that the encoder is async is not strictly needed, but it's an optimization:\n      // if the encoder is async we need to send two requests in some cases (one for encoded data\n      // and the other for non-encoded data). But if it's not async, we don't have to worry about\n      // it and always send a single request.\n      encoder.isAsync\n    ) {\n      const encoderResult = encoder.finishSync()\n\n      // Send encoded messages\n      if (encoderResult.outputBytesCount) {\n        send(formatPayloadFromEncoder(encoderResult))\n      }\n\n      // Send messages that are not yet encoded at this point\n      const pendingMessages = [encoderResult.pendingData, upsertMessages].filter(Boolean).join('\\n')\n      if (pendingMessages) {\n        send({\n          data: pendingMessages,\n          bytesCount: computeBytesCount(pendingMessages),\n        })\n      }\n    } else {\n      if (upsertMessages) {\n        encoder.write(encoder.isEmpty ? upsertMessages : `\\n${upsertMessages}`)\n      }\n      encoder.finish((encoderResult) => {\n        send(formatPayloadFromEncoder(encoderResult))\n      })\n    }\n  }\n\n  return {\n    flushController,\n    add: addOrUpdate,\n    upsert: addOrUpdate,\n    stop: flushSubscription.unsubscribe,\n  }\n}\n\nfunction formatPayloadFromEncoder(encoderResult: EncoderResult): Payload {\n  let data: string | Blob\n  if (typeof encoderResult.output === 'string') {\n    data = encoderResult.output\n  } else {\n    data = new Blob([encoderResult.output], {\n      // This will set the 'Content-Type: text/plain' header. Reasoning:\n      // * The intake rejects the request if there is no content type.\n      // * The browser will issue CORS preflight requests if we set it to 'application/json', which\n      // could induce higher intake load (and maybe has other impacts).\n      // * Also it's not quite JSON, since we are concatenating multiple JSON objects separated by\n      // new lines.\n      type: 'text/plain',\n    })\n  }\n\n  return {\n    data,\n    bytesCount: encoderResult.outputBytesCount,\n    encoding: encoderResult.encoding,\n  }\n}\n","import type { PageExitEvent, PageExitReason } from '../browser/pageExitObservable'\nimport { Observable } from '../tools/observable'\nimport type { TimeoutId } from '../tools/timer'\nimport { clearTimeout, setTimeout } from '../tools/timer'\nimport type { Duration } from '../tools/utils/timeUtils'\n\nexport type FlushReason = PageExitReason | 'duration_limit' | 'bytes_limit' | 'messages_limit' | 'session_expire'\n\nexport type FlushController = ReturnType<typeof createFlushController>\nexport interface FlushEvent {\n  reason: FlushReason\n  bytesCount: number\n  messagesCount: number\n}\n\ninterface FlushControllerOptions {\n  messagesLimit: number\n  bytesLimit: number\n  durationLimit: Duration\n  pageExitObservable: Observable<PageExitEvent>\n  sessionExpireObservable: Observable<void>\n}\n\n/**\n * Returns a \"flush controller\", responsible of notifying when flushing a pool of pending data needs\n * to happen. The implementation is designed to support both synchronous and asynchronous usages,\n * but relies on invariants described in each method documentation to keep a coherent state.\n */\nexport function createFlushController({\n  messagesLimit,\n  bytesLimit,\n  durationLimit,\n  pageExitObservable,\n  sessionExpireObservable,\n}: FlushControllerOptions) {\n  const pageExitSubscription = pageExitObservable.subscribe((event) => flush(event.reason))\n  const sessionExpireSubscription = sessionExpireObservable.subscribe(() => flush('session_expire'))\n\n  const flushObservable = new Observable<FlushEvent>(() => () => {\n    pageExitSubscription.unsubscribe()\n    sessionExpireSubscription.unsubscribe()\n  })\n\n  let currentBytesCount = 0\n  let currentMessagesCount = 0\n\n  function flush(flushReason: FlushReason) {\n    if (currentMessagesCount === 0) {\n      return\n    }\n\n    const messagesCount = currentMessagesCount\n    const bytesCount = currentBytesCount\n\n    currentMessagesCount = 0\n    currentBytesCount = 0\n    cancelDurationLimitTimeout()\n\n    flushObservable.notify({\n      reason: flushReason,\n      messagesCount,\n      bytesCount,\n    })\n  }\n\n  let durationLimitTimeoutId: TimeoutId | undefined\n  function scheduleDurationLimitTimeout() {\n    if (durationLimitTimeoutId === undefined) {\n      durationLimitTimeoutId = setTimeout(() => {\n        flush('duration_limit')\n      }, durationLimit)\n    }\n  }\n\n  function cancelDurationLimitTimeout() {\n    clearTimeout(durationLimitTimeoutId)\n    durationLimitTimeoutId = undefined\n  }\n\n  return {\n    flushObservable,\n    get messagesCount() {\n      return currentMessagesCount\n    },\n\n    /**\n     * Notifies that a message will be added to a pool of pending messages waiting to be flushed.\n     *\n     * This function needs to be called synchronously, right before adding the message, so no flush\n     * event can happen after `notifyBeforeAddMessage` and before adding the message.\n     *\n     * @param estimatedMessageBytesCount: an estimation of the message bytes count once it is\n     * actually added.\n     */\n    notifyBeforeAddMessage(estimatedMessageBytesCount: number) {\n      if (currentBytesCount + estimatedMessageBytesCount >= bytesLimit) {\n        flush('bytes_limit')\n      }\n      // Consider the message to be added now rather than in `notifyAfterAddMessage`, because if no\n      // message was added yet and `notifyAfterAddMessage` is called asynchronously, we still want\n      // to notify when a flush is needed (for example on page exit).\n      currentMessagesCount += 1\n      currentBytesCount += estimatedMessageBytesCount\n      scheduleDurationLimitTimeout()\n    },\n\n    /**\n     * Notifies that a message *was* added to a pool of pending messages waiting to be flushed.\n     *\n     * This function can be called asynchronously after the message was added, but in this case it\n     * should not be called if a flush event occurred in between.\n     *\n     * @param messageBytesCountDiff: the difference between the estimated message bytes count and\n     * its actual bytes count once added to the pool.\n     */\n    notifyAfterAddMessage(messageBytesCountDiff = 0) {\n      currentBytesCount += messageBytesCountDiff\n\n      if (currentMessagesCount >= messagesLimit) {\n        flush('messages_limit')\n      } else if (currentBytesCount >= bytesLimit) {\n        flush('bytes_limit')\n      }\n    },\n\n    /**\n     * Notifies that a message was removed from a pool of pending messages waiting to be flushed.\n     *\n     * This function needs to be called synchronously, right after removing the message, so no flush\n     * event can happen after removing the message and before `notifyAfterRemoveMessage`.\n     *\n     * @param messageBytesCount: the message bytes count that was added to the pool. Should\n     * correspond to the sum of bytes counts passed to `notifyBeforeAddMessage` and\n     * `notifyAfterAddMessage`.\n     */\n    notifyAfterRemoveMessage(messageBytesCount: number) {\n      currentBytesCount -= messageBytesCount\n      currentMessagesCount -= 1\n      if (currentMessagesCount === 0) {\n        cancelDurationLimitTimeout()\n      }\n    },\n  }\n}\n","import type { Context, TelemetryEvent, Observable, RawError, PageExitEvent, Encoder } from '@datadog/browser-core'\nimport {\n  DeflateEncoderStreamId,\n  combine,\n  isTelemetryReplicationAllowed,\n  startBatchWithReplica,\n} from '@datadog/browser-core'\nimport type { RumConfiguration } from '../domain/configuration'\nimport type { LifeCycle } from '../domain/lifeCycle'\nimport { LifeCycleEventType } from '../domain/lifeCycle'\nimport { RumEventType } from '../rawRumEvent.types'\nimport type { RumEvent } from '../rumEvent.types'\n\nexport function startRumBatch(\n  configuration: RumConfiguration,\n  lifeCycle: LifeCycle,\n  telemetryEventObservable: Observable<TelemetryEvent & Context>,\n  reportError: (error: RawError) => void,\n  pageExitObservable: Observable<PageExitEvent>,\n  sessionExpireObservable: Observable<void>,\n  createEncoder: (streamId: DeflateEncoderStreamId) => Encoder\n) {\n  const replica = configuration.replica\n\n  const batch = startBatchWithReplica(\n    configuration,\n    {\n      endpoint: configuration.rumEndpointBuilder,\n      encoder: createEncoder(DeflateEncoderStreamId.RUM),\n    },\n    replica && {\n      endpoint: replica.rumEndpointBuilder,\n      transformMessage: (message) => combine(message, { application: { id: replica.applicationId } }),\n      encoder: createEncoder(DeflateEncoderStreamId.RUM_REPLICA),\n    },\n    reportError,\n    pageExitObservable,\n    sessionExpireObservable\n  )\n\n  lifeCycle.subscribe(LifeCycleEventType.RUM_EVENT_COLLECTED, (serverRumEvent: RumEvent & Context) => {\n    if (serverRumEvent.type === RumEventType.VIEW) {\n      batch.upsert(serverRumEvent, serverRumEvent.view.id)\n    } else {\n      batch.add(serverRumEvent)\n    }\n  })\n\n  telemetryEventObservable.subscribe((event) => batch.add(event, isTelemetryReplicationAllowed(configuration)))\n\n  return batch\n}\n","import type { Configuration, EndpointBuilder } from '../domain/configuration'\nimport type { Context } from '../tools/serialisation/context'\nimport type { Observable } from '../tools/observable'\nimport type { PageExitEvent } from '../browser/pageExitObservable'\nimport type { RawError } from '../domain/error/error.types'\nimport type { Encoder } from '../tools/encoder'\nimport { createBatch } from './batch'\nimport { createHttpRequest } from './httpRequest'\nimport { createFlushController } from './flushController'\n\nexport interface BatchConfiguration {\n  endpoint: EndpointBuilder\n  encoder: Encoder\n}\n\ninterface ReplicaBatchConfiguration<T> extends BatchConfiguration {\n  transformMessage?: (message: T) => T\n}\n\nexport function startBatchWithReplica<T extends Context>(\n  configuration: Configuration,\n  primary: BatchConfiguration,\n  replica: ReplicaBatchConfiguration<T> | undefined,\n  reportError: (error: RawError) => void,\n  pageExitObservable: Observable<PageExitEvent>,\n  sessionExpireObservable: Observable<void>,\n  batchFactoryImp = createBatch\n) {\n  const primaryBatch = createBatchFromConfig(configuration, primary)\n  const replicaBatch = replica && createBatchFromConfig(configuration, replica)\n\n  function createBatchFromConfig(configuration: Configuration, { endpoint, encoder }: BatchConfiguration) {\n    return batchFactoryImp({\n      encoder,\n      request: createHttpRequest(endpoint, configuration.batchBytesLimit, reportError),\n      flushController: createFlushController({\n        messagesLimit: configuration.batchMessagesLimit,\n        bytesLimit: configuration.batchBytesLimit,\n        durationLimit: configuration.flushTimeout,\n        pageExitObservable,\n        sessionExpireObservable,\n      }),\n      messageBytesLimit: configuration.messageBytesLimit,\n    })\n  }\n\n  return {\n    flushObservable: primaryBatch.flushController.flushObservable,\n\n    add(message: T, replicated = true) {\n      primaryBatch.add(message)\n      if (replicaBatch && replicated) {\n        replicaBatch.add(replica.transformMessage ? replica.transformMessage(message) : message)\n      }\n    },\n\n    upsert: (message: T, key: string) => {\n      primaryBatch.upsert(message, key)\n      if (replicaBatch) {\n        replicaBatch.upsert(replica.transformMessage ? replica.transformMessage(message) : message, key)\n      }\n    },\n\n    stop: () => {\n      primaryBatch.stop()\n      if (replicaBatch) {\n        replicaBatch.stop()\n      }\n    },\n  }\n}\n","import type { RelativeTime, Observable, Context } from '@datadog/browser-core'\nimport { SESSION_TIME_OUT_DELAY, relativeNow, createValueHistory } from '@datadog/browser-core'\nimport type { LocationChange } from '../../browser/locationChangeObservable'\nimport type { LifeCycle } from '../lifeCycle'\nimport { LifeCycleEventType } from '../lifeCycle'\nimport type { PartialRumEvent, Hooks } from '../../hooks'\nimport { HookNames } from '../../hooks'\n\n/**\n * We want to attach to an event:\n * - the url corresponding to its start\n * - the referrer corresponding to the previous view url (or document referrer for initial view)\n */\n\nexport const URL_CONTEXT_TIME_OUT_DELAY = SESSION_TIME_OUT_DELAY\n\nexport interface UrlContext {\n  url: string\n  referrer: string\n}\n\nexport interface UrlContexts {\n  findUrl: (startTime?: RelativeTime) => UrlContext | undefined\n  getAllEntries: () => Context[]\n  getDeletedEntries: () => RelativeTime[]\n  stop: () => void\n}\n\nexport function startUrlContexts(\n  lifeCycle: LifeCycle,\n  hooks: Hooks,\n  locationChangeObservable: Observable<LocationChange>,\n  location: Location\n) {\n  const urlContextHistory = createValueHistory<UrlContext>({ expireDelay: URL_CONTEXT_TIME_OUT_DELAY })\n\n  let previousViewUrl: string | undefined\n\n  lifeCycle.subscribe(LifeCycleEventType.BEFORE_VIEW_CREATED, ({ startClocks }) => {\n    const viewUrl = location.href\n    urlContextHistory.add(\n      buildUrlContext({\n        url: viewUrl,\n        referrer: !previousViewUrl ? document.referrer : previousViewUrl,\n      }),\n      startClocks.relative\n    )\n    previousViewUrl = viewUrl\n  })\n\n  lifeCycle.subscribe(LifeCycleEventType.AFTER_VIEW_ENDED, ({ endClocks }) => {\n    urlContextHistory.closeActive(endClocks.relative)\n  })\n\n  const locationChangeSubscription = locationChangeObservable.subscribe(({ newLocation }) => {\n    const current = urlContextHistory.find()\n    if (current) {\n      const changeTime = relativeNow()\n      urlContextHistory.closeActive(changeTime)\n      urlContextHistory.add(\n        buildUrlContext({\n          url: newLocation.href,\n          referrer: current.referrer,\n        }),\n        changeTime\n      )\n    }\n  })\n\n  function buildUrlContext({ url, referrer }: { url: string; referrer: string }) {\n    return {\n      url,\n      referrer,\n    }\n  }\n\n  hooks.register(HookNames.Assemble, ({ startTime, eventType }): PartialRumEvent | undefined => {\n    const { url, referrer } = urlContextHistory.find(startTime)!\n\n    return {\n      type: eventType,\n      view: {\n        url,\n        referrer,\n      },\n    }\n  })\n\n  return {\n    findUrl: (startTime?: RelativeTime) => urlContextHistory.find(startTime),\n    getAllEntries: () => urlContextHistory.getAllEntries(),\n    getDeletedEntries: () => urlContextHistory.getDeletedEntries(),\n    stop: () => {\n      locationChangeSubscription.unsubscribe()\n      urlContextHistory.stop()\n    },\n  }\n}\n","import { addEventListener, DOM_EVENT, instrumentMethod, Observable, shallowClone } from '@datadog/browser-core'\nimport type { RumConfiguration } from '../domain/configuration'\n\nexport interface LocationChange {\n  oldLocation: Readonly<Location>\n  newLocation: Readonly<Location>\n}\n\nexport function createLocationChangeObservable(configuration: RumConfiguration, location: Location) {\n  let currentLocation = shallowClone(location)\n\n  return new Observable<LocationChange>((observable) => {\n    const { stop: stopHistoryTracking } = trackHistory(configuration, onLocationChange)\n    const { stop: stopHashTracking } = trackHash(configuration, onLocationChange)\n\n    function onLocationChange() {\n      if (currentLocation.href === location.href) {\n        return\n      }\n      const newLocation = shallowClone(location)\n      observable.notify({\n        newLocation,\n        oldLocation: currentLocation,\n      })\n      currentLocation = newLocation\n    }\n\n    return () => {\n      stopHistoryTracking()\n      stopHashTracking()\n    }\n  })\n}\n\nfunction trackHistory(configuration: RumConfiguration, onHistoryChange: () => void) {\n  const { stop: stopInstrumentingPushState } = instrumentMethod(\n    getHistoryInstrumentationTarget('pushState'),\n    'pushState',\n    ({ onPostCall }) => {\n      onPostCall(onHistoryChange)\n    }\n  )\n  const { stop: stopInstrumentingReplaceState } = instrumentMethod(\n    getHistoryInstrumentationTarget('replaceState'),\n    'replaceState',\n    ({ onPostCall }) => {\n      onPostCall(onHistoryChange)\n    }\n  )\n  const { stop: removeListener } = addEventListener(configuration, window, DOM_EVENT.POP_STATE, onHistoryChange)\n\n  return {\n    stop: () => {\n      stopInstrumentingPushState()\n      stopInstrumentingReplaceState()\n      removeListener()\n    },\n  }\n}\n\nfunction trackHash(configuration: RumConfiguration, onHashChange: () => void) {\n  return addEventListener(configuration, window, DOM_EVENT.HASH_CHANGE, onHashChange)\n}\n\nfunction getHistoryInstrumentationTarget(methodName: 'pushState' | 'replaceState') {\n  // Ideally we should always instument the method on the prototype, however some frameworks (e.g [Next.js](https://github.com/vercel/next.js/blob/d3f5532065f3e3bb84fb54bd2dfd1a16d0f03a21/packages/next/src/client/components/app-router.tsx#L429))\n  // are wrapping the instance method. In that case we should also wrap the instance method.\n  return Object.prototype.hasOwnProperty.call(history, methodName) ? history : History.prototype\n}\n","import type { ContextValue, Context, CustomerDataTracker } from '@datadog/browser-core'\nimport { SESSION_TIME_OUT_DELAY, createValueHistory, isEmptyObject } from '@datadog/browser-core'\nimport type { LifeCycle } from '../lifeCycle'\nimport { LifeCycleEventType } from '../lifeCycle'\nimport { HookNames } from '../../hooks'\nimport type { Hooks, PartialRumEvent } from '../../hooks'\n\nimport { RumEventType } from '../../rawRumEvent.types'\nimport type { RumConfiguration } from '../configuration'\n\nexport const FEATURE_FLAG_CONTEXT_TIME_OUT_DELAY = SESSION_TIME_OUT_DELAY\nexport const BYTES_COMPUTATION_THROTTLING_DELAY = 200\n\nexport type FeatureFlagContext = Context\n\nexport interface FeatureFlagContexts {\n  addFeatureFlagEvaluation: (key: string, value: ContextValue) => void\n  stop: () => void\n}\n\n/**\n * Start feature flag contexts\n *\n * Feature flag contexts follow the life of views.\n * A new context is added when a view is created and ended when the view is ended\n *\n * Note: we choose not to add a new context at each evaluation to save memory\n */\nexport function startFeatureFlagContexts(\n  lifeCycle: LifeCycle,\n  hooks: Hooks,\n  configuration: RumConfiguration,\n  customerDataTracker: CustomerDataTracker\n): FeatureFlagContexts {\n  const featureFlagContexts = createValueHistory<FeatureFlagContext>({\n    expireDelay: FEATURE_FLAG_CONTEXT_TIME_OUT_DELAY,\n  })\n\n  lifeCycle.subscribe(LifeCycleEventType.BEFORE_VIEW_CREATED, ({ startClocks }) => {\n    featureFlagContexts.add({}, startClocks.relative)\n    customerDataTracker.resetCustomerData()\n  })\n\n  lifeCycle.subscribe(LifeCycleEventType.AFTER_VIEW_ENDED, ({ endClocks }) => {\n    featureFlagContexts.closeActive(endClocks.relative)\n  })\n\n  hooks.register(HookNames.Assemble, ({ startTime, eventType }): PartialRumEvent | undefined => {\n    const trackFeatureFlagsForEvents = (configuration.trackFeatureFlagsForEvents as RumEventType[]).concat([\n      RumEventType.VIEW,\n      RumEventType.ERROR,\n    ])\n    if (!trackFeatureFlagsForEvents.includes(eventType as RumEventType)) {\n      return\n    }\n\n    const featureFlagContext = featureFlagContexts.find(startTime)\n    if (!featureFlagContext || isEmptyObject(featureFlagContext)) {\n      return\n    }\n\n    return {\n      type: eventType,\n      feature_flags: featureFlagContext,\n    }\n  })\n\n  return {\n    addFeatureFlagEvaluation: (key: string, value: ContextValue) => {\n      const currentContext = featureFlagContexts.find()\n      if (currentContext && currentContext[key] !== value) {\n        currentContext[key] = value\n        customerDataTracker.updateCustomerData(currentContext)\n      }\n    },\n    stop: () => customerDataTracker.stop(),\n  }\n}\n","import type { Context, CustomerDataTrackerManager, FlushEvent, Observable, Telemetry } from '@datadog/browser-core'\nimport { performDraw, ONE_SECOND, addTelemetryDebug, setInterval, CustomerDataType } from '@datadog/browser-core'\nimport { RumEventType } from '../rawRumEvent.types'\nimport type { RumEvent } from '../rumEvent.types'\nimport type { RumConfiguration } from './configuration'\nimport type { LifeCycle } from './lifeCycle'\nimport { LifeCycleEventType } from './lifeCycle'\n\nexport const MEASURES_PERIOD_DURATION = 10 * ONE_SECOND\n\ntype Measure = {\n  min: number\n  max: number\n  sum: number\n}\n\ntype CurrentPeriodMeasures = {\n  batchCount: number\n  batchBytesCount: Measure\n  batchMessagesCount: Measure\n  globalContextBytes: Measure\n  userContextBytes: Measure\n  featureFlagBytes: Measure\n}\n\ntype CurrentBatchMeasures = {\n  globalContextBytes: Measure\n  userContextBytes: Measure\n  featureFlagBytes: Measure\n}\n\nlet currentPeriodMeasures: CurrentPeriodMeasures\nlet currentBatchMeasures: CurrentBatchMeasures\nlet batchHasRumEvent: boolean\n\nexport function startCustomerDataTelemetry(\n  configuration: RumConfiguration,\n  telemetry: Telemetry,\n  lifeCycle: LifeCycle,\n  customerDataTrackerManager: CustomerDataTrackerManager,\n  batchFlushObservable: Observable<FlushEvent>\n) {\n  const customerDataTelemetryEnabled = telemetry.enabled && performDraw(configuration.customerDataTelemetrySampleRate)\n  if (!customerDataTelemetryEnabled) {\n    return\n  }\n\n  initCurrentPeriodMeasures()\n  initCurrentBatchMeasures()\n\n  // We measure the data of every view updates even if there could only be one per batch due to the upsert\n  // It means that contexts bytes count sums can be higher than it really is\n  lifeCycle.subscribe(LifeCycleEventType.RUM_EVENT_COLLECTED, (event: RumEvent & Context) => {\n    batchHasRumEvent = true\n    updateMeasure(\n      currentBatchMeasures.globalContextBytes,\n      customerDataTrackerManager.getOrCreateTracker(CustomerDataType.GlobalContext).getBytesCount()\n    )\n\n    updateMeasure(\n      currentBatchMeasures.userContextBytes,\n      customerDataTrackerManager.getOrCreateTracker(CustomerDataType.User).getBytesCount()\n    )\n\n    updateMeasure(\n      currentBatchMeasures.featureFlagBytes,\n      [RumEventType.VIEW, RumEventType.ERROR].includes(event.type as RumEventType)\n        ? customerDataTrackerManager.getOrCreateTracker(CustomerDataType.FeatureFlag).getBytesCount()\n        : 0\n    )\n  })\n\n  batchFlushObservable.subscribe(({ bytesCount, messagesCount }) => {\n    // Don't measure batch that only contains telemetry events to avoid batch sending loop\n    // It could happen because after each batch we are adding a customer data measures telemetry event to the next one\n    if (!batchHasRumEvent) {\n      return\n    }\n    currentPeriodMeasures.batchCount += 1\n    updateMeasure(currentPeriodMeasures.batchBytesCount, bytesCount)\n    updateMeasure(currentPeriodMeasures.batchMessagesCount, messagesCount)\n    mergeMeasure(currentPeriodMeasures.globalContextBytes, currentBatchMeasures.globalContextBytes)\n    mergeMeasure(currentPeriodMeasures.userContextBytes, currentBatchMeasures.userContextBytes)\n    mergeMeasure(currentPeriodMeasures.featureFlagBytes, currentBatchMeasures.featureFlagBytes)\n    initCurrentBatchMeasures()\n  })\n\n  setInterval(sendCurrentPeriodMeasures, MEASURES_PERIOD_DURATION)\n}\n\nfunction sendCurrentPeriodMeasures() {\n  if (currentPeriodMeasures.batchCount === 0) {\n    return\n  }\n\n  addTelemetryDebug('Customer data measures', currentPeriodMeasures)\n  initCurrentPeriodMeasures()\n}\n\nfunction createMeasure(): Measure {\n  return { min: Infinity, max: 0, sum: 0 }\n}\n\nfunction updateMeasure(measure: Measure, value: number) {\n  measure.sum += value\n  measure.min = Math.min(measure.min, value)\n  measure.max = Math.max(measure.max, value)\n}\n\nfunction mergeMeasure(target: Measure, source: Measure) {\n  target.sum += source.sum\n  target.min = Math.min(target.min, source.min)\n  target.max = Math.max(target.max, source.max)\n}\n\nfunction initCurrentPeriodMeasures() {\n  currentPeriodMeasures = {\n    batchCount: 0,\n    batchBytesCount: createMeasure(),\n    batchMessagesCount: createMeasure(),\n    globalContextBytes: createMeasure(),\n    userContextBytes: createMeasure(),\n    featureFlagBytes: createMeasure(),\n  }\n}\n\nfunction initCurrentBatchMeasures() {\n  batchHasRumEvent = false\n  currentBatchMeasures = {\n    globalContextBytes: createMeasure(),\n    userContextBytes: createMeasure(),\n    featureFlagBytes: createMeasure(),\n  }\n}\n","import type { Duration, RelativeTime } from '@datadog/browser-core'\nimport {\n  elapsed,\n  createValueHistory,\n  SESSION_TIME_OUT_DELAY,\n  toServerDuration,\n  addEventListeners,\n  relativeNow,\n  DOM_EVENT,\n} from '@datadog/browser-core'\nimport type { RumConfiguration } from '../configuration'\nimport { RumEventType, type PageStateServerEntry } from '../../rawRumEvent.types'\nimport { HookNames } from '../../hooks'\nimport type { Hooks, PartialRumEvent } from '../../hooks'\n\n// Arbitrary value to cap number of element for memory consumption in the browser\nexport const MAX_PAGE_STATE_ENTRIES = 4000\n// Arbitrary value to cap number of element for backend & to save bandwidth\nexport const MAX_PAGE_STATE_ENTRIES_SELECTABLE = 500\n\nexport const PAGE_STATE_CONTEXT_TIME_OUT_DELAY = SESSION_TIME_OUT_DELAY\n\nexport const enum PageState {\n  ACTIVE = 'active',\n  PASSIVE = 'passive',\n  HIDDEN = 'hidden',\n  FROZEN = 'frozen',\n  TERMINATED = 'terminated',\n}\n\nexport type PageStateEntry = { state: PageState; startTime: RelativeTime }\n\nexport interface PageStateHistory {\n  wasInPageStateDuringPeriod: (state: PageState, startTime: RelativeTime, duration: Duration) => boolean\n  addPageState(nextPageState: PageState, startTime?: RelativeTime): void\n  stop: () => void\n}\n\nexport function startPageStateHistory(\n  hooks: Hooks,\n  configuration: RumConfiguration,\n  maxPageStateEntriesSelectable = MAX_PAGE_STATE_ENTRIES_SELECTABLE\n): PageStateHistory {\n  const pageStateEntryHistory = createValueHistory<PageStateEntry>({\n    expireDelay: PAGE_STATE_CONTEXT_TIME_OUT_DELAY,\n    maxEntries: MAX_PAGE_STATE_ENTRIES,\n  })\n\n  let currentPageState: PageState\n  addPageState(getPageState(), relativeNow())\n\n  const { stop: stopEventListeners } = addEventListeners(\n    configuration,\n    window,\n    [\n      DOM_EVENT.PAGE_SHOW,\n      DOM_EVENT.FOCUS,\n      DOM_EVENT.BLUR,\n      DOM_EVENT.VISIBILITY_CHANGE,\n      DOM_EVENT.RESUME,\n      DOM_EVENT.FREEZE,\n      DOM_EVENT.PAGE_HIDE,\n    ],\n    (event) => {\n      addPageState(computePageState(event), event.timeStamp as RelativeTime)\n    },\n    { capture: true }\n  )\n\n  function addPageState(nextPageState: PageState, startTime = relativeNow()) {\n    if (nextPageState === currentPageState) {\n      return\n    }\n\n    currentPageState = nextPageState\n    pageStateEntryHistory.closeActive(startTime)\n    pageStateEntryHistory.add({ state: currentPageState, startTime }, startTime)\n  }\n\n  function wasInPageStateDuringPeriod(state: PageState, startTime: RelativeTime, duration: Duration) {\n    return pageStateEntryHistory.findAll(startTime, duration).some((pageState) => pageState.state === state)\n  }\n\n  hooks.register(\n    HookNames.Assemble,\n    ({ startTime, duration = 0 as Duration, eventType }): PartialRumEvent | undefined => {\n      if (eventType === RumEventType.VIEW) {\n        const pageStates = pageStateEntryHistory.findAll(startTime, duration)\n        return {\n          type: eventType,\n          _dd: { page_states: processPageStates(pageStates, startTime, maxPageStateEntriesSelectable) },\n        }\n      }\n\n      if (eventType === RumEventType.ACTION || eventType === RumEventType.ERROR) {\n        return {\n          type: eventType,\n          view: { in_foreground: wasInPageStateDuringPeriod(PageState.ACTIVE, startTime, 0 as Duration) },\n        }\n      }\n    }\n  )\n\n  return {\n    wasInPageStateDuringPeriod,\n    addPageState,\n    stop: () => {\n      stopEventListeners()\n      pageStateEntryHistory.stop()\n    },\n  }\n}\n\nfunction processPageStates(\n  pageStateEntries: PageStateEntry[],\n  eventStartTime: RelativeTime,\n  maxPageStateEntriesSelectable: number\n): PageStateServerEntry[] | undefined {\n  if (pageStateEntries.length === 0) {\n    return\n  }\n\n  return pageStateEntries\n    .slice(-maxPageStateEntriesSelectable)\n    .reverse()\n    .map(({ state, startTime }) => ({\n      state,\n      start: toServerDuration(elapsed(eventStartTime, startTime)),\n    }))\n}\n\nfunction computePageState(event: Event & { type: DOM_EVENT }) {\n  if (event.type === DOM_EVENT.FREEZE) {\n    return PageState.FROZEN\n  } else if (event.type === DOM_EVENT.PAGE_HIDE) {\n    return (event as PageTransitionEvent).persisted ? PageState.FROZEN : PageState.TERMINATED\n  }\n  return getPageState()\n}\n\nfunction getPageState() {\n  if (document.visibilityState === 'hidden') {\n    return PageState.HIDDEN\n  }\n\n  if (document.hasFocus()) {\n    return PageState.ACTIVE\n  }\n\n  return PageState.PASSIVE\n}\n","import type { Configuration, CookieStore } from '@datadog/browser-core'\nimport {\n  setInterval,\n  clearInterval,\n  Observable,\n  addEventListener,\n  ONE_SECOND,\n  findCommaSeparatedValue,\n  DOM_EVENT,\n} from '@datadog/browser-core'\n\nexport interface CookieStoreWindow extends Window {\n  cookieStore?: CookieStore\n}\n\nexport type CookieObservable = ReturnType<typeof createCookieObservable>\n\nexport function createCookieObservable(configuration: Configuration, cookieName: string) {\n  const detectCookieChangeStrategy = (window as CookieStoreWindow).cookieStore\n    ? listenToCookieStoreChange(configuration)\n    : watchCookieFallback\n\n  return new Observable<string | undefined>((observable) =>\n    detectCookieChangeStrategy(cookieName, (event) => observable.notify(event))\n  )\n}\n\nfunction listenToCookieStoreChange(configuration: Configuration) {\n  return (cookieName: string, callback: (event: string | undefined) => void) => {\n    const listener = addEventListener(\n      configuration,\n      (window as CookieStoreWindow).cookieStore!,\n      DOM_EVENT.CHANGE,\n      (event) => {\n        // Based on our experimentation, we're assuming that entries for the same cookie cannot be in both the 'changed' and 'deleted' arrays.\n        // However, due to ambiguity in the specification, we asked for clarification: https://github.com/WICG/cookie-store/issues/226\n        const changeEvent =\n          event.changed.find((event) => event.name === cookieName) ||\n          event.deleted.find((event) => event.name === cookieName)\n        if (changeEvent) {\n          callback(changeEvent.value)\n        }\n      }\n    )\n    return listener.stop\n  }\n}\n\nexport const WATCH_COOKIE_INTERVAL_DELAY = ONE_SECOND\n\nfunction watchCookieFallback(cookieName: string, callback: (event: string | undefined) => void) {\n  const previousCookieValue = findCommaSeparatedValue(document.cookie, cookieName)\n  const watchCookieIntervalId = setInterval(() => {\n    const cookieValue = findCommaSeparatedValue(document.cookie, cookieName)\n    if (cookieValue !== previousCookieValue) {\n      callback(cookieValue)\n    }\n  }, WATCH_COOKIE_INTERVAL_DELAY)\n\n  return () => {\n    clearInterval(watchCookieIntervalId)\n  }\n}\n","import { getInitCookie } from '@datadog/browser-core'\nimport type { Configuration } from '@datadog/browser-core'\nimport { createCookieObservable } from '../../browser/cookieObservable'\nimport type { Hooks, PartialRumEvent } from '../../hooks'\nimport { HookNames } from '../../hooks'\nimport { SessionType } from '../rumSessionManager'\n\nexport const CI_VISIBILITY_TEST_ID_COOKIE_NAME = 'datadog-ci-visibility-test-execution-id'\n\nexport interface CiTestWindow extends Window {\n  Cypress?: {\n    env: (key: string) => string | undefined\n  }\n}\n\nexport type CiVisibilityContext = ReturnType<typeof startCiVisibilityContext>\n\nexport function startCiVisibilityContext(\n  configuration: Configuration,\n  hooks: Hooks,\n  cookieObservable = createCookieObservable(configuration, CI_VISIBILITY_TEST_ID_COOKIE_NAME)\n) {\n  let testExecutionId =\n    getInitCookie(CI_VISIBILITY_TEST_ID_COOKIE_NAME) || (window as CiTestWindow).Cypress?.env('traceId')\n\n  const cookieObservableSubscription = cookieObservable.subscribe((value) => {\n    testExecutionId = value\n  })\n\n  hooks.register(HookNames.Assemble, ({ eventType }): PartialRumEvent | undefined => {\n    if (typeof testExecutionId !== 'string') {\n      return\n    }\n\n    return {\n      type: eventType,\n      session: {\n        type: SessionType.CI_TEST,\n      },\n      ci_test: {\n        test_execution_id: testExecutionId,\n      },\n    }\n  })\n\n  return {\n    stop: () => {\n      cookieObservableSubscription.unsubscribe()\n    },\n  }\n}\n","import { getSyntheticsResultId, getSyntheticsTestId, willSyntheticsInjectRum } from '@datadog/browser-core'\nimport { HookNames } from '../../hooks'\nimport type { Hooks, PartialRumEvent } from '../../hooks'\nimport { SessionType } from '../rumSessionManager'\n\nexport function startSyntheticsContext(hooks: Hooks) {\n  hooks.register(HookNames.Assemble, ({ eventType }): PartialRumEvent | undefined => {\n    const testId = getSyntheticsTestId()\n    const resultId = getSyntheticsResultId()\n    if (!testId || !resultId) {\n      return\n    }\n\n    return {\n      type: eventType,\n      session: {\n        type: SessionType.SYNTHETICS,\n      },\n      synthetics: {\n        test_id: testId,\n        result_id: resultId,\n        injected: willSyntheticsInjectRum(),\n      },\n    }\n  })\n}\n","import type {\n  Observable,\n  TelemetryEvent,\n  RawError,\n  DeflateEncoderStreamId,\n  Encoder,\n  CustomerDataTrackerManager,\n  TrackingConsentState,\n} from '@datadog/browser-core'\nimport {\n  sendToExtension,\n  createPageExitObservable,\n  TelemetryService,\n  startTelemetry,\n  canUseEventBridge,\n  getEventBridge,\n  addTelemetryDebug,\n  CustomerDataType,\n  drainPreStartTelemetry,\n} from '@datadog/browser-core'\nimport { createDOMMutationObservable } from '../browser/domMutationObservable'\nimport { createWindowOpenObservable } from '../browser/windowOpenObservable'\nimport { startRumAssembly } from '../domain/assembly'\nimport { startInternalContext } from '../domain/contexts/internalContext'\nimport { LifeCycle, LifeCycleEventType } from '../domain/lifeCycle'\nimport type { ViewHistory } from '../domain/contexts/viewHistory'\nimport { startViewHistory } from '../domain/contexts/viewHistory'\nimport { startRequestCollection } from '../domain/requestCollection'\nimport { startActionCollection } from '../domain/action/actionCollection'\nimport { startErrorCollection } from '../domain/error/errorCollection'\nimport { startResourceCollection } from '../domain/resource/resourceCollection'\nimport { startViewCollection } from '../domain/view/viewCollection'\nimport type { RumSessionManager } from '../domain/rumSessionManager'\nimport { startRumSessionManager, startRumSessionManagerStub } from '../domain/rumSessionManager'\nimport { startRumBatch } from '../transport/startRumBatch'\nimport { startRumEventBridge } from '../transport/startRumEventBridge'\nimport type { UrlContexts } from '../domain/contexts/urlContexts'\nimport { startUrlContexts } from '../domain/contexts/urlContexts'\nimport { createLocationChangeObservable } from '../browser/locationChangeObservable'\nimport type { RumConfiguration } from '../domain/configuration'\nimport type { ViewOptions } from '../domain/view/trackViews'\nimport { startFeatureFlagContexts } from '../domain/contexts/featureFlagContext'\nimport { startCustomerDataTelemetry } from '../domain/startCustomerDataTelemetry'\nimport type { PageStateHistory } from '../domain/contexts/pageStateHistory'\nimport { startPageStateHistory } from '../domain/contexts/pageStateHistory'\nimport type { CommonContext } from '../domain/contexts/commonContext'\nimport { startDisplayContext } from '../domain/contexts/displayContext'\nimport type { CustomVitalsState } from '../domain/vital/vitalCollection'\nimport { startVitalCollection } from '../domain/vital/vitalCollection'\nimport { startCiVisibilityContext } from '../domain/contexts/ciVisibilityContext'\nimport { startLongAnimationFrameCollection } from '../domain/longAnimationFrame/longAnimationFrameCollection'\nimport { RumPerformanceEntryType, supportPerformanceTimingEvent } from '../browser/performanceObservable'\nimport { startLongTaskCollection } from '../domain/longTask/longTaskCollection'\nimport type { Hooks } from '../hooks'\nimport { createHooks } from '../hooks'\nimport { startSyntheticsContext } from '../domain/contexts/syntheticsContext'\nimport type { RecorderApi, ProfilerApi } from './rumPublicApi'\n\nexport type StartRum = typeof startRum\nexport type StartRumResult = ReturnType<StartRum>\n\nexport function startRum(\n  configuration: RumConfiguration,\n  recorderApi: RecorderApi,\n  profilerApi: ProfilerApi,\n  customerDataTrackerManager: CustomerDataTrackerManager,\n  getCommonContext: () => CommonContext,\n  initialViewOptions: ViewOptions | undefined,\n  createEncoder: (streamId: DeflateEncoderStreamId) => Encoder,\n\n  // `startRum` and its subcomponents assume tracking consent is granted initially and starts\n  // collecting logs unconditionally. As such, `startRum` should be called with a\n  // `trackingConsentState` set to \"granted\".\n  trackingConsentState: TrackingConsentState,\n  customVitalsState: CustomVitalsState\n) {\n  const cleanupTasks: Array<() => void> = []\n  const lifeCycle = new LifeCycle()\n  const hooks = createHooks()\n\n  lifeCycle.subscribe(LifeCycleEventType.RUM_EVENT_COLLECTED, (event) => sendToExtension('rum', event))\n\n  const telemetry = startRumTelemetry(configuration)\n  telemetry.setContextProvider(() => ({\n    application: {\n      id: configuration.applicationId,\n    },\n    session: {\n      id: session.findTrackedSession()?.id,\n    },\n    view: {\n      id: viewHistory.findView()?.id,\n    },\n    action: {\n      id: actionContexts.findActionId(),\n    },\n  }))\n\n  const reportError = (error: RawError) => {\n    lifeCycle.notify(LifeCycleEventType.RAW_ERROR_COLLECTED, { error })\n    addTelemetryDebug('Error reported to customer', { 'error.message': error.message })\n  }\n\n  const pageExitObservable = createPageExitObservable(configuration)\n  const pageExitSubscription = pageExitObservable.subscribe((event) => {\n    lifeCycle.notify(LifeCycleEventType.PAGE_EXITED, event)\n  })\n  cleanupTasks.push(() => pageExitSubscription.unsubscribe())\n\n  const session = !canUseEventBridge()\n    ? startRumSessionManager(configuration, lifeCycle, trackingConsentState)\n    : startRumSessionManagerStub()\n  if (!canUseEventBridge()) {\n    const batch = startRumBatch(\n      configuration,\n      lifeCycle,\n      telemetry.observable,\n      reportError,\n      pageExitObservable,\n      session.expireObservable,\n      createEncoder\n    )\n    cleanupTasks.push(() => batch.stop())\n    startCustomerDataTelemetry(configuration, telemetry, lifeCycle, customerDataTrackerManager, batch.flushObservable)\n  } else {\n    startRumEventBridge(lifeCycle)\n  }\n\n  const domMutationObservable = createDOMMutationObservable()\n  const locationChangeObservable = createLocationChangeObservable(configuration, location)\n  const pageStateHistory = startPageStateHistory(hooks, configuration)\n  const viewHistory = startViewHistory(lifeCycle)\n  const urlContexts = startUrlContexts(lifeCycle, hooks, locationChangeObservable, location)\n  const featureFlagContexts = startFeatureFlagContexts(\n    lifeCycle,\n    hooks,\n    configuration,\n    customerDataTrackerManager.getOrCreateTracker(CustomerDataType.FeatureFlag)\n  )\n  cleanupTasks.push(() => featureFlagContexts.stop())\n  const { observable: windowOpenObservable, stop: stopWindowOpen } = createWindowOpenObservable()\n  cleanupTasks.push(stopWindowOpen)\n\n  const {\n    actionContexts,\n    addAction,\n    stop: stopRumEventCollection,\n  } = startRumEventCollection(\n    lifeCycle,\n    hooks,\n    configuration,\n    session,\n    pageStateHistory,\n    domMutationObservable,\n    windowOpenObservable,\n    urlContexts,\n    viewHistory,\n    getCommonContext,\n    reportError\n  )\n  cleanupTasks.push(stopRumEventCollection)\n\n  drainPreStartTelemetry()\n\n  const {\n    addTiming,\n    startView,\n    setViewName,\n    setViewContext,\n    setViewContextProperty,\n    getViewContext,\n    stop: stopViewCollection,\n  } = startViewCollection(\n    lifeCycle,\n    hooks,\n    configuration,\n    location,\n    domMutationObservable,\n    windowOpenObservable,\n    locationChangeObservable,\n    recorderApi,\n    viewHistory,\n    initialViewOptions\n  )\n\n  cleanupTasks.push(stopViewCollection)\n\n  const { stop: stopResourceCollection } = startResourceCollection(lifeCycle, configuration, pageStateHistory)\n  cleanupTasks.push(stopResourceCollection)\n\n  if (configuration.trackLongTasks) {\n    if (supportPerformanceTimingEvent(RumPerformanceEntryType.LONG_ANIMATION_FRAME)) {\n      const { stop: stopLongAnimationFrameCollection } = startLongAnimationFrameCollection(lifeCycle, configuration)\n      cleanupTasks.push(stopLongAnimationFrameCollection)\n    } else {\n      startLongTaskCollection(lifeCycle, configuration)\n    }\n  }\n\n  const { addError } = startErrorCollection(lifeCycle, configuration)\n\n  startRequestCollection(lifeCycle, configuration, session, getCommonContext)\n\n  const vitalCollection = startVitalCollection(lifeCycle, pageStateHistory, customVitalsState)\n  const internalContext = startInternalContext(\n    configuration.applicationId,\n    session,\n    viewHistory,\n    actionContexts,\n    urlContexts\n  )\n\n  // Add Clean-up tasks for Profiler API.\n  cleanupTasks.push(() => profilerApi.stop())\n\n  return {\n    addAction,\n    addError,\n    addTiming,\n    addFeatureFlagEvaluation: featureFlagContexts.addFeatureFlagEvaluation,\n    startView,\n    setViewContext,\n    setViewContextProperty,\n    getViewContext,\n    setViewName,\n    lifeCycle,\n    viewHistory,\n    session,\n    stopSession: () => session.expire(),\n    getInternalContext: internalContext.get,\n    startDurationVital: vitalCollection.startDurationVital,\n    stopDurationVital: vitalCollection.stopDurationVital,\n    addDurationVital: vitalCollection.addDurationVital,\n    stop: () => {\n      cleanupTasks.forEach((task) => task())\n    },\n  }\n}\n\nfunction startRumTelemetry(configuration: RumConfiguration) {\n  const telemetry = startTelemetry(TelemetryService.RUM, configuration)\n  if (canUseEventBridge()) {\n    const bridge = getEventBridge<'internal_telemetry', TelemetryEvent>()!\n    telemetry.observable.subscribe((event) => bridge.send('internal_telemetry', event))\n  }\n  return telemetry\n}\n\nexport function startRumEventCollection(\n  lifeCycle: LifeCycle,\n  hooks: Hooks,\n  configuration: RumConfiguration,\n  sessionManager: RumSessionManager,\n  pageStateHistory: PageStateHistory,\n  domMutationObservable: Observable<void>,\n  windowOpenObservable: Observable<void>,\n  urlContexts: UrlContexts,\n  viewHistory: ViewHistory,\n  getCommonContext: () => CommonContext,\n  reportError: (error: RawError) => void\n) {\n  const actionCollection = startActionCollection(\n    lifeCycle,\n    hooks,\n    domMutationObservable,\n    windowOpenObservable,\n    configuration\n  )\n\n  const displayContext = startDisplayContext(configuration)\n  const ciVisibilityContext = startCiVisibilityContext(configuration, hooks)\n  startSyntheticsContext(hooks)\n\n  startRumAssembly(\n    configuration,\n    lifeCycle,\n    hooks,\n    sessionManager,\n    viewHistory,\n    urlContexts,\n    displayContext,\n    getCommonContext,\n    reportError\n  )\n\n  return {\n    pageStateHistory,\n    addAction: actionCollection.addAction,\n    actionContexts: actionCollection.actionContexts,\n    stop: () => {\n      actionCollection.stop()\n      ciVisibilityContext.stop()\n      displayContext.stop()\n      viewHistory.stop()\n      pageStateHistory.stop()\n      urlContexts.stop()\n    },\n  }\n}\n","import { combine } from '@datadog/browser-core'\nimport type { Duration, RelativeTime } from '@datadog/browser-core'\nimport type { RumEvent } from './rumEvent.types'\n\nexport const enum HookNames {\n  Assemble,\n}\n\ntype RecursivePartialExcept<T, K extends keyof T> = {\n  [P in keyof T]?: T[P] extends object ? RecursivePartialExcept<T[P], never> : T[P]\n} & {\n  [P in K]: T[P]\n}\n\n// Define a partial RUM event type.\n// Ensuring the `type` field is always present improves type checking, especially in conditional logic in hooks (e.g., `if (eventType === 'view')`).\nexport type PartialRumEvent = RecursivePartialExcept<RumEvent, 'type'>\n\n// This is a workaround for an issue occurring when the Browser SDK is included in a TypeScript\n// project configured with `isolatedModules: true`. Even if the const enum is declared in this\n// module, we cannot use it directly to define the EventMap interface keys (TS error: \"Cannot access\n// ambient const enums when the '--isolatedModules' flag is provided.\").\ndeclare const HookNamesAsConst: {\n  ASSEMBLE: HookNames.Assemble\n}\nexport type HookCallbackMap = {\n  [HookNamesAsConst.ASSEMBLE]: (param: {\n    eventType: RumEvent['type']\n    startTime: RelativeTime\n    duration?: Duration | undefined\n  }) => PartialRumEvent | undefined\n}\n\nexport type Hooks = ReturnType<typeof createHooks>\n\nexport function createHooks() {\n  const callbacks: { [K in HookNames]?: Array<HookCallbackMap[K]> } = {}\n\n  return {\n    register<K extends HookNames>(hookName: K, callback: HookCallbackMap[K]) {\n      if (!callbacks[hookName]) {\n        callbacks[hookName] = []\n      }\n      callbacks[hookName]!.push(callback)\n      return {\n        unregister: () => {\n          callbacks[hookName] = callbacks[hookName]!.filter((cb) => cb !== callback)\n        },\n      }\n    },\n    triggerHook<K extends keyof HookCallbackMap>(\n      hookName: K,\n      param: Parameters<HookCallbackMap[K]>[0]\n    ): ReturnType<HookCallbackMap[K]> {\n      const hookCallbacks = callbacks[hookName] || []\n      const results = hookCallbacks.map((callback) => callback(param))\n      return combine(...(results as [object, object])) as ReturnType<HookCallbackMap[K]>\n    },\n  }\n}\n","import type { Context } from '@datadog/browser-core'\nimport { getEventBridge } from '@datadog/browser-core'\nimport type { LifeCycle } from '../domain/lifeCycle'\nimport { LifeCycleEventType } from '../domain/lifeCycle'\nimport type { RumEvent } from '../rumEvent.types'\n\nexport function startRumEventBridge(lifeCycle: LifeCycle) {\n  const bridge = getEventBridge<'rum', RumEvent>()!\n\n  lifeCycle.subscribe(LifeCycleEventType.RUM_EVENT_COLLECTED, (serverRumEvent: RumEvent & Context) => {\n    bridge.send('rum', serverRumEvent)\n  })\n}\n","import { instrumentMethod, Observable } from '@datadog/browser-core'\n\nexport function createWindowOpenObservable() {\n  const observable = new Observable<void>()\n  const { stop } = instrumentMethod(window, 'open', () => observable.notify())\n  return { observable, stop }\n}\n","import { monitor } from '@datadog/browser-core'\nimport type { RumConfiguration } from '../configuration'\nimport type { ViewportDimension } from '../../browser/viewportObservable'\nimport { getViewportDimension, initViewportObservable } from '../../browser/viewportObservable'\n\nexport type DisplayContext = ReturnType<typeof startDisplayContext>\n\nexport function startDisplayContext(configuration: RumConfiguration) {\n  let viewport: ViewportDimension | undefined\n  // Use requestAnimationFrame to delay the calculation of viewport dimensions until after SDK initialization, preventing long tasks.\n  const animationFrameId = requestAnimationFrame(\n    monitor(() => {\n      viewport = getViewportDimension()\n    })\n  )\n\n  const unsubscribeViewport = initViewportObservable(configuration).subscribe((viewportDimension) => {\n    viewport = viewportDimension\n  }).unsubscribe\n\n  return {\n    get: () => (viewport ? { viewport } : undefined),\n    stop: () => {\n      unsubscribeViewport()\n      if (animationFrameId) {\n        cancelAnimationFrame(animationFrameId)\n      }\n    },\n  }\n}\n","import { toServerDuration, relativeToClocks, generateUUID } from '@datadog/browser-core'\nimport type { RawRumLongAnimationFrameEvent } from '../../rawRumEvent.types'\nimport { RumEventType, RumLongTaskEntryType } from '../../rawRumEvent.types'\nimport type { LifeCycle } from '../lifeCycle'\nimport { LifeCycleEventType } from '../lifeCycle'\nimport { createPerformanceObservable, RumPerformanceEntryType } from '../../browser/performanceObservable'\nimport type { RumConfiguration } from '../configuration'\n\nexport function startLongAnimationFrameCollection(lifeCycle: LifeCycle, configuration: RumConfiguration) {\n  const performanceResourceSubscription = createPerformanceObservable(configuration, {\n    type: RumPerformanceEntryType.LONG_ANIMATION_FRAME,\n    buffered: true,\n  }).subscribe((entries) => {\n    for (const entry of entries) {\n      const startClocks = relativeToClocks(entry.startTime)\n\n      const rawRumEvent: RawRumLongAnimationFrameEvent = {\n        date: startClocks.timeStamp,\n        long_task: {\n          id: generateUUID(),\n          entry_type: RumLongTaskEntryType.LONG_ANIMATION_FRAME,\n          duration: toServerDuration(entry.duration),\n          blocking_duration: toServerDuration(entry.blockingDuration),\n          first_ui_event_timestamp: toServerDuration(entry.firstUIEventTimestamp),\n          render_start: toServerDuration(entry.renderStart),\n          style_and_layout_start: toServerDuration(entry.styleAndLayoutStart),\n          start_time: toServerDuration(entry.startTime),\n          scripts: entry.scripts.map((script) => ({\n            duration: toServerDuration(script.duration),\n            pause_duration: toServerDuration(script.pauseDuration),\n            forced_style_and_layout_duration: toServerDuration(script.forcedStyleAndLayoutDuration),\n            start_time: toServerDuration(script.startTime),\n            execution_start: toServerDuration(script.executionStart),\n            source_url: script.sourceURL,\n            source_function_name: script.sourceFunctionName,\n            source_char_position: script.sourceCharPosition,\n            invoker: script.invoker,\n            invoker_type: script.invokerType,\n            window_attribution: script.windowAttribution,\n          })),\n        },\n        type: RumEventType.LONG_TASK,\n        _dd: {\n          discarded: false,\n        },\n      }\n\n      lifeCycle.notify(LifeCycleEventType.RAW_RUM_EVENT_COLLECTED, {\n        rawRumEvent,\n        startTime: startClocks.relative,\n        duration: entry.duration,\n        domainContext: { performanceEntry: entry },\n      })\n    }\n  })\n\n  return { stop: () => performanceResourceSubscription.unsubscribe() }\n}\n","import { toServerDuration, relativeToClocks, generateUUID } from '@datadog/browser-core'\nimport type { RawRumLongTaskEvent } from '../../rawRumEvent.types'\nimport { RumEventType, RumLongTaskEntryType } from '../../rawRumEvent.types'\nimport type { LifeCycle } from '../lifeCycle'\nimport { LifeCycleEventType } from '../lifeCycle'\nimport { createPerformanceObservable, RumPerformanceEntryType } from '../../browser/performanceObservable'\nimport type { RumConfiguration } from '../configuration'\nexport function startLongTaskCollection(lifeCycle: LifeCycle, configuration: RumConfiguration) {\n  const performanceLongTaskSubscription = createPerformanceObservable(configuration, {\n    type: RumPerformanceEntryType.LONG_TASK,\n    buffered: true,\n  }).subscribe((entries) => {\n    for (const entry of entries) {\n      if (entry.entryType !== RumPerformanceEntryType.LONG_TASK) {\n        break\n      }\n      if (!configuration.trackLongTasks) {\n        break\n      }\n      const startClocks = relativeToClocks(entry.startTime)\n      const rawRumEvent: RawRumLongTaskEvent = {\n        date: startClocks.timeStamp,\n        long_task: {\n          id: generateUUID(),\n          entry_type: RumLongTaskEntryType.LONG_TASK,\n          duration: toServerDuration(entry.duration),\n        },\n        type: RumEventType.LONG_TASK,\n        _dd: {\n          discarded: false,\n        },\n      }\n      lifeCycle.notify(LifeCycleEventType.RAW_RUM_EVENT_COLLECTED, {\n        rawRumEvent,\n        startTime: startClocks.relative,\n        duration: entry.duration,\n        domainContext: { performanceEntry: entry },\n      })\n    }\n  })\n\n  return {\n    stop() {\n      performanceLongTaskSubscription.unsubscribe()\n    },\n  }\n}\n","import type { RelativeTime } from '@datadog/browser-core'\nimport type { ActionContexts } from '../action/actionCollection'\nimport type { RumSessionManager } from '../rumSessionManager'\nimport type { ViewHistory } from './viewHistory'\nimport type { UrlContexts } from './urlContexts'\n\nexport interface InternalContext {\n  application_id: string\n  session_id: string | undefined\n  view?: {\n    id: string\n    url: string\n    referrer: string\n    name?: string\n  }\n  user_action?: {\n    id: string | string[]\n  }\n}\n\n/**\n * Internal context keep returning v1 format\n * to not break compatibility with logs data format\n */\nexport function startInternalContext(\n  applicationId: string,\n  sessionManager: RumSessionManager,\n  viewHistory: ViewHistory,\n  actionContexts: ActionContexts,\n  urlContexts: UrlContexts\n) {\n  return {\n    get: (startTime?: number): InternalContext | undefined => {\n      const viewContext = viewHistory.findView(startTime as RelativeTime)\n      const urlContext = urlContexts.findUrl(startTime as RelativeTime)\n      const session = sessionManager.findTrackedSession(startTime as RelativeTime)\n      if (session && viewContext && urlContext) {\n        const actionId = actionContexts.findActionId(startTime as RelativeTime)\n        return {\n          application_id: applicationId,\n          session_id: session.id,\n          user_action: actionId ? { id: actionId } : undefined,\n          view: { id: viewContext.id, name: viewContext.name, referrer: urlContext.referrer, url: urlContext.url },\n        }\n      }\n    },\n  }\n}\n","import { INTAKE_SITE_STAGING, INTAKE_SITE_US1, INTAKE_SITE_EU1 } from '@datadog/browser-core'\nimport type { RumConfiguration } from './configuration'\nimport type { ViewHistoryEntry } from './contexts/viewHistory'\nimport type { RumSession } from './rumSessionManager'\n\nexport function getSessionReplayUrl(\n  configuration: RumConfiguration,\n  {\n    session,\n    viewContext,\n    errorType,\n  }: {\n    session?: RumSession\n    viewContext?: ViewHistoryEntry\n    errorType?: string\n  }\n): string {\n  const sessionId = session ? session.id : 'no-session-id'\n  const parameters: string[] = []\n  if (errorType !== undefined) {\n    parameters.push(`error-type=${errorType}`)\n  }\n  if (viewContext) {\n    parameters.push(`seed=${viewContext.id}`)\n    parameters.push(`from=${viewContext.startClocks.timeStamp}`)\n  }\n\n  const origin = getDatadogSiteUrl(configuration)\n  const path = `/rum/replay/sessions/${sessionId}`\n  return `${origin}${path}?${parameters.join('&')}`\n}\n\nexport function getDatadogSiteUrl(rumConfiguration: RumConfiguration) {\n  const site = rumConfiguration.site\n  const subdomain = rumConfiguration.subdomain || getSiteDefaultSubdomain(rumConfiguration)\n  return `https://${subdomain ? `${subdomain}.` : ''}${site}`\n}\n\nfunction getSiteDefaultSubdomain(configuration: RumConfiguration): string | undefined {\n  switch (configuration.site) {\n    case INTAKE_SITE_US1:\n    case INTAKE_SITE_EU1:\n      return 'app'\n    case INTAKE_SITE_STAGING:\n      return 'dd'\n    default:\n      return undefined\n  }\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","import { noop } from '../utils/functionUtils'\n\n/**\n * Custom implementation of JSON.stringify that ignores some toJSON methods. We need to do that\n * because some sites badly override toJSON on certain objects. Removing all toJSON methods from\n * nested values would be too costly, so we just detach them from the root value, and native classes\n * used to build JSON values (Array and Object).\n *\n * Note: this still assumes that JSON.stringify is correct.\n */\nexport function jsonStringify(\n  value: unknown,\n  replacer?: Array<string | number>,\n  space?: string | number\n): string | undefined {\n  if (typeof value !== 'object' || value === null) {\n    return JSON.stringify(value)\n  }\n\n  // Note: The order matter here. We need to detach toJSON methods on parent classes before their\n  // subclasses.\n  const restoreObjectPrototypeToJson = detachToJsonMethod(Object.prototype)\n  const restoreArrayPrototypeToJson = detachToJsonMethod(Array.prototype)\n  const restoreValuePrototypeToJson = detachToJsonMethod(Object.getPrototypeOf(value))\n  const restoreValueToJson = detachToJsonMethod(value)\n\n  try {\n    return JSON.stringify(value, replacer, space)\n  } catch {\n    return '<error: unable to serialize object>'\n  } finally {\n    restoreObjectPrototypeToJson()\n    restoreArrayPrototypeToJson()\n    restoreValuePrototypeToJson()\n    restoreValueToJson()\n  }\n}\n\nexport interface ObjectWithToJsonMethod {\n  toJSON?: () => unknown\n}\n\nexport function detachToJsonMethod(value: object) {\n  const object = value as ObjectWithToJsonMethod\n  const objectToJson = object.toJSON\n  if (objectToJson) {\n    delete object.toJSON\n    return () => {\n      object.toJSON = objectToJson\n    }\n  }\n  return noop\n}\n","/* eslint-disable local-rules/disallow-side-effects */\n/**\n * Keep references on console methods to avoid triggering patched behaviors\n *\n * NB: in some setup, console could already be patched by another SDK.\n * In this case, some display messages can be sent by the other SDK\n * but we should be safe from infinite loop nonetheless.\n */\n\nexport const ConsoleApiName = {\n  log: 'log',\n  debug: 'debug',\n  info: 'info',\n  warn: 'warn',\n  error: 'error',\n} as const\n\nexport type ConsoleApiName = (typeof ConsoleApiName)[keyof typeof ConsoleApiName]\n\ninterface Display {\n  debug: typeof console.debug\n  log: typeof console.log\n  info: typeof console.info\n  warn: typeof console.warn\n  error: typeof console.error\n}\n\n/**\n * When building JS bundles, some users might use a plugin[1] or configuration[2] to remove\n * \"console.*\" references. This causes some issue as we expect `console.*` to be defined.\n * As a workaround, let's use a variable alias, so those expressions won't be taken into account by\n * simple static analysis.\n *\n * [1]: https://babeljs.io/docs/babel-plugin-transform-remove-console/\n * [2]: https://github.com/terser/terser#compress-options (look for drop_console)\n */\nexport const globalConsole = console\n\nexport const originalConsoleMethods = {} as Display\nObject.keys(ConsoleApiName).forEach((name) => {\n  originalConsoleMethods[name as ConsoleApiName] = globalConsole[name as ConsoleApiName]\n})\n\nconst PREFIX = 'Datadog Browser SDK:'\n\nexport const display: Display = {\n  debug: originalConsoleMethods.debug.bind(globalConsole, PREFIX),\n  log: originalConsoleMethods.log.bind(globalConsole, PREFIX),\n  info: originalConsoleMethods.info.bind(globalConsole, PREFIX),\n  warn: originalConsoleMethods.warn.bind(globalConsole, PREFIX),\n  error: originalConsoleMethods.error.bind(globalConsole, PREFIX),\n}\n\nexport const DOCS_ORIGIN = 'https://docs.datadoghq.com'\nexport const DOCS_TROUBLESHOOTING = `${DOCS_ORIGIN}/real_user_monitoring/browser/troubleshooting`\nexport const MORE_DETAILS = 'More details:'\n","export function isServerError(status: number) {\n  return status >= 500\n}\n\nexport function tryToClone(response: Response): Response | undefined {\n  try {\n    return response.clone()\n  } catch {\n    // clone can throw if the response has already been used by another instrumentation or is disturbed\n    return\n  }\n}\n","export interface Subscription {\n  unsubscribe: () => void\n}\n\n// eslint-disable-next-line no-restricted-syntax\nexport class Observable<T> {\n  private observers: Array<(data: T) => void> = []\n  private onLastUnsubscribe?: () => void\n\n  constructor(private onFirstSubscribe?: (observable: Observable<T>) => (() => void) | void) {}\n\n  subscribe(f: (data: T) => void): Subscription {\n    this.observers.push(f)\n    if (this.observers.length === 1 && this.onFirstSubscribe) {\n      this.onLastUnsubscribe = this.onFirstSubscribe(this) || undefined\n    }\n    return {\n      unsubscribe: () => {\n        this.observers = this.observers.filter((other) => f !== other)\n        if (!this.observers.length && this.onLastUnsubscribe) {\n          this.onLastUnsubscribe()\n        }\n      },\n    }\n  }\n\n  notify(data: T) {\n    this.observers.forEach((observer) => observer(data))\n  }\n}\n\nexport function mergeObservables<T>(...observables: Array<Observable<T>>) {\n  return new Observable<T>((globalObservable) => {\n    const subscriptions: Subscription[] = observables.map((observable) =>\n      observable.subscribe((data) => globalObservable.notify(data))\n    )\n    return () => subscriptions.forEach((subscription) => subscription.unsubscribe())\n  })\n}\n","import type { TelemetryEvent, TelemetryConfigurationEvent, TelemetryUsageEvent } from './telemetryEvent.types'\n\nexport const TelemetryType = {\n  log: 'log',\n  configuration: 'configuration',\n  usage: 'usage',\n} as const\n\nexport const enum StatusType {\n  debug = 'debug',\n  error = 'error',\n}\n\nexport interface RuntimeEnvInfo {\n  is_local_file: boolean\n  is_worker: boolean\n}\n\nexport type RawTelemetryEvent = TelemetryEvent['telemetry']\nexport type RawTelemetryConfiguration = TelemetryConfigurationEvent['telemetry']['configuration']\nexport type RawTelemetryUsage = TelemetryUsageEvent['telemetry']['usage']\n","import type { Context } from '../../tools/serialisation/context'\nimport { ConsoleApiName } from '../../tools/display'\nimport { NO_ERROR_STACK_PRESENT_MESSAGE, isError } from '../error/error'\nimport { toStackTraceString } from '../../tools/stackTrace/handlingStack'\nimport { getExperimentalFeatures } from '../../tools/experimentalFeatures'\nimport type { Configuration } from '../configuration'\nimport { INTAKE_SITE_STAGING, INTAKE_SITE_US1_FED } from '../configuration'\nimport { Observable } from '../../tools/observable'\nimport { timeStampNow } from '../../tools/utils/timeUtils'\nimport { displayIfDebugEnabled, startMonitorErrorCollection } from '../../tools/monitor'\nimport { sendToExtension } from '../../tools/sendToExtension'\nimport { performDraw } from '../../tools/utils/numberUtils'\nimport { jsonStringify } from '../../tools/serialisation/jsonStringify'\nimport { combine } from '../../tools/mergeInto'\nimport { NonErrorPrefix } from '../error/error.types'\nimport type { StackTrace } from '../../tools/stackTrace/computeStackTrace'\nimport { computeStackTrace } from '../../tools/stackTrace/computeStackTrace'\nimport { getConnectivity } from '../connectivity'\nimport { createBoundedBuffer } from '../../tools/boundedBuffer'\nimport type { TelemetryEvent } from './telemetryEvent.types'\nimport type {\n  RawTelemetryConfiguration,\n  RawTelemetryEvent,\n  RuntimeEnvInfo,\n  RawTelemetryUsage,\n} from './rawTelemetryEvent.types'\nimport { StatusType, TelemetryType } from './rawTelemetryEvent.types'\n\n// replaced at build time\ndeclare const __BUILD_ENV__SDK_VERSION__: string\ndeclare const __BUILD_ENV__SDK_SETUP__: string\n\nconst ALLOWED_FRAME_URLS = [\n  'https://www.datadoghq-browser-agent.com',\n  'https://www.datad0g-browser-agent.com',\n  'https://d3uc069fcn7uxw.cloudfront.net',\n  'https://d20xtzwzcl0ceb.cloudfront.net',\n  'http://localhost',\n  '<anonymous>',\n]\n\nexport const enum TelemetryService {\n  LOGS = 'browser-logs-sdk',\n  RUM = 'browser-rum-sdk',\n}\n\nexport interface Telemetry {\n  setContextProvider: (provider: () => Context) => void\n  observable: Observable<TelemetryEvent & Context>\n  enabled: boolean\n}\n\nconst TELEMETRY_EXCLUDED_SITES: string[] = [INTAKE_SITE_US1_FED]\n\n// eslint-disable-next-line local-rules/disallow-side-effects\nlet preStartTelemetryBuffer = createBoundedBuffer()\nlet onRawTelemetryEventCollected = (event: RawTelemetryEvent) => {\n  preStartTelemetryBuffer.add(() => onRawTelemetryEventCollected(event))\n}\n\nexport function startTelemetry(telemetryService: TelemetryService, configuration: Configuration): Telemetry {\n  let contextProvider: () => Context\n  const observable = new Observable<TelemetryEvent & Context>()\n  const alreadySentEvents = new Set<string>()\n\n  const telemetryEnabled =\n    !TELEMETRY_EXCLUDED_SITES.includes(configuration.site) && performDraw(configuration.telemetrySampleRate)\n\n  const telemetryEnabledPerType = {\n    [TelemetryType.log]: telemetryEnabled,\n    [TelemetryType.configuration]: telemetryEnabled && performDraw(configuration.telemetryConfigurationSampleRate),\n    [TelemetryType.usage]: telemetryEnabled && performDraw(configuration.telemetryUsageSampleRate),\n  }\n\n  const runtimeEnvInfo = getRuntimeEnvInfo()\n  onRawTelemetryEventCollected = (rawEvent: RawTelemetryEvent) => {\n    const stringifiedEvent = jsonStringify(rawEvent)!\n    if (\n      telemetryEnabledPerType[rawEvent.type!] &&\n      alreadySentEvents.size < configuration.maxTelemetryEventsPerPage &&\n      !alreadySentEvents.has(stringifiedEvent)\n    ) {\n      const event = toTelemetryEvent(telemetryService, rawEvent, runtimeEnvInfo)\n      observable.notify(event)\n      sendToExtension('telemetry', event)\n      alreadySentEvents.add(stringifiedEvent)\n    }\n  }\n  startMonitorErrorCollection(addTelemetryError)\n\n  function toTelemetryEvent(\n    telemetryService: TelemetryService,\n    event: RawTelemetryEvent,\n    runtimeEnvInfo: RuntimeEnvInfo\n  ): TelemetryEvent & Context {\n    return combine(\n      {\n        type: 'telemetry' as const,\n        date: timeStampNow(),\n        service: telemetryService,\n        version: __BUILD_ENV__SDK_VERSION__,\n        source: 'browser' as const,\n        _dd: {\n          format_version: 2 as const,\n        },\n        telemetry: combine(event, {\n          runtime_env: runtimeEnvInfo,\n          connectivity: getConnectivity(),\n          sdk_setup: __BUILD_ENV__SDK_SETUP__,\n        }),\n        experimental_features: Array.from(getExperimentalFeatures()),\n      },\n      contextProvider !== undefined ? contextProvider() : {}\n    ) as TelemetryEvent & Context\n  }\n\n  return {\n    setContextProvider: (provider: () => Context) => {\n      contextProvider = provider\n    },\n    observable,\n    enabled: telemetryEnabled,\n  }\n}\nfunction getRuntimeEnvInfo(): RuntimeEnvInfo {\n  return {\n    is_local_file: window.location.protocol === 'file:',\n    is_worker: 'WorkerGlobalScope' in self,\n  }\n}\n\nexport function startFakeTelemetry() {\n  const events: RawTelemetryEvent[] = []\n\n  onRawTelemetryEventCollected = (event: RawTelemetryEvent) => {\n    events.push(event)\n  }\n\n  return events\n}\n\n// need to be called after telemetry context is provided and observers are registered\nexport function drainPreStartTelemetry() {\n  preStartTelemetryBuffer.drain()\n}\n\nexport function resetTelemetry() {\n  preStartTelemetryBuffer = createBoundedBuffer()\n  onRawTelemetryEventCollected = (event: RawTelemetryEvent) => {\n    preStartTelemetryBuffer.add(() => onRawTelemetryEventCollected(event))\n  }\n}\n\n/**\n * Avoid mixing telemetry events from different data centers\n * but keep replicating staging events for reliability\n */\nexport function isTelemetryReplicationAllowed(configuration: Configuration) {\n  return configuration.site === INTAKE_SITE_STAGING\n}\n\nexport function addTelemetryDebug(message: string, context?: Context) {\n  displayIfDebugEnabled(ConsoleApiName.debug, message, context)\n  onRawTelemetryEventCollected({\n    type: TelemetryType.log,\n    message,\n    status: StatusType.debug,\n    ...context,\n  })\n}\n\nexport function addTelemetryError(e: unknown, context?: Context) {\n  onRawTelemetryEventCollected({\n    type: TelemetryType.log,\n    status: StatusType.error,\n    ...formatError(e),\n    ...context,\n  })\n}\n\nexport function addTelemetryConfiguration(configuration: RawTelemetryConfiguration) {\n  onRawTelemetryEventCollected({\n    type: TelemetryType.configuration,\n    configuration,\n  })\n}\n\nexport function addTelemetryUsage(usage: RawTelemetryUsage) {\n  onRawTelemetryEventCollected({\n    type: TelemetryType.usage,\n    usage,\n  })\n}\n\nexport function formatError(e: unknown) {\n  if (isError(e)) {\n    const stackTrace = computeStackTrace(e)\n    return {\n      error: {\n        kind: stackTrace.name,\n        stack: toStackTraceString(scrubCustomerFrames(stackTrace)),\n      },\n      message: stackTrace.message!,\n    }\n  }\n  return {\n    error: {\n      stack: NO_ERROR_STACK_PRESENT_MESSAGE,\n    },\n    message: `${NonErrorPrefix.UNCAUGHT} ${jsonStringify(e)!}`,\n  }\n}\n\nexport function scrubCustomerFrames(stackTrace: StackTrace) {\n  stackTrace.stack = stackTrace.stack.filter(\n    (frame) => !frame.url || ALLOWED_FRAME_URLS.some((allowedFrameUrl) => frame.url!.startsWith(allowedFrameUrl))\n  )\n  return stackTrace\n}\n","export const ONE_KIBI_BYTE = 1024\nexport const ONE_MEBI_BYTE = 1024 * ONE_KIBI_BYTE\n\n// eslint-disable-next-line no-control-regex\nconst HAS_MULTI_BYTES_CHARACTERS = /[^\\u0000-\\u007F]/\n\nexport function computeBytesCount(candidate: string): number {\n  // Accurate bytes count computations can degrade performances when there is a lot of events to process\n  if (!HAS_MULTI_BYTES_CHARACTERS.test(candidate)) {\n    return candidate.length\n  }\n\n  if (window.TextEncoder !== undefined) {\n    return new TextEncoder().encode(candidate).length\n  }\n\n  return new Blob([candidate]).size\n}\n\nexport function concatBuffers(buffers: Uint8Array[]): Uint8Array {\n  const length = buffers.reduce((total, buffer) => total + buffer.length, 0)\n  const result: Uint8Array = new Uint8Array(length)\n  let offset = 0\n  for (const buffer of buffers) {\n    result.set(buffer, offset)\n    offset += buffer.length\n  }\n  return result\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"static/js/\" + ({\"12\":\"profiler\",\"777\":\"recorder\"}[chunkId] || chunkId) + \".\" + {\"12\":\"743b402a\",\"453\":\"f9de9c3f\",\"777\":\"9626af9b\"}[chunkId] + \".chunk.js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"runningcalc:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/running_calc/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkrunningcalc\"] = self[\"webpackChunkrunningcalc\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","import type {\n  DeflateWorkerResponse,\n  DeflateEncoder,\n  DeflateEncoderStreamId,\n  DeflateWorker,\n  EncoderResult,\n} from '@datadog/browser-core'\nimport type { RumConfiguration } from '@datadog/browser-rum-core'\nimport { addEventListener, addTelemetryDebug, concatBuffers } from '@datadog/browser-core'\n\nexport function createDeflateEncoder(\n  configuration: RumConfiguration,\n  worker: DeflateWorker,\n  streamId: DeflateEncoderStreamId\n): DeflateEncoder {\n  let rawBytesCount = 0\n  let compressedData: Uint8Array[] = []\n  let compressedDataTrailer: Uint8Array\n\n  let nextWriteActionId = 0\n  const pendingWriteActions: Array<{\n    writeCallback?: (additionalEncodedBytesCount: number) => void\n    finishCallback?: () => void\n    id: number\n    data: string\n  }> = []\n\n  const { stop: removeMessageListener } = addEventListener(\n    configuration,\n    worker,\n    'message',\n    ({ data: workerResponse }: MessageEvent<DeflateWorkerResponse>) => {\n      if (workerResponse.type !== 'wrote' || (workerResponse.streamId as DeflateEncoderStreamId) !== streamId) {\n        return\n      }\n\n      rawBytesCount += workerResponse.additionalBytesCount\n      compressedData.push(workerResponse.result)\n      compressedDataTrailer = workerResponse.trailer\n\n      const nextPendingAction = pendingWriteActions.shift()\n      if (nextPendingAction && nextPendingAction.id === workerResponse.id) {\n        if (nextPendingAction.writeCallback) {\n          nextPendingAction.writeCallback(workerResponse.result.byteLength)\n        } else if (nextPendingAction.finishCallback) {\n          nextPendingAction.finishCallback()\n        }\n      } else {\n        removeMessageListener()\n        addTelemetryDebug('Worker responses received out of order.')\n      }\n    }\n  )\n\n  function consumeResult(): EncoderResult<Uint8Array> {\n    const output =\n      compressedData.length === 0 ? new Uint8Array(0) : concatBuffers(compressedData.concat(compressedDataTrailer))\n    const result: EncoderResult<Uint8Array> = {\n      rawBytesCount,\n      output,\n      outputBytesCount: output.byteLength,\n      encoding: 'deflate',\n    }\n    rawBytesCount = 0\n    compressedData = []\n    return result\n  }\n\n  function sendResetIfNeeded() {\n    if (nextWriteActionId > 0) {\n      worker.postMessage({\n        action: 'reset',\n        streamId,\n      })\n      nextWriteActionId = 0\n    }\n  }\n\n  return {\n    isAsync: true,\n\n    get isEmpty() {\n      return nextWriteActionId === 0\n    },\n\n    write(data, callback) {\n      worker.postMessage({\n        action: 'write',\n        id: nextWriteActionId,\n        data,\n        streamId,\n      })\n      pendingWriteActions.push({\n        id: nextWriteActionId,\n        writeCallback: callback,\n        data,\n      })\n      nextWriteActionId += 1\n    },\n\n    finish(callback) {\n      sendResetIfNeeded()\n\n      if (!pendingWriteActions.length) {\n        callback(consumeResult())\n      } else {\n        // Make sure we do not call any write callback\n        pendingWriteActions.forEach((pendingWriteAction) => {\n          delete pendingWriteAction.writeCallback\n        })\n\n        // Wait for the last action to finish before calling the finish callback\n        pendingWriteActions[pendingWriteActions.length - 1].finishCallback = () => callback(consumeResult())\n      }\n    },\n\n    finishSync() {\n      sendResetIfNeeded()\n\n      const pendingData = pendingWriteActions\n        .map((pendingWriteAction) => {\n          // Make sure we do not call any write or finish callback\n          delete pendingWriteAction.writeCallback\n          delete pendingWriteAction.finishCallback\n          return pendingWriteAction.data\n        })\n        .join('')\n\n      return { ...consumeResult(), pendingData }\n    },\n\n    estimateEncodedBytesCount(data) {\n      // This is a rough estimation of the data size once it'll be encoded by deflate. We observed\n      // that if it's the first chunk of data pushed to the stream, the ratio is lower (3-4), but\n      // after that the ratio is greater (10+). We chose 8 here, which (on average) seems to produce\n      // requests of the expected size.\n      return data.length / 8\n    },\n\n    stop() {\n      removeMessageListener()\n    },\n  }\n}\n","import { addTelemetryError, display, DOCS_ORIGIN } from '@datadog/browser-core'\n\nexport function reportScriptLoadingError({\n  configuredUrl,\n  error,\n  source,\n  scriptType,\n}: {\n  configuredUrl?: string | undefined\n  error: unknown\n  source: string\n  scriptType: 'module' | 'worker'\n}) {\n  display.error(`${source} failed to start: an error occurred while initializing the ${scriptType}:`, error)\n  if (error instanceof Event || (error instanceof Error && isMessageCspRelated(error.message))) {\n    let baseMessage\n    if (configuredUrl) {\n      baseMessage = `Please make sure the ${scriptType} URL ${configuredUrl} is correct and CSP is correctly configured.`\n    } else {\n      baseMessage = 'Please make sure CSP is correctly configured.'\n    }\n    display.error(\n      `${baseMessage} See documentation at ${DOCS_ORIGIN}/integrations/content_security_policy_logs/#use-csp-with-real-user-monitoring-and-session-replay`\n    )\n  } else if (scriptType === 'worker') {\n    addTelemetryError(error)\n  }\n}\n\nfunction isMessageCspRelated(message: string) {\n  return (\n    message.includes('Content Security Policy') ||\n    // Related to `require-trusted-types-for` CSP: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/require-trusted-types-for\n    message.includes(\"requires 'TrustedScriptURL'\")\n  )\n}\n","import type { DeflateWorker, DeflateWorkerResponse } from '@datadog/browser-core'\nimport { addTelemetryError, display, addEventListener, setTimeout, ONE_SECOND } from '@datadog/browser-core'\nimport type { RumConfiguration } from '@datadog/browser-rum-core'\nimport { reportScriptLoadingError } from '../scriptLoadingError'\n\nexport const INITIALIZATION_TIME_OUT_DELAY = 30 * ONE_SECOND\n\ndeclare const __BUILD_ENV__WORKER_STRING__: string\n\n/**\n * In order to be sure that the worker is correctly working, we need a round trip of\n * initialization messages, making the creation asynchronous.\n * These worker lifecycle states handle this case.\n */\nexport const enum DeflateWorkerStatus {\n  Nil,\n  Loading,\n  Error,\n  Initialized,\n}\n\ntype DeflateWorkerState =\n  | {\n      status: DeflateWorkerStatus.Nil\n    }\n  | {\n      status: DeflateWorkerStatus.Loading\n      worker: DeflateWorker\n      stop: () => void\n      initializationFailureCallbacks: Array<() => void>\n    }\n  | {\n      status: DeflateWorkerStatus.Error\n    }\n  | {\n      status: DeflateWorkerStatus.Initialized\n      worker: DeflateWorker\n      stop: () => void\n      version: string\n    }\n\nexport type CreateDeflateWorker = typeof createDeflateWorker\n\nfunction createDeflateWorker(configuration: RumConfiguration): DeflateWorker {\n  return new Worker(configuration.workerUrl || URL.createObjectURL(new Blob([__BUILD_ENV__WORKER_STRING__])))\n}\n\nlet state: DeflateWorkerState = { status: DeflateWorkerStatus.Nil }\n\nexport function startDeflateWorker(\n  configuration: RumConfiguration,\n  source: string,\n  onInitializationFailure: () => void,\n  createDeflateWorkerImpl = createDeflateWorker\n) {\n  if (state.status === DeflateWorkerStatus.Nil) {\n    // doStartDeflateWorker updates the state to \"loading\" or \"error\"\n    doStartDeflateWorker(configuration, source, createDeflateWorkerImpl)\n  }\n\n  switch (state.status) {\n    case DeflateWorkerStatus.Loading:\n      state.initializationFailureCallbacks.push(onInitializationFailure)\n      return state.worker\n    case DeflateWorkerStatus.Initialized:\n      return state.worker\n  }\n}\n\nexport function resetDeflateWorkerState() {\n  if (state.status === DeflateWorkerStatus.Initialized || state.status === DeflateWorkerStatus.Loading) {\n    state.stop()\n  }\n  state = { status: DeflateWorkerStatus.Nil }\n}\n\nexport function getDeflateWorkerStatus() {\n  return state.status\n}\n\n/**\n * Starts the deflate worker and handle messages and errors\n *\n * The spec allow browsers to handle worker errors differently:\n * - Chromium throws an exception\n * - Firefox fires an error event\n *\n * more details: https://bugzilla.mozilla.org/show_bug.cgi?id=1736865#c2\n */\nexport function doStartDeflateWorker(\n  configuration: RumConfiguration,\n  source: string,\n  createDeflateWorkerImpl = createDeflateWorker\n) {\n  try {\n    const worker = createDeflateWorkerImpl(configuration)\n    const { stop: removeErrorListener } = addEventListener(configuration, worker, 'error', (error) => {\n      onError(configuration, source, error)\n    })\n    const { stop: removeMessageListener } = addEventListener(\n      configuration,\n      worker,\n      'message',\n      ({ data }: MessageEvent<DeflateWorkerResponse>) => {\n        if (data.type === 'errored') {\n          onError(configuration, source, data.error, data.streamId)\n        } else if (data.type === 'initialized') {\n          onInitialized(data.version)\n        }\n      }\n    )\n    worker.postMessage({ action: 'init' })\n    setTimeout(() => onTimeout(source), INITIALIZATION_TIME_OUT_DELAY)\n    const stop = () => {\n      removeErrorListener()\n      removeMessageListener()\n    }\n\n    state = { status: DeflateWorkerStatus.Loading, worker, stop, initializationFailureCallbacks: [] }\n  } catch (error) {\n    onError(configuration, source, error)\n  }\n}\n\nfunction onTimeout(source: string) {\n  if (state.status === DeflateWorkerStatus.Loading) {\n    display.error(`${source} failed to start: a timeout occurred while initializing the Worker`)\n    state.initializationFailureCallbacks.forEach((callback) => callback())\n    state = { status: DeflateWorkerStatus.Error }\n  }\n}\n\nfunction onInitialized(version: string) {\n  if (state.status === DeflateWorkerStatus.Loading) {\n    state = { status: DeflateWorkerStatus.Initialized, worker: state.worker, stop: state.stop, version }\n  }\n}\n\nfunction onError(configuration: RumConfiguration, source: string, error: unknown, streamId?: number) {\n  if (state.status === DeflateWorkerStatus.Loading || state.status === DeflateWorkerStatus.Nil) {\n    reportScriptLoadingError({\n      configuredUrl: configuration.workerUrl,\n      error,\n      source,\n      scriptType: 'worker',\n    })\n    if (state.status === DeflateWorkerStatus.Loading) {\n      state.initializationFailureCallbacks.forEach((callback) => callback())\n    }\n    state = { status: DeflateWorkerStatus.Error }\n  } else {\n    addTelemetryError(error, {\n      worker_version: state.status === DeflateWorkerStatus.Initialized && state.version,\n      stream_id: streamId,\n    })\n  }\n}\n","/**\n * Test for Browser features used while recording\n */\nexport function isBrowserSupported() {\n  return (\n    // Array.from is a bit less supported by browsers than CSSSupportsRule, but has higher chances\n    // to be polyfilled. Test for both to be more confident. We could add more things if we find out\n    // this test is not sufficient.\n    typeof Array.from === 'function' &&\n    typeof CSSSupportsRule === 'function' &&\n    typeof URL.createObjectURL === 'function' &&\n    'forEach' in NodeList.prototype\n  )\n}\n","import type { RumConfiguration, RumSessionManager, ViewHistory, RumSession } from '@datadog/browser-rum-core'\nimport { getSessionReplayUrl, SessionReplayState } from '@datadog/browser-rum-core'\nimport { isBrowserSupported } from '../boot/isBrowserSupported'\n\nexport function getSessionReplayLink(\n  configuration: RumConfiguration,\n  sessionManager: RumSessionManager,\n  viewHistory: ViewHistory,\n  isRecordingStarted: boolean\n): string | undefined {\n  const session = sessionManager.findTrackedSession()\n  const errorType = getErrorType(session, isRecordingStarted)\n  const viewContext = viewHistory.findView()\n\n  return getSessionReplayUrl(configuration, {\n    viewContext,\n    errorType,\n    session,\n  })\n}\n\nfunction getErrorType(session: RumSession | undefined, isRecordingStarted: boolean) {\n  if (!isBrowserSupported()) {\n    return 'browser-not-supported'\n  }\n  if (!session) {\n    // possibilities:\n    // - rum sampled out\n    // - session expired (edge case)\n    return 'rum-not-tracked'\n  }\n  if (session.sessionReplay === SessionReplayState.OFF) {\n    // possibilities\n    // - replay sampled out\n    return 'incorrect-session-plan'\n  }\n  if (!isRecordingStarted) {\n    return 'replay-not-started'\n  }\n}\n","import type {\n  LifeCycle,\n  RumConfiguration,\n  RumSessionManager,\n  StartRecordingOptions,\n  ViewHistory,\n  RumSession,\n} from '@datadog/browser-rum-core'\nimport { LifeCycleEventType, SessionReplayState } from '@datadog/browser-rum-core'\nimport { asyncRunOnReadyState, monitorError, PageExitReason, type DeflateEncoder } from '@datadog/browser-core'\nimport { getSessionReplayLink } from '../domain/getSessionReplayLink'\nimport type { startRecording } from './startRecording'\n\nexport type StartRecording = typeof startRecording\n\nexport const enum RecorderStatus {\n  // The recorder is stopped.\n  Stopped,\n  // The user started the recording while it wasn't possible yet. The recorder should start as soon\n  // as possible.\n  IntentToStart,\n  // The recorder is starting. It does not record anything yet.\n  Starting,\n  // The recorder is started, it records the session.\n  Started,\n}\n\nexport interface Strategy {\n  start: (options?: StartRecordingOptions) => void\n  stop: () => void\n  isRecording: () => boolean\n  getSessionReplayLink: () => string | undefined\n}\n\nexport function createPostStartStrategy(\n  configuration: RumConfiguration,\n  lifeCycle: LifeCycle,\n  sessionManager: RumSessionManager,\n  viewHistory: ViewHistory,\n  loadRecorder: () => Promise<StartRecording | undefined>,\n  getOrCreateDeflateEncoder: () => DeflateEncoder | undefined\n): Strategy {\n  let status = RecorderStatus.Stopped\n  let stopRecording: () => void\n\n  lifeCycle.subscribe(LifeCycleEventType.SESSION_EXPIRED, () => {\n    if (status === RecorderStatus.Starting || status === RecorderStatus.Started) {\n      stop()\n      status = RecorderStatus.IntentToStart\n    }\n  })\n\n  // Stop the recorder on page unload to avoid sending records after the page is ended.\n  lifeCycle.subscribe(LifeCycleEventType.PAGE_EXITED, (pageExitEvent) => {\n    if (pageExitEvent.reason === PageExitReason.UNLOADING) {\n      stop()\n    }\n  })\n\n  lifeCycle.subscribe(LifeCycleEventType.SESSION_RENEWED, () => {\n    if (status === RecorderStatus.IntentToStart) {\n      start()\n    }\n  })\n\n  const doStart = async () => {\n    const [startRecordingImpl] = await Promise.all([loadRecorder(), asyncRunOnReadyState(configuration, 'interactive')])\n\n    if (status !== RecorderStatus.Starting) {\n      return\n    }\n\n    const deflateEncoder = getOrCreateDeflateEncoder()\n    if (!deflateEncoder || !startRecordingImpl) {\n      status = RecorderStatus.Stopped\n      return\n    }\n\n    ;({ stop: stopRecording } = startRecordingImpl(\n      lifeCycle,\n      configuration,\n      sessionManager,\n      viewHistory,\n      deflateEncoder\n    ))\n\n    status = RecorderStatus.Started\n  }\n\n  function start(options?: StartRecordingOptions) {\n    const session = sessionManager.findTrackedSession()\n    if (canStartRecording(session, options)) {\n      status = RecorderStatus.IntentToStart\n      return\n    }\n\n    if (isRecordingInProgress(status)) {\n      return\n    }\n\n    status = RecorderStatus.Starting\n\n    // Intentionally not awaiting doStart() to keep it asynchronous\n    doStart().catch(monitorError)\n\n    if (shouldForceReplay(session!, options)) {\n      sessionManager.setForcedReplay()\n    }\n  }\n\n  function stop() {\n    if (status === RecorderStatus.Started) {\n      stopRecording?.()\n    }\n\n    status = RecorderStatus.Stopped\n  }\n\n  return {\n    start,\n    stop,\n    getSessionReplayLink() {\n      return getSessionReplayLink(configuration, sessionManager, viewHistory, status !== RecorderStatus.Stopped)\n    },\n    isRecording: () => status === RecorderStatus.Started,\n  }\n}\n\nfunction canStartRecording(session: RumSession | undefined, options?: StartRecordingOptions) {\n  return !session || (session.sessionReplay === SessionReplayState.OFF && (!options || !options.force))\n}\n\nfunction isRecordingInProgress(status: RecorderStatus) {\n  return status === RecorderStatus.Starting || status === RecorderStatus.Started\n}\n\nfunction shouldForceReplay(session: RumSession, options?: StartRecordingOptions) {\n  return options && options.force && session.sessionReplay === SessionReplayState.OFF\n}\n","import { reportScriptLoadingError } from '../domain/scriptLoadingError'\nimport type { startRecording } from './startRecording'\n\nexport async function lazyLoadRecorder(\n  importRecorderImpl = importRecorder\n): Promise<typeof startRecording | undefined> {\n  try {\n    return await importRecorderImpl()\n  } catch (error: unknown) {\n    reportScriptLoadingError({\n      error,\n      source: 'Recorder',\n      scriptType: 'module',\n    })\n  }\n}\n\nasync function importRecorder() {\n  const module = await import(/* webpackChunkName: \"recorder\" */ './startRecording')\n  return module.startRecording\n}\n","// Keep the following in sync with packages/rum-slim/src/entries/main.ts\nimport { defineGlobal, getGlobalObject } from '@datadog/browser-core'\nimport type { RumPublicApi } from '@datadog/browser-rum-core'\nimport { makeRumPublicApi, startRum } from '@datadog/browser-rum-core'\nimport { makeRecorderApi } from '../boot/recorderApi'\nimport { createDeflateEncoder, startDeflateWorker } from '../domain/deflate'\nimport { lazyLoadRecorder } from '../boot/lazyLoadRecorder'\nimport { makeProfilerApi } from '../boot/profilerApi'\nexport type {\n  CommonProperties,\n  RumPublicApi as RumGlobal,\n  RumInitConfiguration,\n  // Events\n  RumEvent,\n  RumActionEvent,\n  RumErrorEvent,\n  RumLongTaskEvent,\n  RumResourceEvent,\n  RumViewEvent,\n  RumVitalEvent,\n  // Events context\n  RumEventDomainContext,\n  RumViewEventDomainContext,\n  RumErrorEventDomainContext,\n  RumActionEventDomainContext,\n  RumFetchResourceEventDomainContext,\n  RumXhrResourceEventDomainContext,\n  RumOtherResourceEventDomainContext,\n  RumLongTaskEventDomainContext,\n} from '@datadog/browser-rum-core'\nexport { DefaultPrivacyLevel } from '@datadog/browser-core'\n\nconst recorderApi = makeRecorderApi(lazyLoadRecorder)\n\nconst profilerApi = makeProfilerApi()\n\nexport const datadogRum = makeRumPublicApi(startRum, recorderApi, profilerApi, {\n  startDeflateWorker,\n  createDeflateEncoder,\n})\n\ninterface BrowserWindow extends Window {\n  DD_RUM?: RumPublicApi\n}\ndefineGlobal(getGlobalObject<BrowserWindow>(), 'DD_RUM', datadogRum)\n","import type { DeflateEncoder, DeflateWorker } from '@datadog/browser-core'\nimport {\n  canUseEventBridge,\n  noop,\n  BridgeCapability,\n  bridgeSupports,\n  DeflateEncoderStreamId,\n} from '@datadog/browser-core'\nimport type {\n  LifeCycle,\n  ViewHistory,\n  RumSessionManager,\n  RecorderApi,\n  RumConfiguration,\n  StartRecordingOptions,\n} from '@datadog/browser-rum-core'\nimport { getReplayStats as getReplayStatsImpl } from '../domain/replayStats'\nimport type { CreateDeflateWorker } from '../domain/deflate'\nimport {\n  createDeflateEncoder,\n  DeflateWorkerStatus,\n  getDeflateWorkerStatus,\n  startDeflateWorker,\n} from '../domain/deflate'\nimport { isBrowserSupported } from './isBrowserSupported'\nimport type { StartRecording } from './postStartStrategy'\nimport { createPostStartStrategy } from './postStartStrategy'\nimport { createPreStartStrategy } from './preStartStrategy'\n\nexport function makeRecorderApi(\n  loadRecorder: () => Promise<StartRecording | undefined>,\n  createDeflateWorkerImpl?: CreateDeflateWorker\n): RecorderApi {\n  if ((canUseEventBridge() && !bridgeSupports(BridgeCapability.RECORDS)) || !isBrowserSupported()) {\n    return {\n      start: noop,\n      stop: noop,\n      getReplayStats: () => undefined,\n      onRumStart: noop,\n      isRecording: () => false,\n      getSessionReplayLink: () => undefined,\n    }\n  }\n\n  // eslint-disable-next-line prefer-const\n  let { strategy, shouldStartImmediately } = createPreStartStrategy()\n\n  return {\n    start: (options?: StartRecordingOptions) => strategy.start(options),\n    stop: () => strategy.stop(),\n    getSessionReplayLink: () => strategy.getSessionReplayLink(),\n    onRumStart,\n    isRecording: () =>\n      // The worker is started optimistically, meaning we could have started to record but its\n      // initialization fails a bit later. This could happen when:\n      // * the worker URL (blob or plain URL) is blocked by CSP in Firefox only (Chromium and Safari\n      // throw an exception when instantiating the worker, and IE doesn't care about CSP)\n      // * the browser fails to load the worker in case the workerUrl is used\n      // * an unexpected error occurs in the Worker before initialization, ex:\n      //   * a runtime exception collected by monitor()\n      //   * a syntax error notified by the browser via an error event\n      // * the worker is unresponsive for some reason and timeouts\n      //\n      // It is not expected to happen often. Nonetheless, the \"replayable\" status on RUM events is\n      // an important part of the Datadog App:\n      // * If we have a false positive (we set has_replay: true even if no replay data is present),\n      // we might display broken links to the Session Replay player.\n      // * If we have a false negative (we don't set has_replay: true even if replay data is\n      // available), it is less noticeable because no link will be displayed.\n      //\n      // Thus, it is better to have false negative, so let's make sure the worker is correctly\n      // initialized before advertizing that we are recording.\n      //\n      // In the future, when the compression worker will also be used for RUM data, this will be\n      // less important since no RUM event will be sent when the worker fails to initialize.\n      getDeflateWorkerStatus() === DeflateWorkerStatus.Initialized && strategy.isRecording(),\n\n    getReplayStats: (viewId) =>\n      getDeflateWorkerStatus() === DeflateWorkerStatus.Initialized ? getReplayStatsImpl(viewId) : undefined,\n  }\n\n  function onRumStart(\n    lifeCycle: LifeCycle,\n    configuration: RumConfiguration,\n    sessionManager: RumSessionManager,\n    viewHistory: ViewHistory,\n    worker: DeflateWorker | undefined\n  ) {\n    let cachedDeflateEncoder: DeflateEncoder | undefined\n\n    function getOrCreateDeflateEncoder() {\n      if (!cachedDeflateEncoder) {\n        worker ??= startDeflateWorker(\n          configuration,\n          'Datadog Session Replay',\n          () => {\n            strategy.stop()\n          },\n          createDeflateWorkerImpl\n        )\n\n        if (worker) {\n          cachedDeflateEncoder = createDeflateEncoder(configuration, worker, DeflateEncoderStreamId.REPLAY)\n        }\n      }\n      return cachedDeflateEncoder\n    }\n\n    strategy = createPostStartStrategy(\n      configuration,\n      lifeCycle,\n      sessionManager,\n      viewHistory,\n      loadRecorder,\n      getOrCreateDeflateEncoder\n    )\n\n    if (shouldStartImmediately(configuration)) {\n      strategy.start()\n    }\n  }\n}\n","import { noop } from '@datadog/browser-core'\nimport type { RumConfiguration } from '@datadog/browser-rum-core'\nimport type { Strategy } from './postStartStrategy'\n\nconst enum PreStartRecorderStatus {\n  None,\n  HadManualStart,\n  HadManualStop,\n}\n\nexport function createPreStartStrategy(): {\n  strategy: Strategy\n  shouldStartImmediately: (configuration: RumConfiguration) => boolean\n} {\n  let status = PreStartRecorderStatus.None\n  return {\n    strategy: {\n      start() {\n        status = PreStartRecorderStatus.HadManualStart\n      },\n      stop() {\n        status = PreStartRecorderStatus.HadManualStop\n      },\n      isRecording: () => false,\n      getSessionReplayLink: noop as () => string | undefined,\n    },\n    shouldStartImmediately(configuration) {\n      return (\n        status === PreStartRecorderStatus.HadManualStart ||\n        (status === PreStartRecorderStatus.None && !configuration.startSessionReplayRecordingManually)\n      )\n    },\n  }\n}\n","import type { LifeCycle, ViewHistory, RumSessionManager, RumConfiguration } from '@datadog/browser-rum-core'\nimport { addTelemetryDebug, monitorError, performDraw } from '@datadog/browser-core'\nimport type { RUMProfiler } from '../domain/profiling/types'\nimport { isProfilingSupported } from '../domain/profiling/profilingSupported'\nimport { lazyLoadProfiler } from '../domain/profiling/lazyLoadProfiler'\n\ninterface ProfilerApi {\n  onRumStart: (\n    lifeCycle: LifeCycle,\n    configuration: RumConfiguration,\n    sessionManager: RumSessionManager,\n    viewHistory: ViewHistory\n  ) => void\n  stop: () => void\n}\n\nexport function makeProfilerApi(): ProfilerApi {\n  const cleanupTasks: Array<() => void> = []\n\n  function stop() {\n    cleanupTasks.forEach((task) => task())\n    cleanupTasks.length = 0\n  }\n\n  function onRumStart(\n    lifeCycle: LifeCycle,\n    configuration: RumConfiguration,\n    sessionManager: RumSessionManager,\n    viewHistory: ViewHistory\n  ) {\n    // Check if Browser is supporting the JS Self-Profiling API\n    if (!isProfilingSupported()) {\n      return\n    }\n\n    if (!performDraw(configuration.profilingSampleRate)) {\n      // User is not lucky, no profiling!\n      return\n    }\n\n    let profiler: RUMProfiler\n\n    lazyLoadProfiler()\n      .then((createRumProfiler) => {\n        if (!createRumProfiler) {\n          addTelemetryDebug('[DD_RUM] Failed to lazy load the RUM Profiler')\n          return\n        }\n\n        profiler = createRumProfiler(configuration, lifeCycle, sessionManager)\n\n        profiler.start(viewHistory.findView()?.id)\n\n        cleanupTasks.push(() => {\n          profiler.stop().catch(monitorError)\n        })\n      })\n      .catch(monitorError)\n  }\n\n  return {\n    onRumStart,\n    stop,\n  }\n}\n","import { getGlobalObject } from '@datadog/browser-core'\nimport type { Profiler } from './types'\n\nexport function isProfilingSupported(): boolean {\n  const globalThis = getGlobalObject()\n\n  // This API might be unavailable in some browsers\n  const globalThisProfiler: Profiler | undefined = (globalThis as any).Profiler\n  return globalThisProfiler !== undefined\n}\n","import { display } from '@datadog/browser-core'\n\nexport async function lazyLoadProfiler() {\n  try {\n    const module = await import(/* webpackChunkName: \"profiler\" */ './profiler')\n    return module.createRumProfiler\n  } catch (err) {\n    /* Prevent collecting the webpack ChunkLoadError as it is already collected as a RUM resource. */\n    display.error('[DD_RUM] Failed to load createRumProfiler', err)\n  }\n}\n","import './App.css';\nimport React from 'react';\n\nimport { datadogRum } from '@datadog/browser-rum';\n\ndatadogRum.init({\n    applicationId: 'e2ada0ce-8b27-4f45-a926-9eb00c36619f',\n    clientToken: 'pubd1a717a2974a481df404a89ffecedfb7',\n    // `site` refers to the Datadog site parameter of your organization\n    // see https://docs.datadoghq.com/getting_started/site/\n    site: 'datadoghq.com',\n    service: 'running-calculator',\n    env: 'prod',\n    // Specify a version number to identify the deployed version of your application in Datadog\n    // version: '1.0.0',\n    sessionSampleRate: 100,\n    sessionReplaySampleRate: 100,\n    defaultPrivacyLevel: 'allow',\n});\n\n\n\n// Constants\nconst DISTANCES = {\n  km: {\n    marathon: 42.2,\n    half: 21.1,\n    '10k': 10,\n    '5k': 5\n  },\n  mile: {\n    marathon: 26.2,\n    half: 13.1,\n    '10k': 6.2137,\n    '5k': 3.10686\n  }\n};\n\n// Components\nconst Header = () => (\n  <div style={{\n    background: 'linear-gradient(135deg, #2980b9, #2c3e50)',\n    padding: '15px 10px',\n    marginBottom: '20px',\n    boxShadow: '0 4px 6px rgba(0,0,0,0.1)',\n    width: '100%'\n  }}>\n    <h1 style={{\n      color: 'white',\n      margin: '0',\n      fontSize: 'clamp(1.5em, 4vw, 2em)',\n      textAlign: 'center',\n      textTransform: 'uppercase',\n      letterSpacing: '2px',\n      textShadow: '2px 2px 4px rgba(0,0,0,0.3)',\n      padding: '0 10px'\n    }}>\n       Race Pace Calculator! \n    </h1>\n  </div>\n);\n\nconst TimeInput = ({ label, value, onChange, min = \"0\", max }) => (\n  <div style={{\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  }}>\n    <label style={{marginBottom: '5px', fontSize: '14px'}}>{label}</label>\n    <input\n      type=\"number\"\n      value={value}\n      onChange={(e) => onChange(e.target.value)}\n      onFocus={(e) => e.target.value === '0' && (e.target.value = '')}\n      onBlur={(e) => e.target.value === '' && (e.target.value = '0')}\n      min={min}\n      max={max}\n      className=\"time-input\"\n      style={{\n        padding: '8px',\n        width: '100%',\n        borderRadius: '4px',\n        border: '1px solid #bdc3c7',\n        fontSize: '16px'\n      }}\n    />\n  </div>\n);\n\nconst SpeedTable = ({ unit, speeds }) => (\n  <table className=\"speeds-table\" style={{\n    width: '100%',\n    margin: '10px auto',\n    borderCollapse: 'collapse',\n    backgroundColor: '#fff',\n    boxShadow: '0 1px 3px rgba(0,0,0,0.2)',\n    minWidth: '280px'\n  }}>\n    <thead>\n      <tr style={{backgroundColor: '#34495e', color: 'white'}}>\n        <th style={{padding: '12px', fontSize: '14px'}}>Alternative paces</th>\n        <th style={{padding: '12px', fontSize: '14px'}}>Value</th>\n      </tr>\n    </thead>\n    <tbody>\n      {unit === 'km' ? (\n        <tr style={{borderBottom: '1px solid #ecf0f1'}}>\n          <td style={{padding: '12px', fontSize: '14px'}}>Minutes per Mile</td>\n          <td style={{padding: '12px', fontSize: '14px'}}>{speeds.minPerMile}/mile</td>\n        </tr>\n      ) : (\n        <tr style={{borderBottom: '1px solid #ecf0f1'}}>\n          <td style={{padding: '12px', fontSize: '14px'}}>Minutes per Kilometer</td>\n          <td style={{padding: '12px', fontSize: '14px'}}>{speeds.minPerKm}/km</td>\n        </tr>\n      )}\n      <tr style={{borderBottom: '1px solid #ecf0f1'}}>\n        <td style={{padding: '12px', fontSize: '14px'}}>Miles per Hour</td>\n        <td style={{padding: '12px', fontSize: '14px'}}>{speeds.mph} mph</td>\n      </tr>\n      <tr>\n        <td style={{padding: '12px', fontSize: '14px'}}>Kilometers per Hour</td>\n        <td style={{padding: '12px', fontSize: '14px'}}>{speeds.kph} km/h</td>\n      </tr>\n    </tbody>\n  </table>\n);\n\nconst SplitRow = ({ index, split, unit, totalSplits }) => (\n  <div style={{\n    display: 'flex',\n    alignItems: 'center',\n    gap: '10px',\n    padding: '8px',\n    backgroundColor: 'white',\n    borderRadius: '4px',\n    boxShadow: '0 1px 2px rgba(0,0,0,0.1)'\n  }}>\n    <div style={{\n      minWidth: '120px',\n      fontSize: '14px',\n      color: '#666'\n    }}>{unit === 'km' ? `Kilometer ${index + 1}` : `Mile ${index + 1}`}</div>\n    <div style={{\n      flex: 1,\n      height: '24px',\n      backgroundColor: '#f0f0f0',\n      borderRadius: '4px',\n      overflow: 'hidden'\n    }}>\n      <div style={{\n        width: `${(split.seconds / Math.max(...totalSplits.map(s => s.seconds))) * 100}%`,\n        height: '100%',\n        backgroundColor: index < totalSplits.length/2 ? '#3498db' : '#2ecc71',\n        transition: 'width 0.3s ease'\n      }}></div>\n    </div>\n    <div style={{\n      minWidth: '70px',\n      fontSize: '14px',\n      fontWeight: 'bold',\n      textAlign: 'right'\n    }}>{split.split}</div>\n  </div>\n);\n\nfunction App() {\n  const [hours, setHours] = React.useState('0');\n  const [minutes, setMinutes] = React.useState('0');\n  const [seconds, setSeconds] = React.useState('0'); \n  const [pace, setPace] = React.useState(null);\n  const [speeds, setSpeeds] = React.useState(null);\n  const [splits, setSplits] = React.useState(null);\n  const [unit, setUnit] = React.useState('km');\n  const [distance, setDistance] = React.useState('marathon');\n  const [splitType, setSplitType] = React.useState('steady');\n  const [splitsVisible, setSplitsVisible] = React.useState(false);\n\n  const calculateSplits = (secondsPerUnit, raceDistance, splitType) => {\n    const splitsList = [];\n    const numSplits = Math.ceil(raceDistance);\n    const halfwayPoint = Math.floor(numSplits / 2);\n\n    if (splitType === 'steady') {\n      return Array(numSplits).fill().map(() => {\n        const paceMinutes = Math.floor(secondsPerUnit / 60);\n        const paceSeconds = Math.round(secondsPerUnit % 60);\n        return {\n          split: `${paceMinutes}:${paceSeconds.toString().padStart(2, '0')}`,\n          seconds: secondsPerUnit\n        };\n      });\n    }\n\n    // Calculate negative splits\n    const adjustment = Math.min(6, secondsPerUnit * 0.05);\n    const firstHalfSeconds = secondsPerUnit + adjustment;\n    const secondHalfSeconds = secondsPerUnit - adjustment;\n\n    return Array(numSplits).fill().map((_, i) => {\n      const splitSeconds = i < halfwayPoint ? firstHalfSeconds : secondHalfSeconds;\n      const splitMinutes = Math.floor(splitSeconds / 60);\n      const splitSecs = Math.round(splitSeconds % 60);\n      return {\n        split: `${splitMinutes}:${splitSecs.toString().padStart(2, '0')}`,\n        seconds: splitSeconds\n      };\n    });\n  };\n\n  const calculateSpeeds = (secondsPerUnit, unit) => {\n    if (unit === 'km') {\n      const kmPerHour = (3600 / secondsPerUnit).toFixed(2);\n      const secondsPerMile = secondsPerUnit * 1.60934;\n      const paceMinutesPerMile = Math.floor(secondsPerMile / 60);\n      const paceSecondsPerMile = Math.round(secondsPerMile % 60);\n      const milesPerHour = (3600 / secondsPerMile).toFixed(2);\n\n      return {\n        minPerMile: `${paceMinutesPerMile}:${paceSecondsPerMile.toString().padStart(2, '0')}`,\n        mph: milesPerHour,\n        kph: kmPerHour\n      };\n    }\n\n    const milesPerHour = (3600 / secondsPerUnit).toFixed(2);\n    const secondsPerKm = secondsPerUnit / 1.60934;\n    const paceMinutesPerKm = Math.floor(secondsPerKm / 60);\n    const paceSecondsPerKm = Math.round(secondsPerKm % 60);\n    const kmPerHour = (milesPerHour * 1.60934).toFixed(2);\n\n    return {\n      minPerKm: `${paceMinutesPerKm}:${paceSecondsPerKm.toString().padStart(2, '0')}`,\n      mph: milesPerHour,\n      kph: kmPerHour\n    };\n  };\n\n  const calculatePace = () => {\n    if (!hours || !minutes || !seconds) {\n      alert('Please fill in all time fields');\n      return;\n    }\n\n    const totalSeconds = (parseInt(hours) * 3600) + \n                        (parseInt(minutes) * 60) + \n                        parseInt(seconds);\n    \n    const raceDistance = DISTANCES[unit][distance];\n    const secondsPerUnit = totalSeconds / raceDistance;\n    \n    const paceMinutes = Math.floor(secondsPerUnit / 60);\n    const paceSeconds = Math.round(secondsPerUnit % 60);\n    \n    setPace(`${paceMinutes}:${paceSeconds.toString().padStart(2, '0')}/${unit}`);\n    setSplits(calculateSplits(secondsPerUnit, raceDistance, splitType));\n    setSpeeds(calculateSpeeds(secondsPerUnit, unit));\n  };\n\n  React.useEffect(() => {\n    if (hours !== '0' || minutes !== '0' || seconds !== '0') {\n      calculatePace();\n    }\n  }, [distance, splitType, unit]);\n\n  return (\n    <div className=\"App\" style={{\n      backgroundColor: '#f5f5f5',\n      minHeight: '100vh',\n      padding: '0',\n      width: '100%',\n      maxWidth: '100vw',\n      overflowX: 'hidden'\n    }}>\n      <Header />\n      \n      <div className=\"calculator-container\" style={{\n        backgroundColor: 'white',\n        borderRadius: '10px',\n        padding: '15px',\n        boxShadow: '0 2px 4px rgba(0,0,0,0.1)',\n        width: '90%',\n        maxWidth: '600px',\n        margin: '0 auto'\n      }}>\n        <h2 style={{\n          color: '#34495e',\n          fontSize: 'clamp(1.2em, 3vw, 1.5em)',\n          textAlign: 'center'\n        }}>Race Distance</h2>\n        \n        <div style={{\n          marginBottom: '20px',\n          display: 'flex',\n          justifyContent: 'center',\n          gap: '20px'\n        }}>\n          <select\n            value={distance}\n            onChange={(e) => setDistance(e.target.value)}\n            style={{\n              padding: '8px',\n              width: '100%',\n              maxWidth: '200px',\n              borderRadius: '4px',\n              border: '1px solid #bdc3c7',\n              fontSize: '16px'\n            }}\n          >\n            <option value=\"marathon\">Marathon</option>\n            <option value=\"half\">Half Marathon</option>\n            <option value=\"10k\">10K</option>\n            <option value=\"5k\">5K</option>\n          </select>\n\n          <select\n            value={splitType}\n            onChange={(e) => setSplitType(e.target.value)}\n            style={{\n              padding: '8px',\n              width: '100%',\n              maxWidth: '200px',\n              borderRadius: '4px',\n              border: '1px solid #bdc3c7',\n              fontSize: '16px'\n            }}\n          >\n            <option value=\"steady\">Steady Splits</option>\n            <option value=\"negative\">Negative Splits</option>\n          </select>\n        </div>\n\n        <h2 style={{\n          color: '#34495e',\n          fontSize: 'clamp(1.2em, 3vw, 1.5em)',\n          textAlign: 'center'\n        }}>Goal Time</h2>\n\n        <div className=\"time-inputs\" style={{\n          display: 'grid',\n          gridTemplateColumns: 'repeat(auto-fit, minmax(80px, 1fr))',\n          gap: '20px',\n          margin: '0 auto',\n          maxWidth: '100%',\n          padding: '0 10px'\n        }}>\n          <TimeInput label=\"Hours\" value={hours} onChange={setHours} />\n          <TimeInput label=\"Minutes\" value={minutes} onChange={setMinutes} max=\"59\" />\n          <TimeInput label=\"Seconds\" value={seconds} onChange={setSeconds} max=\"59\" />\n          \n          <div style={{\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center'\n          }}>\n            <label style={{marginBottom: '5px', fontSize: '14px'}}>Output Unit</label>\n            <select \n              value={unit} \n              onChange={(e) => setUnit(e.target.value)}\n              style={{\n                padding: '8px',\n                width: '100%',\n                borderRadius: '4px',\n                border: '1px solid #bdc3c7',\n                fontSize: '16px'\n              }}\n            >\n              <option value=\"km\">Kilometers</option>\n              <option value=\"mile\">Miles</option>\n            </select>\n          </div>\n        </div>\n\n        <div style={{\n          display: 'flex',\n          justifyContent: 'center',\n          margin: '20px 0'\n        }}>\n          <button \n            onClick={calculatePace}\n            className=\"calculate-button\"\n            style={{\n              backgroundColor: '#3498db',\n              color: 'white',\n              padding: '12px 24px',\n              border: 'none',\n              borderRadius: '4px',\n              cursor: 'pointer',\n              fontSize: '16px',\n              width: '100%',\n              maxWidth: '200px'\n            }}\n          >\n            Calculate\n          </button>\n        </div>\n\n        {pace && (\n          <div className=\"result\">\n            <h3 style={{\n              color: '#2c3e50',\n              textAlign: 'center',\n              fontSize: 'clamp(1.1em, 2.5vw, 1.3em)'\n            }}>Required Pace:</h3>\n            <p className=\"pace\" style={{\n              fontSize: 'clamp(20px, 5vw, 24px)',\n              color: '#e74c3c',\n              textAlign: 'center',\n              margin: '10px 0'\n            }}>{pace}</p>\n            \n            <div style={{\n              overflowX: 'auto',\n              width: '100%',\n              padding: '10px 0'\n            }}>\n              <SpeedTable unit={unit} speeds={speeds} />\n            </div>\n\n            {splits && (\n              <div style={{\n                marginTop: '20px',\n                padding: '10px',\n                backgroundColor: '#f8f9fa',\n                borderRadius: '8px'\n              }}>\n                <div \n                  onClick={() => setSplitsVisible(!splitsVisible)}\n                  style={{\n                    cursor: 'pointer',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    gap: '10px'\n                  }}\n                >\n                  <h3 style={{\n                    color: '#2c3e50',\n                    textAlign: 'center',\n                    fontSize: 'clamp(1.1em, 2.5vw, 1.3em)',\n                    marginBottom: '15px'\n                  }}>Sample Split Times</h3>\n                  <span style={{fontSize: '20px'}}>{splitsVisible ? '' : ''}</span>\n                </div>\n                {splitsVisible && (\n                  <div style={{\n                    display: 'flex',\n                    flexDirection: 'column',\n                    gap: '8px',\n                    maxHeight: '400px',\n                    overflowY: 'auto',\n                    padding: '10px'\n                  }}>\n                    {splits.map((split, index) => (\n                      <SplitRow \n                        key={index}\n                        index={index}\n                        split={split}\n                        unit={unit}\n                        totalSplits={splits}\n                      />\n                    ))}\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"names":["catchUserErrors","fn","errorMsg","arguments","err","display","error","getConnectivity","navigator","window","status","onLine","interfaces","connection","type","undefined","effective_type","_a","effectiveType","module","exports","throttle","wait","options","needLeadingExecution","leading","needTrailingExecution","trailing","pendingExecutionWithParameters","pendingTimeoutId","inWaitPeriod","throttled","_len","length","parameters","Array","_key","setTimeout","cancel","clearTimeout","noop","makePublicApi","stub","publicApi","version","onReady","callback","Object","defineProperty","get","setDebugMode","enumerable","defineGlobal","global","name","api","existingGlobalVariable","q","warn","forEach","onMonitorErrorCollected","debugMode","startMonitorErrorCollection","newOnMonitorErrorCollected","newDebugMode","monitor","callMonitored","this","context","args","apply","e","monitorError","displayIfDebugEnabled","_len2","_key2","delay","getZoneJsOriginalValue","getGlobalObject","timeoutId","setInterval","clearInterval","findLast","array","predicate","i","item","objectValues","object","values","objectEntries","entries","MAX_STATS_HISTORY","statsPerView","getSegmentsCount","viewId","getOrCreateReplayStats","segments_count","addSegment","addRecord","records_count","addWroteData","additionalBytesCount","segments_total_raw_size","getReplayStats","replayStats","Map","has","set","size","toDelete","keys","next","value","delete","deleteOldestStats","normalizeUrl","url","buildUrl","location","href","isValidUrl","getPathName","pathname","base","supportedURL","isURLSupported","originalURL","getSupportedUrl","Error","String","jsonStringify","test","doc","document","anchorElement","createElement","implementation","createHTMLDocument","baseElement","head","appendChild","body","URL","MAX_ONGOING_BYTES_COUNT","ONE_KIBI_BYTE","MAX_ONGOING_REQUESTS","MAX_QUEUE_BYTES_COUNT","ONE_MEBI_BYTE","MAX_BACKOFF_TIME","ONE_MINUTE","INITIAL_BACKOFF_TIME","ONE_SECOND","sendWithRetryStrategy","payload","state","sendStrategy","trackType","reportError","transportStatus","queuedPayloads","bandwidthMonitor","canHandle","send","onSuccess","retryQueuedPayloads","onFailure","enqueue","scheduleRetry","first","dequeue","currentBackoffTime","Math","min","_ref","add","response","remove","isServerError","shouldRetryRequest","ongoingRequestCount","retry","count","lastFailureStatus","reason","isFull","queueFullReported","message","source","ErrorSource","AGENT","startClocks","clocksNow","previousQueue","newPayloadQueue","queue","bytesCount","push","shift","createHttpRequest","endpointBuilder","bytesLimit","retryState","ongoingByteCount","sendStrategyForRetry","onResponse","canUseKeepAlive","Request","isKeepAliveSupported","fetchUrl","build","fetch","method","data","keepalive","mode","then","catch","fetchStrategy","fetchKeepAliveStrategy","sendOnExit","canUseBeacon","sendBeacon","beaconUrl","hasReportedBeaconError","reportBeaconError","sendBeaconStrategy","getType","isArray","runOnReadyState","configuration","expectedReadyState","readyState","stop","eventName","addEventListener","once","asyncRunOnReadyState","Promise","resolve","REACT_ELEMENT_TYPE","Symbol","for","jsxProd","config","maybeKey","key","propName","ref","$$typeof","props","jsx","jsxs","instrumentMethod","targetPrototype","onPreCall","computeHandlingStack","original","startsWith","stopped","instrumentation","from","postCallCallback","target","onPostCall","handlingStack","createHandlingStack","result","instrumentSetter","property","after","originalDescriptor","getOwnPropertyDescriptor","configurable","stoppedInstrumentation","instrumentationWrapper","call","mergeInto","destination","circularReferenceChecker","WeakSet","hasAlreadyBeenSeen","indexOf","createCircularReferenceChecker","Date","getTime","RegExp","flags","ignoreCase","multiline","sticky","unicode","join","merged","prototype","hasOwnProperty","deepClone","combine","sources","ExperimentalFeature","enabledExperimentalFeatures","Set","initFeatureFlags","enableExperimentalFeatures","filter","flag","objectHasValue","isExperimentalFeatureEnabled","featureName","getExperimentalFeatures","browserWindow","Zone","__symbol__","REACT_PORTAL_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_CONSUMER_TYPE","REACT_CONTEXT_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","MAYBE_ITERATOR_SYMBOL","iterator","ReactNoopUpdateQueue","isMounted","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","assign","emptyObject","Component","updater","refs","ComponentDummy","PureComponent","isReactComponent","setState","partialState","forceUpdate","pureComponentPrototype","constructor","isPureReactComponent","isArrayImpl","ReactSharedInternals","H","A","T","S","ReactElement","self","owner","isValidElement","userProvidedKeyEscapeRegex","getElementKey","element","index","escaperLookup","replace","match","escape","toString","noop$1","mapIntoArray","children","escapedPrefix","nameSoFar","oldElement","newKey","invokeCallback","_init","_payload","c","maybeIterable","nextNamePrefix","done","thenable","fulfilledValue","resolveThenable","mapChildren","func","child","lazyInitializer","_status","ctor","_result","moduleObject","default","reportGlobalError","ErrorEvent","event","bubbles","cancelable","dispatchEvent","process","emit","console","Children","map","forEachFunc","forEachContext","n","toArray","only","Fragment","Profiler","StrictMode","Suspense","__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE","act","cache","cloneElement","childArray","createContext","defaultValue","_currentValue","_currentValue2","_threadCount","Provider","Consumer","_context","childrenLength","defaultProps","createRef","current","forwardRef","render","lazy","memo","compare","startTransition","scope","prevTransition","currentTransition","returnValue","onStartTransitionFinish","unstable_useCacheRefresh","useCacheRefresh","use","usable","useActionState","action","initialState","permalink","useCallback","deps","useContext","Context","useDebugValue","useDeferredValue","initialValue","useEffect","create","useId","useImperativeHandle","useInsertionEffect","useLayoutEffect","useMemo","useOptimistic","passthrough","reducer","useReducer","initialArg","init","useRef","useState","useSyncExternalStore","subscribe","getSnapshot","getServerSnapshot","useTransition","checkDCE","__REACT_DEVTOOLS_GLOBAL_HOOK__","INTAKE_SITE_STAGING","INTAKE_SITE_FED_STAGING","INTAKE_SITE_US1","INTAKE_SITE_EU1","INTAKE_SITE_US1_FED","PCI_INTAKE_HOST_US1","INTAKE_URL_PARAMETERS","UNKNOWN_FUNCTION","computeStackTrace","ex","stack","stackProperty","tryToGetString","exString","slice","split","line","stackFrame","parts","CHROME_LINE_RE","exec","isNative","isEval","submatch","CHROME_EVAL_RE","column","parseChromeLine","CHROME_ANONYMOUS_FUNCTION_RE","parseChromeAnonymousLine","WINJS_LINE_RE","parseWinLine","GECKO_LINE_RE","GECKO_EVAL_RE","parseGeckoLine","fileUrl","filePosition","candidate","computeStackTraceFromOnErrorMessage","messageObj","ERROR_TYPES_RE","tryToParseMessage","eventTarget","listener","addEventListeners","eventNames","capture","passive","listenerWithMonitor","isTrusted","__ddIsTrusted","allowUntrustedEvents","listenerTarget","EventTarget","PageExitReason","HIDDEN","UNLOADING","PAGEHIDE","FROZEN","createPageExitObservable","Observable","observable","stopListeners","visibilityState","notify","stopBeforeUnloadListener","isPageExitReason","includes","formattedStack","stackTrace","toStackTraceString","formatErrorMessage","frame","NO_ERROR_STACK_PRESENT_MESSAGE","computeRawError","originalError","componentStack","nonErrorPrefix","handling","isErrorInstance","isError","sanitize","computeMessage","hasUsableStack","causes","flattenErrorCauses","fingerprint","tryToGetFingerprint","tryToGetErrorContext","dd_fingerprint","dd_context","parentSource","currentError","cause","heap","node","a","parentIndex","parent","peek","pop","last","halfLength","leftIndex","left","rightIndex","right","b","diff","sortIndex","id","unstable_now","performance","now","localPerformance","localDate","initialTime","taskQueue","timerQueue","taskIdCounter","currentTask","currentPriorityLevel","isPerformingWork","isHostCallbackScheduled","isHostTimeoutScheduled","localSetTimeout","localClearTimeout","localSetImmediate","setImmediate","advanceTimers","currentTime","timer","startTime","expirationTime","handleTimeout","requestHostCallback","firstTimer","requestHostTimeout","schedulePerformWorkUntilDeadline","isMessageLoopRunning","taskTimeoutID","frameInterval","shouldYieldToHost","performWorkUntilDeadline","hasMoreWork","previousPriorityLevel","priorityLevel","continuationCallback","MessageChannel","channel","port","port2","port1","onmessage","postMessage","ms","unstable_IdlePriority","unstable_ImmediatePriority","unstable_LowPriority","unstable_NormalPriority","unstable_Profiling","unstable_UserBlockingPriority","unstable_cancelCallback","task","unstable_continueExecution","unstable_forceFrameRate","fps","floor","unstable_getCurrentPriorityLevel","unstable_getFirstCallbackNode","unstable_next","eventHandler","unstable_pauseExecution","unstable_requestPaint","unstable_runWithPriority","unstable_scheduleCallback","timeout","unstable_shouldYield","unstable_wrapCallback","parentPriorityLevel","SANITIZE_DEFAULT_MAX_CHARACTER_COUNT","JSON_PATH_ROOT_ELEMENT","KEY_DECORATION_LENGTH","maxCharacterCount","restoreObjectPrototypeToJson","detachToJsonMethod","restoreArrayPrototypeToJson","containerQueue","visitedObjectsWithPath","WeakMap","sanitizedData","sanitizeProcessor","serializedSanitizedData","JSON","stringify","accumulatedCharacterCount","containerToProcess","separatorLength","targetData","path","warnOverCharacterLimit","parentPath","sourceToSanitize","toJSON","tryToApplyToJSON","description","sanitizePrimitivesAndFunctions","sanitizedSource","sanitizeObjects","sourceAsObject","currentPath","Event","currentTarget","changeType","requestIdleCallback","opts","cancelIdleCallback","start","dateNow","didTimeout","timeRemaining","max","MAX_TASK_TIME","requestIdleCallbackShim","React","require","formatProdErrorMessage","code","encodeURIComponent","Internals","d","f","r","D","C","L","m","X","M","p","findDOMNode","getCrossOriginStringAs","as","input","__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE","createPortal","container","nodeType","containerInfo","createPortal$1","flushSync","previousTransition","previousUpdatePriority","preconnect","crossOrigin","prefetchDNS","preinit","integrity","fetchPriority","precedence","nonce","preinitModule","preload","referrerPolicy","imageSrcSet","imageSizes","media","preloadModule","requestFormReset","form","unstable_batchedUpdates","useFormState","useFormStatus","useHostTransitionStatus","CONSOLE","CUSTOM","LOGGER","NETWORK","SOURCE","REPORT","ONE_HOUR","ONE_YEAR","relativeToClocks","relative","timeStamp","getCorrectedTimeStamp","timeStampToClocks","getRelativeTime","relativeTime","correctedOrigin","getNavigationStart","round","addDuration","getTimeStamp","currentDrift","toServerDuration","duration","isNumber","timeStampNow","relativeNow","clocksOrigin","elapsed","end","timestamp","looksLikeRelativeTime","time","navigationStart","timing","shallowClone","some","isEmptyObject","mapValues","newObject","performDraw","threshold","random","num","decimals","toFixed","isPercentage","removeItem","splice","Scheduler","ReactDOM","isValidContainer","REACT_LEGACY_ELEMENT_TYPE","REACT_PROVIDER_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_OFFSCREEN_TYPE","REACT_MEMO_CACHE_SENTINEL","getIteratorFn","REACT_CLIENT_REFERENCE","getComponentNameFromType","displayName","innerType","x","prefix","suffix","describeBuiltInComponentFrame","trim","reentry","describeNativeComponentFrame","construct","previousPrepareStackTrace","prepareStackTrace","RunInRootFrame","DetermineComponentFrameRoot","Fake","Reflect","control","x$0","x$1","sample","namePropDescriptor","_RunInRootFrame$Deter","sampleStack","controlStack","sampleLines","controlLines","describeFiber","fiber","tag","getStackByFiberInDevAndProd","workInProgress","info","return","getNearestMountedFiber","nearestMounted","alternate","getSuspenseInstanceFromFiber","suspenseState","memoizedState","dehydrated","assertIsMounted","findCurrentHostFiberImpl","sibling","ReactDOMSharedInternals","sharedNotPendingObject","pending","valueStack","createCursor","cursor","contextStackCursor","contextFiberStackCursor","rootInstanceStackCursor","hostTransitionProviderCursor","pushHostContainer","nextRootInstance","documentElement","namespaceURI","getOwnHostContext","parentNode","tagName","getChildHostContextProd","popHostContainer","pushHostContext","JSCompiler_inline_result","popHostContext","HostTransitionContext","scheduleCallback$3","cancelCallback$1","shouldYield","requestPaint","getCurrentPriorityLevel","ImmediatePriority","UserBlockingPriority","NormalPriority$1","LowPriority","IdlePriority","log$1","log","unstable_setDisableYieldValue","rendererID","injectedHook","setIsStrictModeForDevtools","newIsStrictMode","setStrictMode","clz32","LN2","nextTransitionLane","nextRetryLane","getHighestPriorityLanes","lanes","pendingSyncLanes","getNextLanes","root","wipLanes","pendingLanes","nextLanes","suspendedLanes","pingedLanes","warmLanes","finishedLanes","nonIdlePendingLanes","checkIfRootIsPrerendering","renderLanes","computeExpirationTime","lane","claimNextTransitionLane","claimNextRetryLane","createLaneMap","initial","laneMap","markRootUpdated$1","updateLane","markSpawnedDeferredLane","spawnedLane","entangledLanes","spawnedLaneIndex","entanglements","markRootEntangled","rootEntangledLanes","index$8","lanesToEventPriority","resolveUpdatePriority","updatePriority","getEventPriority","randomKey","internalInstanceKey","internalPropsKey","internalContainerInstanceKey","internalEventHandlersKey","internalEventHandlerListenersKey","internalEventHandlesSetKey","internalRootNodeResourcesKey","internalHoistableMarker","detachDeletedInstance","getClosestInstanceFromNode","targetNode","targetInst","getParentSuspenseInstance","getInstanceFromNode","getNodeFromInstance","inst","stateNode","getResourcesFromRoot","resources","hoistableStyles","hoistableScripts","markNodeAsHoistable","allNativeEvents","registrationNameDependencies","registerTwoPhaseEvent","registrationName","dependencies","registerDirectEvent","canUseDOM","VALID_ATTRIBUTE_NAME_REGEX","illegalAttributeNameCache","validatedAttributeNameCache","setValueForAttribute","attributeName","removeAttribute","prefix$10","toLowerCase","setAttribute","setValueForKnownAttribute","setValueForNamespacedAttribute","namespace","setAttributeNS","getToStringValue","isCheckable","elem","nodeName","track","_valueTracker","valueField","descriptor","currentValue","getValue","setValue","stopTracking","trackValueOnNode","updateValueIfChanged","tracker","lastValue","checked","getActiveElement","activeElement","escapeSelectorAttributeValueInsideDoubleQuotesRegex","escapeSelectorAttributeValueInsideDoubleQuotes","ch","charCodeAt","updateInput","lastDefaultValue","defaultChecked","setDefaultValue","initInput","isHydrating","ownerDocument","updateOptions","multiple","propValue","setDefaultSelected","selected","defaultSelected","disabled","updateTextarea","initTextarea","textContent","setTextContent","text","firstChild","lastChild","nodeValue","unitlessNumbers","setValueForStyle","style","styleName","isCustomProperty","setProperty","cssFloat","setValueForStyles","styles","prevStyles","styleName$16","styleName$17","isCustomElement","aliases","isJavaScriptProtocol","sanitizeURL","currentReplayingEvent","getEventTarget","nativeEvent","srcElement","correspondingUseElement","restoreTarget","restoreQueue","restoreStateOfTarget","internalInstance","querySelectorAll","otherNode","otherProps","isInsideEventHandler","batchedUpdates$1","flushSyncWork$1","getListener","passiveBrowserEventsSupported","removeEventListener","startText","fallbackText","getData","startValue","startLength","endValue","endLength","minEnd","getEventCharCode","keyCode","charCode","functionThatReturnsTrue","functionThatReturnsFalse","createSyntheticEvent","Interface","SyntheticBaseEvent","reactName","reactEventType","nativeEventTarget","_reactName","_targetInst","isDefaultPrevented","defaultPrevented","isPropagationStopped","preventDefault","stopPropagation","cancelBubble","persist","isPersistent","lastMovementX","lastMovementY","lastMouseEvent","EventInterface","eventPhase","SyntheticEvent","UIEventInterface","view","detail","SyntheticUIEvent","MouseEventInterface","screenX","screenY","clientX","clientY","pageX","pageY","ctrlKey","shiftKey","altKey","metaKey","getModifierState","getEventModifierState","button","buttons","relatedTarget","fromElement","toElement","movementX","movementY","SyntheticMouseEvent","SyntheticDragEvent","dataTransfer","SyntheticFocusEvent","SyntheticAnimationEvent","animationName","elapsedTime","pseudoElement","SyntheticClipboardEvent","clipboardData","SyntheticCompositionEvent","normalizeKey","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Menu","Apps","Scroll","MozPrintableKey","translateToKey","modifierKeyToProp","Alt","Control","Meta","Shift","modifierStateGetter","keyArg","SyntheticKeyboardEvent","fromCharCode","repeat","locale","which","SyntheticPointerEvent","pointerId","width","height","pressure","tangentialPressure","tiltX","tiltY","twist","pointerType","isPrimary","SyntheticTouchEvent","touches","targetTouches","changedTouches","SyntheticTransitionEvent","propertyName","SyntheticWheelEvent","deltaX","wheelDeltaX","deltaY","wheelDeltaY","wheelDelta","deltaZ","deltaMode","SyntheticToggleEvent","newState","oldState","END_KEYCODES","canUseCompositionEvent","documentMode","canUseTextInputEvent","useFallbackCompositionData","SPACEBAR_CHAR","hasSpaceKeypress","isFallbackCompositionEnd","domEventName","getDataFromCustomEvent","isComposing","supportedInputTypes","color","date","datetime","email","month","number","password","range","search","tel","week","isTextInputElement","createAndAccumulateChangeEvent","dispatchQueue","accumulateTwoPhaseListeners","listeners","activeElement$1","activeElementInst$1","runEventInBatch","processDispatchQueue","getInstIfValueChanged","getTargetInstForChangeEvent","isInputEventSupported","JSCompiler_inline_result$jscomp$283","isSupported$jscomp$inline_418","element$jscomp$inline_419","oninput","stopWatchingForValueChange","detachEvent","handlePropertyChange","handleEventsForInputEventPolyfill","attachEvent","getTargetInstForInputEventPolyfill","getTargetInstForClickEvent","getTargetInstForInputOrChangeEvent","objectIs","is","y","shallowEqual","objA","objB","keysA","keysB","currentKey","getLeafNode","getNodeForCharacterOffset","offset","nodeEnd","nextSibling","containsNode","outerNode","innerNode","contains","compareDocumentPosition","getActiveElementDeep","defaultView","HTMLIFrameElement","contentWindow","hasSelectionCapabilities","contentEditable","restoreSelection","priorSelectionInformation","curFocusedElem","focusedElem","priorSelectionRange","selectionRange","selectionStart","selectionEnd","getSelection","extend","endMarker","rangeCount","anchorNode","anchorOffset","focusNode","focusOffset","createRange","setStart","removeAllRanges","addRange","setEnd","scrollLeft","top","scrollTop","focus","skipSelectionChangeEvent","activeElementInst","lastSelection","mouseDown","constructSelectEvent","makePrefixMap","styleProp","prefixes","vendorPrefixes","animationend","animationiteration","animationstart","transitionrun","transitionstart","transitioncancel","transitionend","prefixedEventNames","getVendorPrefixedEventName","prefixMap","animation","transition","ANIMATION_END","ANIMATION_ITERATION","ANIMATION_START","TRANSITION_RUN","TRANSITION_START","TRANSITION_CANCEL","TRANSITION_END","topLevelEventsToReactNames","simpleEventPluginEvents","registerSimpleEvent","concurrentQueues","concurrentQueuesIndex","concurrentlyUpdatedLanes","finishQueueingConcurrentUpdates","endIndex","update","markUpdateLaneFromFiberToRoot","enqueueUpdate$1","enqueueConcurrentHookUpdate","getRootForUpdatedFiber","enqueueConcurrentRenderForLane","sourceFiber","isHidden","childLanes","_visibility","hiddenUpdates","nestedUpdateCount","rootWithNestedUpdates","emptyContextObject","CapturedStacks","createCapturedValueAtFiber","existing","forkStack","forkStackIndex","treeForkProvider","treeForkCount","idStack","idStackIndex","treeContextProvider","treeContextId","treeContextOverflow","pushTreeFork","totalChildren","pushTreeId","baseIdWithLeadingBit","baseLength","numberOfOverflowBits","pushMaterializedTreeId","popTreeContext","hydrationParentFiber","nextHydratableInstance","hydrationErrors","rootOrSingletonContext","HydrationMismatchException","throwOnHydrationMismatch","queueHydrationError","prepareToHydrateHostInstance","instance","memoizedProps","listenToNonDelegatedEvent","mediaEventTypes","suppressHydrationWarning","checkForUnmatchedText","popover","onScroll","onScrollEnd","onClick","onclick","popToNextHostParent","popHydrationState","JSCompiler_temp","shouldClear","shouldSetTextContent","getNextHydratable","resetHydrationState","SuspenseException","SuspenseyCommitException","noopSuspenseyCommitThenable","isThenableResolved","noop$3","trackUsedThenable","thenableState","workInProgressRoot","shellSuspendCounter","fulfilledThenable","rejectedThenable","suspendedThenable","getSuspendedThenable","thenableState$1","thenableIndexCounter$1","unwrapThenable","coerceRef","throwOnInvalidObjectType","returnFiber","newChild","resolveLazy","lazyType","createChildReconciler","shouldTrackSideEffects","deleteChild","childToDelete","deletions","deleteRemainingChildren","currentFirstChild","mapRemainingChildren","existingChildren","useFiber","pendingProps","createWorkInProgress","placeChild","newFiber","lastPlacedIndex","newIndex","placeSingleChild","updateTextNode","createFiberFromText","updateElement","elementType","updateFragment","createFiberFromTypeAndProps","updatePortal","portal","createFiberFromPortal","fragment","createFiberFromFragment","createChild","readContextDuringReconciliation","updateSlot","oldFiber","updateFromMap","newIdx","reconcileChildFibersImpl","newChildren","resultingFirstChild","previousNewFiber","nextOldFiber","reconcileChildrenArray","step","reconcileChildrenIterator","firstChildFiber","createFiberImplClass","reconcileChildFibers","mountChildFibers","currentTreeHiddenStackCursor","prevEntangledRenderLanesCursor","pushHiddenContext","entangledRenderLanes","baseLanes","reuseHiddenContextOnStack","popHiddenContext","suspenseHandlerStackCursor","shellBoundary","pushPrimaryTreeSuspenseHandler","handler","suspenseStackCursor","pushOffscreenSuspenseHandler","reuseSuspenseHandlerOnStack","popSuspenseHandler","findFirstSuspended","row","revealOrder","AbortControllerLocal","AbortController","signal","aborted","abort","scheduleCallback$2","NormalPriority","CacheContext","createCache","controller","refCount","releaseCache","currentEntangledListeners","currentEntangledPendingCount","currentEntangledLane","currentEntangledActionThenable","pingEngtangledActionScope","prevOnStartTransitionFinish","entangledListeners","requestTransitionLane","entangleAsyncAction","resumedCache","peekCacheFromPool","cacheResumedFromPreviousRender","pooledCache","pushTransition","offscreenWorkInProgress","prevCachePool","pool","getSuspendedCache","cacheFromPool","currentlyRenderingFiber$1","currentHook","workInProgressHook","didScheduleRenderPhaseUpdate","didScheduleRenderPhaseUpdateDuringThisPass","shouldDoubleInvokeUserFnsInHooksDEV","localIdCounter","thenableIndexCounter","globalClientIdCounter","throwInvalidHookError","areHookInputsEqual","nextDeps","prevDeps","renderWithHooks","secondArg","nextRenderLanes","updateQueue","HooksDispatcherOnMount","HooksDispatcherOnUpdate","renderWithHooksAgain","finishRenderingHooks","ContextOnlyDispatcher","didRenderTooFewHooks","didReceiveUpdate","checkIfContextChanged","numberOfReRenders","lastEffect","events","stores","memoCache","HooksDispatcherOnRerender","TransitionAwareHostComponent","dispatcher","maybeThenable","useThenable","checkDidRenderIdHook","didRenderIdHook","bailoutHooks","resetHooksOnUnwind","mountWorkInProgressHook","hook","baseState","baseQueue","updateWorkInProgressHook","nextCurrentHook","nextWorkInProgressHook","readContext","useMemoCache","basicStateReducer","updateReducer","updateReducerImpl","lastRenderedReducer","pendingQueue","baseFirst","newBaseQueueFirst","newBaseQueueLast","didReadFromEntangledAsyncAction$54","workInProgressRootRenderLanes","revertLane","hasEagerState","eagerState","workInProgressRootSkippedLanes","lastRenderedState","dispatch","rerenderReducer","lastRenderPhaseUpdate","updateSyncExternalStore","isHydrating$jscomp$0","snapshotChanged","updateEffect","subscribeToStore","bind","pushEffect","updateStoreInstance","destroy","pushStoreConsistencyCheck","renderedSnapshot","nextSnapshot","checkIfSnapshotChanged","forceStoreRerender","latestGetSnapshot","nextValue","scheduleUpdateOnFiber","mountStateImpl","initialStateInitializer","updateOptimisticImpl","dispatchActionState","actionQueue","setPendingState","isRenderPhaseUpdate","actionNode","isTransition","runActionStateAction","prevState","handleActionReturnValue","onActionError","error$60","nextState","onActionSuccess","notifyActionListeners","actionStateReducer","mountActionState","initialStateProp","ssrFormState","formState","JSCompiler_inline_result$jscomp$0","inRootOrSingleton","dispatchSetState","dispatchOptimisticSetState","updateActionState","updateActionStateImpl","stateHook","currentStateHook","actionQueueHook","actionStateActionEffect","rerenderActionState","updateRef","mountEffectImpl","fiberFlags","hookFlags","updateEffectImpl","mountEffect","updateInsertionEffect","updateLayoutEffect","imperativeHandleEffect","refCleanup","updateImperativeHandle","concat","mountDebugValue","updateCallback","updateMemo","nextCreate","mountDeferredValueImpl","requestDeferredLane","updateDeferredValueImpl","prevValue","pendingState","finishedState","previousPriority","dispatchSetStateInternal","thenableWithOverride","chainThenableValue","requestUpdateLane","noop$2","startHostTransition","formFiber","formData","ensureFormComponentIsStateful","requestFormReset$1","existingStateHook","initialResetState","updateId","updateRefresh","refreshCache","provider","root$63","enqueueUpdate","createUpdate","entangleTransitions","dispatchReducerAction","enqueueRenderPhaseUpdate","entangleTransitionUpdate","currentState","throwIfDuringRender","queueLanes","identifierPrefix","booleanOrThenable","applyDerivedStateFromProps","getDerivedStateFromProps","nextProps","classComponentUpdater","component","_reactInternals","checkShouldComponentUpdate","oldProps","newProps","nextContext","shouldComponentUpdate","callComponentWillReceiveProps","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","resolveClassComponentProps","baseProps","propName$67","defaultOnUncaughtError","defaultOnCaughtError","defaultOnRecoverableError","logUncaughtError","errorInfo","onUncaughtError","e$68","logCaughtError","boundary","onCaughtError","errorBoundary","e$69","createRootErrorUpdate","createClassErrorUpdate","initializeClassErrorUpdate","getDerivedStateFromError","componentDidCatch","legacyErrorBoundariesThatAlreadyFailed","SelectiveHydrationException","reconcileChildren","nextChildren","updateForwardRef","propsWithoutRef","prepareToReadContext","bailoutOnAlreadyFinishedWork","updateMemoComponent","shouldConstruct","updateSimpleMemoComponent","checkScheduledUpdateOrContext","prevProps","updateFunctionComponent","updateOffscreenComponent","nextIsDetached","_pendingVisibility","markRef","deferHiddenOffscreenComponent","cachePool","nextBaseLanes","propagateParentContextChanges","replayFunctionComponent","updateClassComponent","contextType","initializeUpdateQueue","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","processUpdateQueue","suspendIfUpdateReadFromEntangledAsyncAction","componentDidMount","unresolvedOldProps","oldContext","contextType$jscomp$0","hasForceUpdate","cloneUpdateQueue","UNSAFE_componentWillUpdate","componentWillUpdate","componentDidUpdate","mountHostRootWithoutHydrating","SUSPENDED_MARKER","treeContext","retryLane","mountSuspenseOffscreenState","getRemainingWorkInPrimaryTree","primaryTreeDidDefer","workInProgressDeferredLane","updateSuspenseComponent","showFallback","didSuspend","JSCompiler_temp$jscomp$0","nextInstance","overflow","fallback","mountWorkInProgressOffscreenFiber","mountSuspensePrimaryChildren","retrySuspenseComponentWithoutHydrating","dataset","digest","dgst","renderDidSuspendDelayIfPossible","retryDehydratedSuspenseBoundary","_reactRetry","subtreeFlags","primaryChildren","offscreenProps","createFiberFromOffscreen","scheduleSuspenseWorkOnFiber","propagationRoot","scheduleContextWorkOnParentPath","initSuspenseListRenderState","isBackwards","tail","lastContentRow","tailMode","renderState","rendering","renderingStartTime","updateSuspenseListComponent","beginWork","pushProvider","didSuspendBefore","attemptEarlyBailoutIfNoScheduledUpdate","lazyComponent","propagateContextChanges","isDehydrated","getResource","getOwnerDocumentFromRootContainer","setInitialProperties","resolveSingletonInstance","anyProps","hasAttribute","getAttribute","rel","title","src","canHydrateInstance","canHydrateTextInstance","pooledCacheLanes","valueCursor","currentlyRenderingFiber","lastContextDependency","providerFiber","popProvider","contexts","forcePropagateEntireTree","list","nextFiber","firstContext","dependency","isInsidePropagationBailout","currentParent","currentDependencies","memoizedValue","readContextForConsumer","consumer","firstBaseUpdate","lastBaseUpdate","shared","hiddenCallbacks","callbacks","executionContext","enqueueCapturedUpdate","capturedUpdate","newFirst","newLast","clone","didReadFromEntangledAsyncAction","workInProgress$jscomp$0","instance$jscomp$0","lastPendingUpdate","firstPendingUpdate","isHiddenUpdate","callCallback","commitCallbacks","commitHookEffectListMount","finishedWork","firstEffect","captureCommitPhaseError","commitHookEffectListUnmount","nearestMountedAncestor$jscomp$0","nearestMountedAncestor","commitClassCallbacks","safelyCallComponentWillUnmount","componentWillUnmount","safelyAttachRef","instanceToUse","safelyDetachRef","error$112","commitHostMount","autoFocus","srcSet","srcset","commitHostUpdate","domElement","lastProps","propKey","lastProp","setProp","propKey$203","propKey$219","propKey$224","propKey$229","setPropOnCustomElement","propKey$234","updateProperties","isHostParent","getHostSibling","insertOrAppendPlacementNodeIntoContainer","before","insertBefore","_reactRootContainer","insertOrAppendPlacementNode","offscreenSubtreeIsHidden","offscreenSubtreeWasHidden","needsFormReset","PossiblyWeakSet","nextEffect","shouldFireAfterActiveInstanceBlur","commitLayoutEffectOnFiber","finishedRoot","recursivelyTraverseLayoutEffects","__reactInternalSnapshotBeforeUpdate","error$111","commitSuspenseHydrationCallbacks","prevOffscreenSubtreeIsHidden","prevOffscreenSubtreeWasHidden","recursivelyTraverseReappearLayoutEffects","detachFiberAfterEffects","hostParent","hostParentIsContainer","recursivelyTraverseDeletionEffects","commitDeletionEffectsOnFiber","deletedFiber","onCommitFiberUnmount","removeChild","prevHostParent","prevHostParentIsContainer","attributes","removeAttributeNode","prevHostParentIsContainer$119","clearSuspenseBoundary","retryIfBlockedOn","attachSuspenseRetryListeners","wakeables","retryCache","_retryCache","getRetryCache","wakeable","resolveRetryWakeable","recursivelyTraverseMutationEffects","root$jscomp$0","parentFiber","commitMutationEffectsOnFiber","currentHoistableRoot","commitReconciliationEffects","hoistableRoot","currentResource","getElementsByTagName","querySelector","maybeNodes","getHydratableHoistableCache","content","httpEquiv","charSet","mountHoistable","acquireResource","nextNode","tagCaches","getHoistableRoot","recursivelyResetForms","globalMostRecentFallbackTime","_current","recursivelyTraverseDisappearLayoutEffects","retryQueue","parent$jscomp$0","parent$113","parent$115","reset","finishedRoot$jscomp$0","includeWorkInProgressEffects","commitOffscreenPassiveMountEffects","previousCache","commitCachePassiveMountEffect","recursivelyTraversePassiveMountEffects","committedLanes","committedTransitions","commitPassiveMountOnFiber","_finishedWork$memoize2","onPostCommit","passiveEffectDuration","recursivelyTraverseAtomicPassiveEffects","recursivelyTraverseReconnectPassiveEffects","committedLanes$jscomp$0","committedTransitions$jscomp$0","suspenseyCommitFlag","recursivelyAccumulateSuspenseyCommit","accumulateSuspenseyCommitOnFiber","resource","suspendedState","matchMedia","matches","loading","getStyleKey","getStylesheetSelectorFromKey","_p","onUnsuspend","stylesheetPropsFromRawProps","preloadPropsMap","adoptPreloadPropsForStylesheet","linkInstance","reject","onload","onerror","stylesheets","suspendResource","previousHoistableRoot","detachAlternateSiblings","previousFiber","recursivelyTraversePassiveUnmountEffects","commitPassiveUnmountEffectsInsideOfDeletedTree_begin","commitPassiveUnmountOnFiber","recursivelyTraverseDisconnectPassiveEffects","deletedSubtreeRoot","FiberNode","resetWorkInProgress","fiberTag","hostContext","itemProp","onLoad","onError","async","isHostHoistableType","elements","primaryChildInstance","_pendingMarkers","_transitions","detach","attach","pendingChildren","markUpdate","preloadResourceAndSuspendIfNeeded","preloadResource","scheduleRetryEffect","workInProgressSuspendedRetryLanes","cutOffTailIfNeeded","hasRenderedATailFallback","lastTailNode","lastTailNode$131","bubbleProperties","completedWork","didBailout","newChildLanes","child$132","completeWork","pendingContext","queueRecoverableErrors","createElementNS","innerHTML","createTextNode","cache$144","listenToAllSupportedEvents","workInProgressRootExitStatus","workInProgressRootRenderTargetTime","unwindWork","unwindInterruptedWork","interruptedWork","DefaultAsyncDispatcher","getCacheForType","resourceType","cacheForType","PossiblyWeakMap","workInProgressSuspendedReason","workInProgressThrownValue","workInProgressRootDidSkipSuspendedSiblings","workInProgressRootIsPrerendering","workInProgressRootDidAttachPingListener","workInProgressRootInterleavedUpdatedLanes","workInProgressRootPingedLanes","workInProgressRootConcurrentErrors","workInProgressRootRecoverableErrors","workInProgressRootDidIncludeRecursiveRenderUpdate","Infinity","workInProgressTransitions","rootDoesHavePassiveEffects","rootWithPendingPassiveEffects","pendingPassiveEffectsLanes","pendingPassiveEffectsRemainingLanes","pendingPassiveTransitions","suspenseHandler","cancelPendingCommit","prepareFreshStack","markRootSuspended","ensureRootIsScheduled","performWorkOnRoot","forceSync","shouldTimeSlice","expiredLanes","exitStatus","prevExecutionContext","prevDispatcher","pushDispatcher","prevAsyncDispatcher","pushAsyncDispatcher","thrownValue","throwAndUnwindWorkLoop","replaySuspendedUnitOfWork","hostFiber","completeUnitOfWork","resetWorkInProgressStack","workLoopConcurrent","thrownValue$166","handleThrow","renderRootConcurrent","renderRootSync","renderWasConcurrent","isRenderConsistentWithExternalStores","errorRecoveryDisabledLanes","wasRootDehydrated","timeoutHandle","scheduleTimeout","commitRootWhenReady","errors","recoverableErrors","transitions","didIncludeRenderPhaseUpdate","updatedLanes","suspendedRetryLanes","didSkipSuspendedSiblings","suspendedCommitReason","completedRenderStartTime","completedRenderEndTime","unsuspend","insertSuspendedStylesheets","commit","stylesheetTimer","waitForCommitToBeReady","commitRoot","check","didAttemptEntireTree","expirationTimes","index$6","flushSyncWorkAcrossRoots_impl","cancelTimeout","allEntangledLanes","index$4","shouldYieldForPrerendering","unitOfWork","workLoopSync","thrownValue$164","performUnitOfWork","suspendedReason","rootRenderLanes","attachPingListener","markerInstances","wrapperError","throwException","unwindUnitOfWork","skipSiblings","previousUpdateLanePriority","renderPriorityLevel","flushPassiveEffects","callbackNode","callbackPriority","remainingLanes","previouslyPendingLanes","index$7","hiddenUpdatesForLane","markRootFinished","scheduleCallback$1","eventsEnabled","_enabled","selection","e$20","indexWithinAnchor","indexWithinFocus","selectionInformation","resolvedPrevProps","clearContainerSparingly","commitBeforeMutationEffects","releaseRootPooledCache","onCommitFiberRoot","onCommitRoot","onRecoverableError","commitRootImpl","root$170","renderPriority","onPostCommitFiberRoot","captureCommitPhaseErrorOnRoot","rootFiber","pingCache","threadIDs","pingSuspendedRoot","retryTimedOutBoundary","boundaryFiber","firstScheduledRoot","lastScheduledRoot","didScheduleMicrotask","mightHavePendingSyncWork","isFlushingWork","currentEventTransitionLane","cb","processRootScheduleInMicrotask","scheduleMicrotask","syncTransitionLanes","onlyLegacy","didPerformSomeWork","root$172","performSyncWorkOnRoot","currentPopstateTransitionEvent","shouldAttemptEagerTransition","prev","scheduleTaskForRootDuringMicrotask","index$5","performWorkOnRootViaSchedulerTask","originalCallbackNode","workInProgressRootRenderLanes$jscomp$0","coerceFormActionProp","actionProp","createFormDataWithSubmitter","submitter","temp","FormData","i$jscomp$inline_1439","eventName$jscomp$inline_1440","toUpperCase","nonDelegatedEvents","eventSystemFlags","_dispatchQueue$i","previousInstance","i$jscomp$0","_dispatchListeners$i","targetElement","listenerSetKey","addTrappedEventListener","listenToNativeEvent","isCapturePhaseListener","listeningMarker","rootContainerElement","targetContainer","listenerWrapper","dispatchDiscreteEvent","dispatchContinuousEvent","dispatchEventForPluginEventSystem","targetInst$jscomp$0","ancestorInst","nodeTag","grandTag","SyntheticEventCtor","inCapturePhase","accumulateTargetOnly","reactEventName","lastHostComponent","_instance","createDispatchListener","parentWindow","getParent","accumulateEnterLeaveListenersForEvent","getTargetInstFunc","handleEventFunc","fallbackData","eventType","getNativeBeforeInputChars","char","getFallbackBeforeInputChars","maybeTargetInst","formAction","extractEvents$1","targetFiber","captureName","_instance2","unshift","common","_instance3","NORMALIZE_NEWLINES_REGEX","NORMALIZE_NULL_AND_REPLACEMENT_REGEX","normalizeMarkupForTextOrAttribute","markup","serverText","clientText","formEncType","formMethod","formTarget","encType","__html","muted","isNaN","endsWith","hasSrc","hasSrcSet","propValue$186","parentNamespace","dangerouslySetInnerHTML","localPromise","queueMicrotask","handleErrorInNextTick","parentInstance","suspenseInstance","depth","targetInstance","previousSibling","rootContainerInstance","preconnectsSet","getRootNode","previousDispatcher","previousWasRendering","wasRendering","formInst","preconnectAs","globalDocument","preloadSelector","getScriptKey","getScriptSelectorFromKey","scripts","adoptPreloadPropsForScript","link","insertStylesheet","limitedEscapedHref","currentProps","styles$242","resource$243","hrefLang","preloadProps","preloadStylesheet","rawProps","styleProps","instance$248","nodes","prior","stylesheetProps","scriptProps","keyAttribute","caches","nodeKey","precedencesByRoot","insertStylesheetIntoRoot","precedences","FiberRootNode","hydrate","incompleteTransitions","createFiberRoot","initialChildren","hydrationCallbacks","isStrictMode","transitionCallbacks","getContextForSubtree","parentComponent","updateContainerImpl","markRetryLaneImpl","markRetryLaneIfNotHydrated","attemptContinuousHydration","blockedOn","findInstanceBlockingEvent","return_targetInst","clearIfContinuousEvent","queuedFocus","accumulateOrCreateContinuousQueuedReplayableEvent","queuedDrag","queuedMouse","queuedPointers","queuedPointerCaptures","queueIfContinuousEvent","discreteReplayableEvents","findInstanceBlockingTarget","hasScheduledReplayAttempt","queuedExplicitHydrationTargets","existingQueuedEvent","targetContainers","attemptExplicitHydrationTarget","queuedTarget","priority","runWithPriority","attemptReplayContinuousQueuedEvent","queuedEvent","nextBlockedOn","nativeEventClone","attemptReplayContinuousQueuedEventInMap","replayUnblockedEvents","scheduleCallbackIfUnblocked","unblocked","lastScheduledReplayQueue","scheduleReplayQueueIfNeeded","formReplayingQueue","submitterOrAction","unblock","$$reactFormReplay","formProps","ReactDOMRoot","internalRoot","_internalRoot","ReactDOMHydrationRoot","unmount","unstable_scheduleHydration","isomorphicReactPackageVersion$jscomp$inline_1686","componentOrElement","parentA","parentB","didFindChild","child$2","findCurrentFiberUsingSlowPath","internals$jscomp$inline_2165","bundleType","rendererPackageName","currentDispatcherRef","findFiberByHostInstance","reconcilerVersion","hook$jscomp$inline_2166","isDisabled","supportsFiber","inject","createRoot","unstable_strictMode","unstable_transitionCallbacks","hydrateRoot","sendToExtension","__ddBrowserSdkExtensionCallback","getEventBridge","eventBridgeGlobal","DatadogEventBridge","getCapabilities","parse","getPrivacyLevel","getAllowedWebViewHosts","bridgeSupports","capability","bridge","canUseEventBridge","currentHost","hostname","allowedHost","globalThis","globalObject","_dd_temp_","BUFFER_LIMIT","createBoundedBuffer","buffer","drain","arg","isChromium","detectBrowserCached","isSafari","browserCache","userAgent","chrome","vendor","detectBrowser","CUSTOMER_DATA_BYTES_LIMIT","CUSTOMER_COMPRESSED_DATA_BYTES_LIMIT","BYTES_COMPUTATION_THROTTLING_DELAY","createCustomerDataTrackerManager","compressionStatus","customerDataTrackers","alreadyWarned","checkCustomerDataLimit","bytesCountLimit","getBytesCount","MORE_DETAILS","DOCS_TROUBLESHOOTING","displayCustomerDataLimitReachedWarning","createDetachedTracker","createCustomerDataTracker","getOrCreateTracker","setCompressionStatus","newCompressionStatus","getCompressionStatus","clear","bytesCountCache","computeBytesCountThrottled","cancelComputeBytesCount","computeBytesCount","resetBytesCount","updateCustomerData","resetCustomerData","ensureProperties","propertiesConfig","newContext","required","createContextManager","customerDataTracker","changeObservable","contextManager","getContext","setContext","maybeContext","isValid","checkContext","clearContext","setContextProperty","removeContextProperty","TrackingConsent","GRANTED","NOT_GRANTED","CONTEXT_STORE_KEY_PREFIX","storageListeners","storeContextManager","productKey","customerDataType","storageKey","buildStorageKey","getFromStorage","localStorage","setItem","contextFromStorage","rawContext","getItem","createIdentityEncoder","output","outputBytesCount","isAsync","isEmpty","write","additionalEncodedBytesCount","finish","finishSync","rawBytesCount","pendingData","estimateEncodedBytesCount","displayAlreadyInitializedError","sdkName","initConfiguration","silentMultipleInit","generateUUID","placeholder","parseInt","COMMA_SEPARATED_KEY_VALUE","findCommaSeparatedValue","rawString","lastIndex","safeTruncate","lastChar","correctedLength","startVitalCollection","lifeCycle","pageStateHistory","customVitalsState","addDurationVital","vital","wasInPageStateDuringPeriod","valueComputedBySdk","rawRumEvent","_dd","computed_value","customerContext","domainContext","processVital","startDurationVital","stopDurationVital","nameOrRef","vitalsByName","vitalsByReference","reference","__dd_vital_reference","stopCallback","_ref2","vitalStart","stopOptions","stopClocks","buildDurationVital","callPluginsMethod","plugins","methodName","parameter","plugin","fetchObservable","initFetchObservable","methodFromParams","responsePromise","startContext","reportFetch","partialContext","responseType","isAborted","_b","DOMException","ABORT_ERR","afterSend","beforeSend","setCookie","expireDelay","setTime","expires","toUTCString","sameSite","crossSite","domain","secure","partitioned","cookie","getCookie","initCookieParsed","getCurrentSiteCache","getInitCookie","findCommaSeparatedValues","deleteCookie","SYNTHETICS_TEST_ID_COOKIE_NAME","SYNTHETICS_RESULT_ID_COOKIE_NAME","SYNTHETICS_INJECTS_RUM_COOKIE_NAME","willSyntheticsInjectRum","Boolean","_DATADOG_SYNTHETICS_INJECTS_RUM","SESSION_STORE_KEY","SESSION_TIME_OUT_DELAY","SESSION_EXPIRATION_DELAY","SESSION_COOKIE_EXPIRATION_DELAY","SessionPersistence","COOKIE","LOCAL_STORAGE","SESSION_ENTRY_REGEXP","SESSION_ENTRY_SEPARATOR","EXPIRED","getExpiredSessionState","previousSessionState","expiredSessionState","isExpired","trackAnonymousUser","anonymousId","isSessionInNotStartedState","session","isSessionStarted","isSessionInExpiredState","sessionState","created","Number","expire","expandSessionState","toSessionString","toSessionState","sessionString","isValidSessionString","entry","OLD_SESSION_COOKIE_NAME","OLD_RUM_COOKIE_NAME","OLD_LOGS_COOKIE_NAME","RUM_SESSION_KEY","LOGS_SESSION_KEY","selectCookieStrategy","cookieOptions","useSecureSessionCookie","usePartitionedCrossSiteSessionCookie","trackSessionAcrossSubdomains","testCookieName","testCookieValue","domainLevels","candidateDomain","getCurrentSite","buildCookieOptions","isCookieCorrectlySet","areCookiesAuthorized","initCookieStrategy","cookieStore","isLockEnabled","persistSession","retrieveSession","retrieveSessionCookie","expireSession","expireSessionCookie","cookieStoreStrategy","oldSessionId","oldRumType","oldLogsType","tryOldCookiesMigration","LOCAL_STORAGE_TEST_KEY","selectLocalStorageStrategy","testKey","retrievedId","initLocalStorageStrategy","persistInLocalStorage","retrieveSessionFromLocalStorage","expireSessionFromLocalStorage","LOCK_RETRY_DELAY","LOCK_MAX_TRIES","bufferedOperations","ongoingOperations","processSessionStoreOperations","operations","sessionStoreStrategy","numberOfRetries","persistWithLock","lock","currentLock","retrieveStore","currentStore","retryLater","processedSession","sessionStore","currentNumberOfRetries","nextOperations","STORAGE_POLL_DELAY","selectSessionStoreStrategyType","sessionPersistence","sessionStoreStrategyType","allowFallbackToLocalStorage","startSessionStore","computeSessionState","renewObservable","expireObservable","sessionStateUpdateObservable","watchSessionTimeoutId","synchronizeSession","sessionCache","startSession","throttledExpandOrRenewSession","cancelExpandOrRenewSession","synchronizedSession","trackingType","isTracked","expandOrRenewSessionState","hasSessionInCache","renewSessionInCache","isSessionInCacheOutdated","previousState","expandOrRenewSession","expandSession","getSession","restartSession","updateSessionState","partialSessionState","createEndpointBuilder","configurationTags","buildUrlWithParameters","proxy","normalizedProxyUrl","host","buildEndpointHost","createEndpointUrlWithParametersBuilder","clientToken","internalAnalyticsSubdomain","encoding","tags","reverse","buildEndpointParameters","urlPrefix","site","usePciIntake","domainParts","extension","TAG_SIZE_LIMIT","buildTag","rawValue","valueSizeLimit","supportUnicodePropertyEscapes","hasForbiddenCharacters","DOCS_ORIGIN","computeTransportConfiguration","env","service","datacenter","buildTags","endpointBuilders","logsEndpointBuilder","rumEndpointBuilder","profilingEndpointBuilder","sessionReplayEndpointBuilder","computeEndpointBuilders","replicaConfiguration","replica","replicaEndpointBuilders","applicationId","computeReplicaConfiguration","DefaultPrivacyLevel","ALLOW","MASK","MASK_USER_INPUT","TraceContextInjection","ALL","SAMPLED","isString","isSampleRate","sampleRate","validateAndBuildConfiguration","sessionSampleRate","telemetrySampleRate","telemetryConfigurationSampleRate","telemetryUsageSampleRate","trackingConsent","_c","_d","_e","_f","storeContextsAcrossPages","batchBytesLimit","eventRateLimiterThreshold","maxTelemetryEventsPerPage","flushTimeout","batchMessagesLimit","messageBytesLimit","isMatchOption","itemType","matchList","useStartsWith","createSpanIdentifier","createIdentifier","bits","crypto","getRandomValues","Uint32Array","radix","high","low","str","mod","toPaddedHexadecimalString","padStart","sampleDecisionCache","isTraceSampled","sessionId","decision","BigInt","identifier","knuthFactor","twoPow64","sampleUsingKnuthFactor","encodedContextCache","getEncodedContext","encoded","plainText","bytes","TextEncoder","encode","binString","fromCodePoint","btoa","encodeToUtf8Base64","clearTracingIfNeeded","traceId","spanId","traceSampled","injectHeadersIfTracingAllowed","sessionManager","getCommonContext","findTrackedSession","tracingOption","allowedTracingUrls","find","traceSampleRate","traceContextInjection","propagatorTypes","tracingHeaders","propagatorType","traceparent","tracestate","getTraceStateDatadogItems","b3","makeTracingHeaders","traceStateDatadogItems","USER_ACCOUNT_TRACE_HEADER","userIdEncoded","user","accountIdEncoded","account","DEFAULT_PROPAGATOR_TYPES","validateAndBuildRumConfiguration","trackFeatureFlagsForEvents","sessionReplaySampleRate","excludedActivityUrls","tracingOptions","option","expectedItem","isTracingOption","validateAndBuildTracingOptions","baseConfiguration","profilingEnabled","PROFILING","actionNameAttribute","startSessionReplayRecordingManually","rulePsr","workerUrl","compressIntakeRequests","trackUserInteractions","trackViewsManually","trackResources","trackLongTasks","subdomain","defaultPrivacyLevel","enablePrivacyForActionName","customerDataTelemetrySampleRate","profilingSampleRate","_g","getSelectedTracingPropagators","usedTracingPropagators","REMOTE_CONFIGURATION_VERSION","fetchAndApplyRemoteConfiguration","xhr","XMLHttpRequest","remoteConfiguration","responseText","rum","displayRemoteConfigurationFetchingError","open","remoteConfigurationId","buildEndpoint","fetchRemoteConfiguration","remoteInitConfiguration","applyRemoteConfiguration","createPreStartStrategy","trackingConsentState","doStartRum","ignoreInitIfSyntheticsWillInjectRum","startDeflateWorker","bufferApiCalls","firstStartViewCall","deflateWorker","cachedInitConfiguration","cachedConfiguration","trackingConsentStateSubscription","tryStartRum","emptyContext","isGranted","initialViewOptions","unsubscribe","startRumResult","doInit","eventBridgeAvailable","overrideInitConfigurationForBridge","addTelemetryConfiguration","baseSerializedConfiguration","session_sample_rate","telemetry_sample_rate","telemetry_configuration_sample_rate","telemetry_usage_sample_rate","use_before_send","use_partitioned_cross_site_session_cookie","use_secure_session_cookie","use_proxy","silent_multiple_init","track_session_across_subdomains","track_anonymous_user","session_persistence","allow_fallback_to_local_storage","store_contexts_across_pages","allow_untrusted_events","tracking_consent","session_replay_sample_rate","start_session_replay_recording_manually","trace_sample_rate","trace_context_injection","action_name_attribute","use_allowed_tracing_urls","selected_tracing_propagators","default_privacy_level","enable_privacy_for_action_name","use_excluded_activity_urls","use_worker_url","compress_intake_requests","track_views_manually","track_user_interactions","track_resources","track_long_task","getConfigurationTelemetry","track_feature_flags_for_events","serializeRumConfiguration","tryToInit","strategy","getInternalContext","stopSession","addTiming","startView","setViewName","setViewContext","setViewContextProperty","getViewContext","addAction","commonContext","addError","providedError","addFeatureFlagEvaluation","RUM_STORAGE_KEY","makeRumPublicApi","startRumImpl","recorderApi","profilerApi","customerDataTrackerManager","globalContextManager","userContextManager","accountContextManager","currentConsent","createTrackingConsentState","hasReplay","isRecording","buildCommonContext","createDeflateEncoder","streamId","onRumStart","viewHistory","preStartStrategy","createPostStartStrategy","sanitizedOptions","addTelemetryUsage","feature","rumPublicApi","setTrackingConsent","setGlobalContext","getGlobalContext","setGlobalContextProperty","removeGlobalContextProperty","clearGlobalContext","getInitConfiguration","setUser","newUser","getUser","setUserProperty","removeUserProperty","clearUser","setAccount","getAccount","setAccountProperty","removeAccountProperty","clearAccount","getSessionReplayLink","startSessionReplayRecording","force","stopSessionReplayRecording","getMutationObserverConstructor","MutationObserver","patchedInstance","originalInstance","createEventRateLimiter","limit","onLimitReached","eventCount","allowNextEvent","isLimitReached","limitModification","modifiableFieldPaths","modifier","fieldPath","fieldType","setValueAtPath","pathSegments","field","restPathSegments","isValidObject","newType","setNestedValue","VIEW_MODIFIABLE_FIELD_PATHS","USER_CUSTOMIZABLE_FIELD_PATHS","ROOT_MODIFIABLE_FIELD_PATHS","modifiableFieldPathsByEvent","startRumAssembly","hooks","urlContexts","displayContext","WRITABLE_RESOURCE_GRAPHQL","eventRateLimiters","savedCommonContext","viewHistoryEntry","findView","urlContext","findUrl","MISSING_URL_CONTEXT_TELEMETRY","addTelemetryDebug","debug","urlEntries","getAllEntries","urlDeletedEntries","getDeletedEntries","viewEntries","viewDeletedEntries","rumContext","format_version","drift","browser_sdk_version","application","connectivity","serverRumEvent","triggerHook","has_replay","sampled_for_replay","sessionReplay","anonymous_id","usr","rateLimitReached","shouldSend","LifeCycle","eventCallbacks","other","END_OF_TIMES","CLEAR_OLD_VALUES_INTERVAL","cleanupHistoriesInterval","cleanupTasks","createValueHistory","maxEntries","deletedEntries","clearExpiredValues","oldTimeThreshold","endTime","close","returnInactive","closeActive","latestEntry","findAll","VIEW_CONTEXT_TIME_OUT_DELAY","xhrObservable","xhrContexts","initXhrObservable","stopInstrumentingStart","openXhr","stopInstrumentingSend","hasBeenReported","stopInstrumentingOnReadyStateChange","DONE","onEnd","unsubscribeLoadEndListener","completeContext","sendXhr","stopInstrumentingAbort","abortXhr","createXhrObservable","_ref3","FAKE_INITIAL_DOCUMENT","RESOURCE_TYPES","initiatorType","_","areInOrder","isResourceEntryRequestType","computeResourceEntryDuration","responseEnd","computeResourceEntryDetails","hasValidResourceEntryTimings","fetchStart","workerStart","redirectStart","redirectEnd","domainLookupStart","domainLookupEnd","connectStart","secureConnectionStart","connectEnd","requestStart","responseStart","details","download","formatTiming","first_byte","worker","connect","ssl","dns","redirect","hasValidResourceEntryDuration","areCommonTimingsInOrder","areRedirectionTimingsInOrder","hasRedirection","origin","computeResourceEntryProtocol","nextHopProtocol","computeResourceEntryDeliveryType","deliveryType","computeResourceEntrySize","encodedBodySize","decodedBodySize","transferSize","encoded_body_size","decoded_body_size","transfer_size","isAllowedRequestUrl","every","param","isIntakeUrl","DATA_URL_REGEX","MAX_ATTRIBUTE_VALUE_CHAR_LENGTH","isLongDataUrl","substring","sanitizeDataUrl","nextRequestIndex","startRequestCollection","tracer","traceFetch","headers","append","Headers","header","traceXhr","setRequestHeader","startTracer","subscription","requestIndex","getNextRequestIndex","trackXhr","clonedResponse","tryToClone","stream","reader","getReader","chunks","readBytesCount","onDone","limitExceeded","collectStreamBody","completeBuffer","Uint8Array","chunk","readMore","read","readBytesFromStream","POSITIVE_INFINITY","waitForResponseToComplete","trackFetch","discardNegativeDuration","trackEventCounts","isChildEvent","onChange","eventCounts","errorCount","longTaskCount","resourceCount","actionCount","frustrationCount","frustration","discarded","retrieveFirstInputTiming","startTimeStamp","timingSent","removeEventListeners","evt","entryType","processingStart","processingEnd","sendTiming","sendTimingIfPointerIsNotCancelled","RumPerformanceEntryType","createPerformanceObservable","PerformanceObserver","handlePerformanceEntries","rumPerformanceEntries","RESOURCE","isForbiddenResource","filterRumPerformanceEntries","isObserverInitializing","observer","getEntries","observe","NAVIGATION","LONG_TASK","PAINT","buffered","getEntriesByType","entryTypes","stopFirstInputTiming","resourceTimingBufferFullListener","clearResourceTimings","manageResourceTimingBufferFull","supportPerformanceTimingEvent","FIRST_INPUT","disconnect","supportedEntryTypes","PAGE_ACTIVITY_VALIDATION_DELAY","PAGE_ACTIVITY_END_DELAY","waitPageActivityEnd","domMutationObservable","windowOpenObservable","pageActivityEndCallback","maxDuration","pageActivityObservable","subscriptions","firstRequestIndex","pendingRequestsCount","notifyPageActivity","isExcludedUrl","startEvent","request","s","isBusy","createPageActivityObservable","pageActivityEndTimeoutId","hasCompleted","validationTimeoutId","complete","hadActivity","maxDurationTimeoutId","pageActivitySubscription","lastChangeTime","doWaitPageActivityEnd","requestUrl","isTextNode","Node","TEXT_NODE","isElementNode","ELEMENT_NODE","isNodeShadowHost","shadowRoot","isNodeShadowRoot","DOCUMENT_FRAGMENT_NODE","hasChildNodes","childNodes","forEachChildNodes","getParentNode","NodePrivacyLevel","IGNORE","PRIVACY_ATTR_NAME","PRIVACY_ATTR_VALUE_HIDDEN","PRIVACY_CLASS_PREFIX","CENSORED_STRING_MARK","CENSORED_IMG_MARK","FORM_PRIVATE_TAG_NAMES","INPUT","OUTPUT","TEXTAREA","SELECT","OPTION","DATALIST","OPTGROUP","getNodePrivacyLevel","parentNodePrivacyLevel","nodePrivacyLevel","reducePrivacyLevel","getNodeSelfPrivacyLevel","childPrivacyLevel","inputElement","autocomplete","getPrivacySelector","relAttribute","getLowerCaseAttribute","nameAttribute","propertyAttribute","shouldIgnoreElement","shouldMaskNode","privacyLevel","isFormElement","censorText","getTextContent","textNode","ignoreWhiteSpace","parentTagName","parentElement","DEFAULT_PROGRAMMATIC_ACTION_NAME_ATTRIBUTE","ACTION_NAME_PLACEHOLDER","getActionNameFromElementProgrammatically","programmaticAttribute","elementWithAttribute","closest","truncate","normalizeWhitespace","priorityStrategies","userProgrammaticAttribute","labels","getActionNameFromTextualContent","nameSource","privacyEnabledActionName","getActionNameFromStandardAttribute","labelledByAttribute","refElement","getElementById","label","getTextualContent","fallbackStrategies","MAX_PARENTS_TO_CONSIDER","getActionNameFromElementForStrategies","strategies","recursionCounter","actionName","trimmedName","attribute","isContentEditable","innerText","removeTextFromElements","query","textToReplace","STABLE_ATTRIBUTES","GLOBALLY_UNIQUE_SELECTOR_GETTERS","getStableAttributeSelector","isGeneratedValue","CSS","UNIQUE_AMONG_CHILDREN_SELECTOR_GETTERS","classList","className","getSelectorFromElement","isConnected","targetElementSelector","currentElement","globallyUniqueSelector","findSelector","isSelectorUniqueGlobally","isSelectorUniqueAmongSiblings","combineSelector","getPositionSelector","selector","getAttributeSelector","firstElementChild","elementIndex","nextElementSibling","selectorGetters","childSelector","selectorGetter","elementSelector","currentElementSelector","isSiblingMatching","scopedSelector","MAX_DURATION_BETWEEN_CLICKS","MAX_DISTANCE_BETWEEN_CLICKS","createClickChain","firstClick","onFinalize","bufferedClicks","maxDurationBetweenClicksTimeoutId","appendClick","click","stopObservable","tryFinalize","dontAcceptMoreClick","isStopped","tryAppend","second","sqrt","pow","areEventsSimilar","isSelectionEmpty","isCollapsed","isValidPointerEvent","Element","MIN_CLICKS_PER_SECOND_TO_CONSIDER_RAGE","computeFrustration","clicks","rageClick","getUserActivity","scroll","isRage","addFrustration","isDead","hasError","hasSelectionChanged","DEAD_CLICK_EXCLUDE_SELECTOR","hasPageActivity","CLICK_ACTION_MAX_DURATION","interactionSelectorCache","updateInteractionSelector","relativeTimestamp","ACTION_CONTEXT_TIME_OUT_DELAY","trackClickActions","history","currentClickChain","stopClickChain","stopActionEventsListener","selectionEmptyAtPointerDown","clickContext","onPointerDown","onPointerUp","userActivity","localUserActivity","listenActionEvents","pointerDownEvent","clickActionBase","rect","getBoundingClientRect","defaultActionName","getActionNameFromElement","position","computeClickActionBase","hadActivityOnPointerDown","pageActivityEndEvent","processPointerDown","appendClickToClickChain","newClick","stopWaitPageActivityEnd","discard","viewEndedSubscription","endClocks","stopSubscription","startClickAction","actionContexts","findActionId","validate","finalizeClicks","historyEntry","eventCountsSubscription","activityEndTime","frustrationTypes","newActivityEndTime","frustrationType","domEvents","clickAction","counts","processAction","autoActionProperties","isAutoAction","loading_time","long_task","name_source","actionEvent","trackRuntimeError","errorObservable","handleRuntimeError","rawError","stopInstrumentingOnError","errorObj","stopInstrumentingOnUnhandledRejection","instrumentUnhandledRejection","consoleObservablesByApi","initConsoleObservable","apis","consoleObservables","originalConsoleApi","globalConsole","params","formatConsoleParameters","ConsoleApiName","firstErrorParam","buildConsoleLog","createConsoleObservable","mergeObservables","RawReportType","intervention","deprecation","cspViolation","initReportObservable","observables","blockedURI","effectiveDirective","buildRawReportError","csp","disposition","buildStack","originalPolicy","sourceFile","lineNumber","columnNumber","buildRawReportErrorFromCspViolation","createCspViolationReportObservable","reportTypes","ReportingObserver","handleReports","reports","report","buildRawReportErrorFromReport","types","createReportObservable","partial","startErrorCollection","consoleLog","trackConsoleError","trackReportError","processError","doStartErrorCollection","handling_stack","component_stack","source_type","IDLE_CALLBACK_TIMEOUT","MAX_EXECUTION_TIME_ON_TIMEOUT","alreadyMatchedEntries","matchRequestResourceEntry","sameNameEntries","getEntriesByName","candidates","errorMargin","isBetween","INITIAL_DOCUMENT_OUTDATED_TRACE_ID_THRESHOLD","getDocumentTraceId","traceIdMeta","traceTimeMeta","createDocumentTraceData","getDocumentTraceDataFromMeta","comment","getTraceCommentFromNode","findTraceComment","getDocumentTraceDataFromComment","traceTime","rawTraceTime","COMMENT_NODE","isCommentNode","getNavigationEntry","navigationEntry","timings","numberKey","timingElement","computeTimingsFromDeprecatedPerformanceTiming","loadEventEnd","retrieveInitialDocumentResourceTiming","getNavigationEntryImpl","startResourceCollection","pendingTasks","run","deadline","executionTimeRemaining","scheduleNextRun","createTaskQueue","retrieveInitialDocumentResourceTimingImpl","handleResource","matchingTiming","tracingInfo","hasBeenTraced","span_id","trace_id","rule_psr","computeRequestTracingInfo","correspondingTimingOverrides","computeResourceEntryMetrics","computeRequestDuration","resourceEvent","status_code","protocol","delivery_type","performanceEntry","requestInput","requestInit","processRequest","performanceResourceSubscription","processResourceEntry","computeRawEvent","rawEvent","computeResourceEntryTracingInfo","isType","computeResourceEntryType","entryMetrics","statusCode","responseStatus","renderBlockingStatus","render_blocking_status","FCP_MAXIMUM_DELAY","trackNavigationTimings","stopOnReadyState","waitAfterLoadEvent","isIncompleteNavigation","domComplete","domContentLoaded","domContentLoadedEventEnd","domInteractive","loadEvent","firstByte","processNavigationEntry","LCP_MAXIMUM_DELAY","trackFirstHidden","VISIBILITY_STATE","firstHiddenEntry","trackInitialViewMetrics","setLoadEvent","scheduleViewUpdate","initialViewMetrics","stopNavigationTracking","navigationTimings","firstHidden","stopFCPTracking","fcpEntry","trackFirstContentfulPaint","firstContentfulPaint","stopLCPTracking","firstInteractionTimestamp","stopEventListener","biggestLcpSize","performanceLcpSubscription","LARGEST_CONTENTFUL_PAINT","lcpEntry","lcpTargetSelector","targetSelector","resourceUrl","trackLargestContentfulPaint","largestContentfulPaint","stopFIDTracking","performanceFirstInputSubscription","firstInputEntry","firstInputDelay","firstInputTargetSelector","trackFirstInput","firstInput","trackCumulativeLayoutShift","viewStart","LAYOUT_SHIFT","biggestShift","maxClsValue","slidingWindow","cumulatedValue","maxValue","isMaxValue","MAX_UPDATE_GAP","MAX_WINDOW_DURATION","slidingSessionWindow","performanceSubscription","hadRecentInput","attribution","WeakRef","previousRect","currentRect","devicePixelRatio","deref","asRumRect","interactionCountEstimate","minKnownInteractionId","maxKnownInteractionId","getInteractionCount","interactionCount","MAX_INTERACTION_ENTRIES","MAX_INP_VALUE","trackInteractionToNextPaint","viewLoadingType","EVENT","PerformanceEventTiming","getInteractionToNextPaint","setViewEnd","getViewInteractionCount","stopViewInteractionCount","interactionId","durationThreshold","previousInteractionCount","computeViewInteractionCount","trackViewInteractionCount","viewEnd","longestInteractions","sortAndTrimLongestInteractions","sort","interactionIndex","findIndex","interaction","minLongestInteraction","estimateP98Interaction","trackLongestInteractions","interactionToNextPaintTargetSelector","interactionToNextPaintStartTime","interactionToNextPaint","handleEntries","newInteraction","getInteractionSelector","firstInputSubscription","eventSubscription","viewEndTime","getScrollX","scrollX","visual","visualViewport","pageLeft","offsetLeft","pageXOffset","getScrollY","scrollY","pageTop","offsetTop","pageYOffset","viewportObservable","initViewportObservable","updateDimension","getViewportDimension","createViewportObservable","scale","innerWidth","innerHeight","THROTTLE_SCROLL_DURATION","trackScrollMetrics","scrollValues","throttleDuration","scrollHeight","scrollingElement","scrollDepth","computeScrollValues","ResizeObserver","throttledNotify","observerTarget","resizeObserver","eventListener","createScrollValuesObservable","maxScrollDepth","maxScrollHeight","maxScrollHeightTime","shouldUpdate","maxDepth","maxDepthScrollTop","trackCommonViewMetrics","loadingType","commonViewMetrics","stopLoadingTimeTracking","loadType","isWaitingForLoadEvent","isWaitingForActivityLoadingTime","loadingTimeCandidates","invokeCallbackIfAllCandidatesAreReceived","loadingTime","trackLoadingTime","newLoadingTime","stopScrollMetricsTracking","newScrollMetrics","stopCLSTracking","cumulativeLayoutShift","stopINPTracking","getCommonViewMetrics","THROTTLE_VIEW_UPDATE_PERIOD","SESSION_KEEP_ALIVE_INTERVAL","KEEP_TRACKING_AFTER_VIEW_DELAY","trackViews","locationChangeObservable","areViewsTrackedAutomatically","activeViews","locationChangeSubscription","currentView","startNewView","viewOptions","newlyCreatedView","initialLocation","customTimings","documentVersion","sessionIsActive","viewCreatedEvent","cancelScheduleViewUpdate","triggerViewUpdate","stopCommonViewMetricsTracking","stopInitialViewMetricsTracking","stopEventCountsTracking","trackViewEventCounts","keepAliveIntervalId","triggerBeforeViewUpdate","currentEnd","isActive","sanitized","sanitizeTiming","updatedName","newView","pageExitEvent","oldLocation","newLocation","currentLocation","otherLocation","hash","correspondingId","isHashAnAnchor","getPathFromHash","renewViewOnLocationChange","startViewCollection","pageOpenObservable","clsDevicePixelRatio","viewEvent","document_version","replay_stats","cls","device_pixel_ratio","cumulative_layout_shift","cumulative_layout_shift_time","cumulative_layout_shift_target_selector","dom_complete","dom_content_loaded","_h","dom_interactive","_j","first_contentful_paint","first_input_delay","_k","first_input_time","_l","first_input_target_selector","_m","interaction_to_next_paint","_o","interaction_to_next_paint_time","interaction_to_next_paint_target_selector","_q","is_active","largest_contentful_paint","_r","largest_contentful_paint_target_selector","_s","load_event","_t","loading_type","computeViewPerformanceData","time_spent","max_depth","max_depth_scroll_top","max_scroll_height","max_scroll_height_time","privacy","replay_level","custom_timings","processViewUpdate","register","score","target_selector","previous_rect","current_rect","fcp","fid","inp","lcp","resource_url","VISIBILITY_CHECK_DELAY","SESSION_CONTEXT_TIMEOUT_DELAY","stopCallbacks","startSessionManager","sessionContextHistory","buildSessionContext","isReplayForced","forcedReplay","trackActivity","expandSessionWhenVisible","visibilityCheckInterval","trackVisibility","trackResume","findSession","startRumSessionManager","rawTrackingType","hasValidRumSession","isTypeTracked","sessionEntity","setForcedReplay","rumSessionType","createBatch","encoder","flushController","upsertBuffer","flushSubscription","flushObservable","upsertMessages","isPageExit","encoderResult","formatPayloadFromEncoder","pendingMessages","flush","addOrUpdate","serializedMessage","estimatedMessageBytesCount","hasMessageFor","removedMessage","messageBytesCount","notifyAfterRemoveMessage","notifyBeforeAddMessage","notifyAfterAddMessage","realMessageBytesCount","upsert","Blob","createFlushController","messagesLimit","durationLimit","pageExitObservable","sessionExpireObservable","pageExitSubscription","sessionExpireSubscription","durationLimitTimeoutId","currentBytesCount","currentMessagesCount","flushReason","messagesCount","cancelDurationLimitTimeout","startRumBatch","telemetryEventObservable","createEncoder","batch","primary","batchFactoryImp","primaryBatch","createBatchFromConfig","replicaBatch","endpoint","replicated","transformMessage","startBatchWithReplica","isTelemetryReplicationAllowed","URL_CONTEXT_TIME_OUT_DELAY","createLocationChangeObservable","stopHistoryTracking","onHistoryChange","stopInstrumentingPushState","getHistoryInstrumentationTarget","stopInstrumentingReplaceState","removeListener","trackHistory","onLocationChange","stopHashTracking","onHashChange","trackHash","History","FEATURE_FLAG_CONTEXT_TIME_OUT_DELAY","MEASURES_PERIOD_DURATION","currentPeriodMeasures","currentBatchMeasures","batchHasRumEvent","sendCurrentPeriodMeasures","batchCount","initCurrentPeriodMeasures","updateMeasure","measure","sum","mergeMeasure","batchBytesCount","batchMessagesCount","globalContextBytes","userContextBytes","featureFlagBytes","initCurrentBatchMeasures","MAX_PAGE_STATE_ENTRIES","MAX_PAGE_STATE_ENTRIES_SELECTABLE","PAGE_STATE_CONTEXT_TIME_OUT_DELAY","startPageStateHistory","maxPageStateEntriesSelectable","pageStateEntryHistory","currentPageState","addPageState","getPageState","stopEventListeners","persisted","computePageState","nextPageState","pageState","page_states","processPageStates","in_foreground","pageStateEntries","eventStartTime","hasFocus","createCookieObservable","cookieName","detectCookieChangeStrategy","changeEvent","changed","deleted","listenToCookieStoreChange","watchCookieFallback","WATCH_COOKIE_INTERVAL_DELAY","previousCookieValue","watchCookieIntervalId","cookieValue","CI_VISIBILITY_TEST_ID_COOKIE_NAME","startSyntheticsContext","testId","_DATADOG_SYNTHETICS_PUBLIC_ID","getSyntheticsTestId","resultId","_DATADOG_SYNTHETICS_RESULT_ID","getSyntheticsResultId","synthetics","test_id","result_id","injected","startRum","hookName","unregister","results","createHooks","telemetry","startTelemetry","startRumTelemetry","setContextProvider","startRumSessionManagerStub","startRumEventBridge","batchFlushObservable","enabled","startCustomerDataTelemetry","characterData","childList","subtree","createDOMMutationObservable","viewValueHistory","buildViewHistoryEntry","viewUpdate","startViewHistory","urlContextHistory","previousViewUrl","viewUrl","buildUrlContext","referrer","changeTime","_ref4","_ref5","startUrlContexts","featureFlagContexts","featureFlagContext","feature_flags","currentContext","startFeatureFlagContexts","stopWindowOpen","createWindowOpenObservable","stopRumEventCollection","actionCollection","actionId","startActionCollection","viewport","animationFrameId","requestAnimationFrame","unsubscribeViewport","viewportDimension","cancelAnimationFrame","startDisplayContext","ciVisibilityContext","cookieObservable","testExecutionId","Cypress","cookieObservableSubscription","ci_test","test_execution_id","startCiVisibilityContext","startRumEventCollection","drainPreStartTelemetry","stopViewCollection","stopResourceCollection","LONG_ANIMATION_FRAME","stopLongAnimationFrameCollection","entry_type","blocking_duration","blockingDuration","first_ui_event_timestamp","firstUIEventTimestamp","render_start","renderStart","style_and_layout_start","styleAndLayoutStart","start_time","script","pause_duration","pauseDuration","forced_style_and_layout_duration","forcedStyleAndLayoutDuration","execution_start","executionStart","source_url","sourceURL","source_function_name","sourceFunctionName","source_char_position","sourceCharPosition","invoker","invoker_type","invokerType","window_attribution","windowAttribution","startLongAnimationFrameCollection","performanceLongTaskSubscription","startLongTaskCollection","vitalCollection","internalContext","viewContext","application_id","session_id","user_action","startInternalContext","getSessionReplayUrl","errorType","rumConfiguration","getSiteDefaultSubdomain","getDatadogSiteUrl","replacer","space","restoreValuePrototypeToJson","getPrototypeOf","restoreValueToJson","objectToJson","originalConsoleMethods","PREFIX","onFirstSubscribe","observers","onLastUnsubscribe","globalObservable","TelemetryType","usage","ALLOWED_FRAME_URLS","TELEMETRY_EXCLUDED_SITES","preStartTelemetryBuffer","onRawTelemetryEventCollected","telemetryService","contextProvider","alreadySentEvents","telemetryEnabled","telemetryEnabledPerType","runtimeEnvInfo","is_local_file","is_worker","stringifiedEvent","runtime_env","sdk_setup","experimental_features","toTelemetryEvent","addTelemetryError","formatError","kind","scrubCustomerFrames","allowedFrameUrl","HAS_MULTI_BYTES_CHARACTERS","concatBuffers","buffers","reduce","total","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","definition","o","chunkId","all","promises","u","miniCssF","obj","prop","inProgress","dataWebpackPrefix","l","needAttach","charset","nc","onScriptComplete","doneFns","toStringTag","installedChunks","j","installedChunkData","promise","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","chunkIds","moreModules","runtime","chunkLoadingGlobal","compressedDataTrailer","compressedData","nextWriteActionId","pendingWriteActions","removeMessageListener","workerResponse","trailer","nextPendingAction","writeCallback","byteLength","finishCallback","consumeResult","sendResetIfNeeded","pendingWriteAction","reportScriptLoadingError","configuredUrl","scriptType","baseMessage","INITIALIZATION_TIME_OUT_DELAY","createDeflateWorker","Worker","createObjectURL","onInitializationFailure","createDeflateWorkerImpl","removeErrorListener","initializationFailureCallbacks","onTimeout","doStartDeflateWorker","getDeflateWorkerStatus","worker_version","stream_id","isBrowserSupported","CSSSupportsRule","NodeList","isRecordingStarted","getErrorType","loadRecorder","getOrCreateDeflateEncoder","stopRecording","doStart","startRecordingImpl","deflateEncoder","canStartRecording","isRecordingInProgress","shouldForceReplay","importRecorder","startRecording","shouldStartImmediately","cachedDeflateEncoder","getReplayStatsImpl","makeRecorderApi","importRecorderImpl","profiler","createRumProfiler","lazyLoadProfiler","makeProfilerApi","datadogRum","DISTANCES","km","marathon","half","mile","Header","_jsx","background","padding","marginBottom","boxShadow","margin","fontSize","textAlign","textTransform","letterSpacing","textShadow","TimeInput","_jsxs","flexDirection","alignItems","onFocus","onBlur","borderRadius","border","SpeedTable","unit","speeds","borderCollapse","backgroundColor","minWidth","borderBottom","minPerMile","minPerKm","mph","kph","SplitRow","totalSplits","gap","flex","seconds","fontWeight","hours","setHours","minutes","setMinutes","setSeconds","pace","setPace","setSpeeds","splits","setSplits","setUnit","distance","setDistance","splitType","setSplitType","splitsVisible","setSplitsVisible","calculatePace","alert","totalSeconds","raceDistance","secondsPerUnit","paceMinutes","paceSeconds","calculateSplits","numSplits","ceil","halfwayPoint","fill","adjustment","firstHalfSeconds","secondHalfSeconds","splitSeconds","calculateSpeeds","kmPerHour","secondsPerMile","paceMinutesPerMile","paceSecondsPerMile","milesPerHour","secondsPerKm","paceMinutesPerKm","paceSecondsPerKm","minHeight","maxWidth","overflowX","justifyContent","gridTemplateColumns","marginTop","maxHeight","overflowY","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","App","reportWebVitals"],"sourceRoot":""}